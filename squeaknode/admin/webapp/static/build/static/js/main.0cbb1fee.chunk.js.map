{"version":3,"sources":["../../../packages/ra-core/esm/dataProvider/useDeclarativeSideEffects.js","../../../packages/ra-core/esm/dataProvider/useDataProviderWithDeclarativeSideEffects.js","../../../packages/ra-core/esm/dataProvider/useMutation.js","../../../packages/ra-core/esm/actions/resourcesActions.js","../../../packages/ra-core/esm/util/getFetchedAt.js","../../../packages/ra-core/esm/reducer/admin/resource/data.js","../../../packages/ra-core/esm/reducer/admin/resource/list/cachedRequests/ids.js","../../../packages/ra-core/esm/reducer/admin/resource/list/cachedRequests/total.js","../../../packages/ra-core/esm/reducer/admin/resource/list/cachedRequests/validity.js","../../../packages/ra-core/esm/reducer/admin/resource/list/cachedRequests.js","../../../packages/ra-core/esm/reducer/admin/resource/list/expanded.js","../../../packages/ra-core/esm/actions/dataActions/crudGetList.js","../../../packages/ra-core/esm/actions/dataActions/crudCreate.js","../../../packages/ra-core/esm/reducer/admin/resource/list/ids.js","../../../packages/ra-core/esm/reducer/admin/resource/list/loadedOnce.js","../../../packages/ra-core/esm/reducer/admin/resource/list/params.js","../../../packages/ra-core/esm/actions/dataActions/crudDelete.js","../../../packages/ra-core/esm/reducer/admin/resource/list/selectedIds.js","../../../packages/ra-core/esm/reducer/admin/resource/list/total.js","../../../packages/ra-core/esm/reducer/admin/resource/list/index.js","../../../packages/ra-core/esm/reducer/admin/resource/validity.js","../../../packages/ra-core/esm/reducer/admin/resource/index.js","../../../packages/ra-core/esm/reducer/admin/loading.js","../../../packages/ra-core/esm/reducer/admin/notifications.js","../../../packages/ra-core/esm/reducer/admin/references/possibleValues.js","../../../packages/ra-core/esm/actions/dataActions/crudGetMatching.js","../../../packages/ra-core/esm/reducer/admin/references/index.js","../../../packages/ra-core/esm/reducer/admin/ui.js","../../../packages/ra-core/esm/reducer/admin/customQueries.js","../../../packages/ra-core/esm/reducer/admin/index.js","../../../packages/ra-core/esm/reducer/index.js","../../../packages/ra-core/esm/actions/authActions.js","../../../packages/ra-core/esm/sideEffect/auth.js","../../../packages/ra-core/esm/sideEffect/callback.js","../../../packages/ra-core/esm/sideEffect/fetch.js","../../../packages/ra-core/esm/sideEffect/notification.js","../../../packages/ra-core/esm/sideEffect/redirection.js","../../../packages/ra-core/esm/sideEffect/accumulate.js","../../../packages/ra-core/esm/sideEffect/refresh.js","../../../packages/ra-core/esm/sideEffect/undo.js","../../../packages/ra-core/esm/sideEffect/admin.js","../../../packages/ra-core/esm/core/createAdminStore.js","../../../packages/ra-core/esm/i18n/TranslationContext.js","../../../packages/ra-core/esm/i18n/TranslationProvider.js","../../../packages/ra-core/esm/core/CoreAdminContext.js","../../../packages/ra-core/esm/auth/convertLegacyAuthProvider.js","../../../packages/ra-core/esm/auth/types.js","../../../packages/ra-language-english/esm/index.js","../../../packages/ra-i18n-polyglot/esm/index.js","../../../packages/react-admin/esm/defaultI18nProvider.js","../../../packages/react-admin/esm/AdminContext.js","../../../packages/ra-core/esm/auth/useCheckAuth.js","../../../packages/ra-core/esm/auth/useAuthenticated.js","../../../packages/ra-core/esm/auth/useGetPermissions.js","../../../packages/ra-core/esm/auth/usePermissionsOptimized.js","../../../packages/ra-core/esm/auth/WithPermissions.js","../../../packages/ra-core/esm/core/RoutesWithLayout.js","../../../packages/ra-core/esm/auth/useAuthState.js","../../../packages/ra-core/esm/core/CoreAdminRouter.js","../../../packages/ra-core/esm/core/useScrollToTop.js","../../../packages/ra-core/esm/util/Ready.js","../../../packages/ra-core/esm/core/CoreAdminUI.js","../../../packages/ra-core/esm/util/ComponentPropType.js","../../../packages/ra-core/esm/i18n/useTranslate.js","../../../packages/ra-ui-materialui/esm/layout/SidebarToggleButton.js","../../../packages/ra-ui-materialui/esm/layout/useToggleSidebar.js","../../../packages/ra-ui-materialui/esm/button/RefreshIconButton.js","../../../packages/ra-ui-materialui/esm/layout/LoadingIndicator.js","../../../packages/ra-core/esm/auth/useGetIdentity.js","../../../packages/ra-ui-materialui/esm/layout/UserMenu.js","../../../packages/ra-ui-materialui/esm/layout/HideOnScroll.js","../../../packages/ra-ui-materialui/esm/layout/AppBar.js","../../../packages/ra-core/esm/i18n/useLocale.js","../../../packages/ra-ui-materialui/esm/layout/Sidebar.js","../../../packages/ra-core/esm/core/useGetResourceLabel.js","../../../packages/ra-ui-materialui/esm/layout/MenuItemLink.js","../../../packages/ra-ui-materialui/esm/layout/DashboardMenuItem.js","../../../packages/ra-ui-materialui/esm/layout/Menu.js","../../../packages/ra-ui-materialui/esm/layout/Notification.js","../../../packages/ra-ui-materialui/esm/layout/Title.js","../../../packages/ra-ui-materialui/esm/layout/Error.js","../../../packages/ra-ui-materialui/esm/defaultTheme.js","../../../packages/ra-ui-materialui/esm/button/Button.js","../../../packages/ra-ui-materialui/esm/button/SkipNavigationButton.js","../../../packages/ra-ui-materialui/esm/layout/createMuiTheme.js","../../../packages/ra-ui-materialui/esm/layout/Layout.js","../../../packages/ra-ui-materialui/esm/layout/NotFound.js","../../../packages/ra-ui-materialui/esm/layout/Loading.js","../../../packages/ra-ui-materialui/esm/layout/LoadingPage.js","../../../packages/ra-core/esm/auth/useLogin.js","../../../packages/ra-ui-materialui/esm/auth/LoginForm.js","../../../packages/ra-ui-materialui/esm/auth/Login.js","../../../packages/ra-ui-materialui/esm/auth/Logout.js","../../../packages/react-admin/esm/AdminUI.js","../../../packages/react-admin/esm/Admin.js","../../../packages/ra-core/esm/core/ResourceContext.js","../../../packages/ra-core/esm/core/ResourceContextProvider.js","../../../packages/ra-core/esm/core/Resource.js","authProvider.ts","configuration/actions.ts","themeReducer.ts","layout/Logo.tsx","layout/AppBar.tsx","../../../packages/ra-core/esm/form/validate.js","../../../packages/ra-core/esm/form/isRequired.js","../../../packages/ra-core/esm/form/FormGroupContext.js","../../../packages/ra-core/esm/form/FormContext.js","../../../packages/ra-core/esm/form/useFormContext.js","../../../packages/ra-core/esm/form/useInput.js","../../../packages/ra-core/esm/form/useFormGroupContext.js","../../../packages/ra-core/esm/util/getFieldLabelTranslationArgs.js","../../../packages/ra-core/esm/util/FieldTitle.js","../../../packages/ra-ui-materialui/esm/input/ResettableTextField.js","../../../packages/ra-core/esm/form/ValidationError.js","../../../packages/ra-ui-materialui/esm/input/InputHelperText.js","../../../packages/ra-ui-materialui/esm/input/sanitizeInputRestProps.js","../../../packages/ra-ui-materialui/esm/input/TextInput.js","../../../packages/ra-ui-materialui/esm/input/SearchInput.js","../../../packages/ra-ui-materialui/esm/input/DateInput.js","../../../packages/ra-ui-materialui/esm/input/NullableBooleanInput.js","../../../packages/ra-core/esm/controller/checkMinimumRequiredProps.js","../../../packages/ra-core/esm/util/removeEmpty.js","../../../packages/ra-core/esm/util/removeKey.js","../../../packages/ra-core/esm/reducer/admin/resource/list/queryReducer.js","../../../packages/ra-core/esm/controller/useListParams.js","../../../packages/ra-core/esm/controller/useRecordSelection.js","../../../packages/ra-core/esm/export/defaultExporter.js","../../../packages/ra-core/esm/export/downloadCSV.js","../../../packages/ra-core/esm/core/useResourceContext.js","../../../packages/ra-core/esm/controller/useListController.js","../../../packages/ra-core/esm/controller/ListContext.js","../../../packages/ra-core/esm/controller/ListFilterContext.js","../../../packages/ra-core/esm/controller/ListSortContext.js","../../../packages/ra-core/esm/controller/ListPaginationContext.js","../../../packages/ra-core/esm/controller/ListContextProvider.js","../../../packages/ra-core/esm/controller/useListContext.js","../../../packages/ra-ui-materialui/esm/list/filter/FilterFormInput.js","../../../packages/ra-ui-materialui/esm/list/FilterContext.js","../../../packages/ra-ui-materialui/esm/list/filter/FilterForm.js","../../../packages/ra-ui-materialui/esm/list/ListToolbar.js","../../../packages/ra-core/esm/controller/useListPaginationContext.js","../../../packages/ra-ui-materialui/esm/list/pagination/PaginationActions.js","../../../packages/ra-ui-materialui/esm/list/pagination/PaginationLimit.js","../../../packages/ra-ui-materialui/esm/list/pagination/Pagination.js","../../../packages/ra-core/esm/actions/dataActions/crudDeleteMany.js","../../../packages/ra-ui-materialui/esm/layout/Confirm.js","../../../packages/ra-ui-materialui/esm/button/BulkDeleteWithConfirmButton.js","../../../packages/ra-ui-materialui/esm/button/BulkDeleteWithUndoButton.js","../../../packages/ra-ui-materialui/esm/button/BulkDeleteButton.js","../../../packages/ra-ui-materialui/esm/layout/TopToolbar.js","../../../packages/ra-ui-materialui/esm/list/BulkActionsToolbar.js","../../../packages/ra-core/esm/core/useResourceDefinition.js","../../../packages/ra-ui-materialui/esm/button/CreateButton.js","../../../packages/ra-core/esm/export/fetchRelatedRecords.js","../../../packages/ra-ui-materialui/esm/button/ExportButton.js","../../../packages/ra-ui-materialui/esm/list/filter/FilterButtonMenuItem.js","../../../packages/ra-ui-materialui/esm/list/filter/FilterButton.js","../../../packages/ra-ui-materialui/esm/list/ListActions.js","../../../packages/ra-ui-materialui/esm/list/Empty.js","../../../packages/ra-ui-materialui/esm/list/ListView.js","../../../packages/ra-ui-materialui/esm/list/List.js","../../../packages/ra-ui-materialui/esm/list/datagrid/DatagridHeaderCell.js","../../../packages/ra-ui-materialui/esm/list/datagrid/DatagridHeader.js","../../../packages/ra-ui-materialui/esm/list/Placeholder.js","../../../packages/ra-ui-materialui/esm/list/datagrid/DatagridLoading.js","../../../packages/ra-core/esm/controller/useExpanded.js","../../../packages/ra-core/esm/controller/RecordContext.js","../../../packages/ra-ui-materialui/esm/list/datagrid/DatagridCell.js","../../../packages/ra-ui-materialui/esm/list/datagrid/ExpandRowButton.js","../../../packages/ra-ui-materialui/esm/list/datagrid/DatagridContext.js","../../../packages/ra-ui-materialui/esm/list/datagrid/DatagridRow.js","../../../packages/ra-ui-materialui/esm/list/datagrid/useDatagridContext.js","../../../packages/ra-ui-materialui/esm/list/datagrid/DatagridBody.js","../../../packages/ra-ui-materialui/esm/list/datagrid/useDatagridStyles.js","../../../packages/ra-ui-materialui/esm/list/datagrid/DatagridContextProvider.js","../../../packages/ra-ui-materialui/esm/list/datagrid/Datagrid.js","../../../packages/ra-ui-materialui/esm/field/sanitizeFieldRestProps.js","../../../packages/ra-ui-materialui/esm/field/types.js","../../../packages/ra-ui-materialui/esm/field/DateField.js","../../../packages/ra-ui-materialui/esm/field/NumberField.js","../../../packages/ra-ui-materialui/esm/field/BooleanField.js","segments/data.ts","visitors/SegmentsField.tsx","../../../packages/ra-core/esm/form/useChoices.js","../../../packages/ra-ui-materialui/esm/input/Labeled.js","../../../packages/ra-ui-materialui/esm/layout/LinearProgress.js","../../../packages/ra-ui-materialui/esm/input/useSupportCreateSuggestion.js","../../../packages/ra-ui-materialui/esm/input/SelectInput.js","visitors/SegmentInput.tsx","../../../packages/ra-ui-materialui/esm/Link.js","visitors/AvatarField.tsx","visitors/FullNameField.tsx","visitors/CustomerLinkField.tsx","visitors/ColoredNumberField.tsx","../../../packages/ra-ui-materialui/esm/button/EditButton.js","visitors/MobileGrid.tsx","../../../packages/ra-core/esm/controller/useListFilterContext.js","../../../packages/ra-ui-materialui/esm/list/filter/FilterLiveSearch.js","../../../packages/ra-ui-materialui/esm/list/filter/FilterList.js","../../../packages/ra-ui-materialui/esm/list/filter/FilterListItem.js","visitors/VisitorListAside.tsx","visitors/VisitorList.tsx","../../../packages/ra-core/esm/controller/saveModifiers.js","../../../packages/ra-core/esm/controller/details/useCreateController.js","../../../packages/ra-core/esm/controller/details/CreateContext.js","../../../packages/ra-core/esm/controller/details/SaveContext.js","../../../packages/ra-core/esm/controller/details/CreateContextProvider.js","../../../packages/ra-core/esm/controller/details/useCreateContext.js","../../../packages/ra-ui-materialui/esm/layout/TitleForRecord.js","../../../packages/ra-ui-materialui/esm/detail/CreateView.js","../../../packages/ra-ui-materialui/esm/detail/Create.js","../../../packages/ra-core/esm/form/useResetSubmitErrors.js","../../../packages/ra-core/esm/form/sanitizeEmptyValues.js","../../../packages/ra-core/esm/form/getFormInitialValues.js","../../../packages/ra-core/esm/form/FormContextProvider.js","../../../packages/ra-core/esm/form/submitErrorsMutators.js","../../../packages/ra-core/esm/form/useWarnWhenUnsavedChanges.js","../../../packages/ra-core/esm/form/FormWithRedirect.js","../../../packages/ra-ui-materialui/esm/form/FormInput.js","../../../packages/ra-ui-materialui/esm/button/SaveButton.js","../../../packages/ra-core/esm/util/getMutationMode.js","../../../packages/ra-core/esm/controller/button/useDeleteWithUndoController.js","../../../packages/ra-ui-materialui/esm/button/DeleteWithUndoButton.js","../../../packages/ra-core/esm/controller/button/useDeleteWithConfirmController.js","../../../packages/ra-ui-materialui/esm/button/DeleteWithConfirmButton.js","../../../packages/ra-ui-materialui/esm/button/DeleteButton.js","../../../packages/ra-ui-materialui/esm/form/Toolbar.js","../../../packages/ra-ui-materialui/esm/layout/CardContentInner.js","../../../packages/ra-ui-materialui/esm/form/SimpleFormView.js","../../../packages/ra-ui-materialui/esm/form/SimpleForm.js","../../../packages/ra-ui-materialui/esm/input/PasswordInput.js","visitors/VisitorCreate.tsx","../../../packages/ra-core/esm/actions/dataActions/crudGetOne.js","../../../packages/ra-core/esm/actions/dataActions/crudUpdate.js","../../../packages/ra-core/esm/controller/details/useEditController.js","../../../packages/ra-core/esm/controller/details/EditContext.js","../../../packages/ra-core/esm/controller/details/EditContextProvider.js","../../../packages/ra-core/esm/controller/details/useEditContext.js","../../../packages/ra-ui-materialui/esm/button/ShowButton.js","../../../packages/ra-ui-materialui/esm/detail/EditActions.js","../../../packages/ra-ui-materialui/esm/detail/EditView.js","../../../packages/ra-ui-materialui/esm/detail/Edit.js","../../../packages/ra-ui-materialui/esm/field/TextField.js","../../../packages/ra-core/esm/controller/field/getResourceLinkPath.js","../../../packages/ra-core/esm/controller/useReference.js","../../../packages/ra-ui-materialui/esm/field/ReferenceField.js","../../../packages/ra-core/esm/controller/input/referenceDataStatus.js","../../../packages/ra-core/esm/controller/usePaginationState.js","../../../packages/ra-core/esm/controller/useSortState.js","../../../packages/ra-core/esm/controller/useFilterState.js","../../../packages/ra-core/esm/controller/useSelectionState.js","../../../packages/ra-core/esm/controller/input/useReferenceInputController.js","../../../packages/ra-ui-materialui/esm/input/ReferenceError.js","../../../packages/ra-ui-materialui/esm/input/ReferenceInput.js","../../../packages/ra-core/esm/form/useSuggestions.js","../../../packages/ra-ui-materialui/esm/input/AutocompleteSuggestionList.js","../../../packages/ra-ui-materialui/esm/input/AutocompleteSuggestionItem.js","../../../packages/ra-ui-materialui/esm/input/AutocompleteInputLoader.js","../../../packages/ra-ui-materialui/esm/input/AutocompleteInput.js","../../../packages/ra-core/esm/util/mergeRefs.js","../../../packages/ra-ui-materialui/esm/field/FunctionField.js","orders/NbItemsField.tsx","visitors/CustomerReferenceField.tsx","visitors/AddressField.tsx","orders/MobileGrid.tsx","orders/OrderList.tsx","../../../packages/ra-ui-materialui/esm/input/InputPropTypes.js","../../../packages/ra-ui-materialui/esm/input/BooleanInput.js","orders/Basket.tsx","orders/Totals.tsx","orders/OrderEdit.tsx","orders/index.ts","../../../packages/ra-core/esm/actions/dataActions/crudUpdateMany.js","reviews/BulkAcceptButton.tsx","reviews/BulkRejectButton.tsx","reviews/ReviewListMobile.tsx","products/ProductReferenceField.tsx","reviews/StarRatingField.tsx","reviews/rowStyle.tsx","reviews/ReviewListDesktop.tsx","reviews/reviewFilters.tsx","reviews/AcceptButton.tsx","reviews/RejectButton.tsx","reviews/ReviewEditToolbar.tsx","reviews/ReviewEdit.tsx","reviews/ReviewList.tsx","reviews/index.ts","visitors/Aside.tsx","../../../packages/ra-ui-materialui/esm/input/SelectArrayInput.js","visitors/SegmentsInput.tsx","visitors/VisitorEdit.tsx","visitors/index.ts","invoices/InvoiceShow.tsx","../../../packages/ra-core/esm/controller/details/useShowController.js","invoices/InvoiceList.tsx","invoices/index.ts","../../../packages/ra-ui-materialui/esm/input/NumberInput.js","../../../packages/ra-core/esm/controller/useListSortContext.js","../../../packages/ra-ui-materialui/esm/button/SortButton.js","../../../packages/ra-core/esm/controller/ListBase.js","products/GridList.tsx","products/Aside.tsx","products/ProductList.tsx","../../../packages/ra-core/esm/util/escapePath.js","../../../packages/ra-ui-materialui/esm/form/TabbedFormTabs.js","../../../packages/ra-ui-materialui/esm/form/TabbedFormView.js","../../../packages/ra-ui-materialui/esm/form/TabbedForm.js","../../../packages/ra-core/esm/form/FormGroupContextProvider.js","../../../packages/ra-core/esm/form/useFormGroup.js","../../../packages/ra-ui-materialui/esm/form/FormTabHeader.js","../../../packages/ra-ui-materialui/esm/form/FormTab.js","../../../packages/ra-core/esm/controller/field/useReferenceManyFieldController.js","../../../packages/ra-ui-materialui/esm/field/ReferenceManyField.js","../../../packages/ra-input-rich-text/esm/QuillSnowStylesheet.js","../../../packages/ra-input-rich-text/esm/styles.js","../../../packages/ra-input-rich-text/esm/index.js","products/Poster.tsx","products/ProductCreate.tsx","products/ProductEdit.tsx","products/index.tsx","categories/LinkToRelatedProducts.tsx","categories/CategoryList.tsx","products/ThumbnailField.tsx","products/ProductRefField.tsx","categories/CategoryEdit.tsx","categories/index.ts","layout/SubMenu.tsx","layout/Menu.tsx","layout/themes.ts","layout/Layout.tsx","layout/Login.tsx","dashboard/welcome_illustration.svg","dashboard/Welcome.tsx","dashboard/CardWithIcon.tsx","dashboard/cartoucheDark.png","dashboard/cartouche.png","dashboard/MonthlyRevenue.tsx","dashboard/NbNewOrders.tsx","dashboard/PendingOrders.tsx","dashboard/PendingReviews.tsx","dashboard/NewCustomers.tsx","dashboard/OrderChart.tsx","dashboard/Dashboard.tsx","dashboard/index.ts","../../../packages/ra-core/esm/i18n/useSetLocale.js","../../../packages/ra-core/esm/loading/useUpdateLoading.js","configuration/Configuration.tsx","segments/LinkToRelatedCustomers.tsx","segments/Segments.tsx","routes.tsx","i18n/en.ts","fakeServer/index.ts","dataProvider/index.ts","App.tsx","index.tsx","../../../packages/ra-core/esm/sideEffect/useRefresh.js","../../../packages/ra-core/esm/dataProvider/useRefreshWhenVisible.js","../../../packages/ra-core/esm/dataProvider/useDeleteMany.js","../../../packages/ra-core/esm/dataProvider/useCreate.js","../../../packages/ra-core/esm/dataProvider/useDelete.js","../../../packages/ra-core/esm/dataProvider/useGetOne.js","../../../packages/ra-core/esm/dataProvider/useUpdate.js","../../../packages/ra-core/esm/dataProvider/useUpdateMany.js","../../../packages/ra-core/esm/dataProvider/useGetManyReference.js","../../../packages/ra-core/esm/dataProvider/convertLegacyDataProvider.js","../../../packages/ra-core/esm/dataProvider/useGetMany.js","../../../packages/ra-core/esm/actions/dataActions/crudGetMany.js","../../../packages/ra-core/esm/actions/clearActions.js","../../../packages/ra-core/esm/sideEffect/useUnselectAll.js","../../../packages/ra-core/esm/sideEffect/useRedirect.js","../../../packages/ra-core/esm/dataProvider/useQueryWithStore.js","../../../packages/ra-core/esm/auth/useLogoutIfAccessDenied.js","../../../packages/ra-core/esm/dataProvider/defaultDataProvider.js","../../../packages/ra-core/esm/dataProvider/performQuery/performOptimisticQuery.js","../../../packages/ra-core/esm/dataProvider/performQuery/performUndoableQuery.js","../../../packages/ra-core/esm/dataProvider/performQuery/performPessimisticQuery.js","../../../packages/ra-core/esm/dataProvider/performQuery/answerWithCache.js","../../../packages/ra-core/esm/dataProvider/replyWithCache.js","../../../packages/ra-core/esm/dataProvider/performQuery/doQuery.js","../../../packages/ra-core/esm/dataProvider/performQuery/stackedCalls.js","../../../packages/ra-core/esm/dataProvider/useDataProvider.js","../../../packages/ra-core/esm/controller/useVersion.js","../../../packages/ra-core/esm/reducer/admin/references/oneToMany.js","../../../packages/ra-core/esm/util/warning.js","../../../packages/ra-core/esm/sideEffect/useNotify.js","../../../packages/ra-core/esm/auth/useLogout.js","../../../packages/ra-core/esm/dataProvider/getDataProviderCallArguments.js","../../../packages/ra-core/esm/util/resolveRedirectTo.js","../../../packages/ra-core/esm/util/linkToRecord.js","../../../packages/ra-core/esm/actions/dataActions/crudGetManyReference.js","../../../packages/ra-core/esm/actions/fetchActions.js","../../../packages/ra-core/esm/dataProvider/useIsAutomaticRefreshEnabled.js","../../../packages/ra-core/esm/dataProvider/useGetMainList.js","../../../packages/ra-core/esm/dataProvider/DataProviderContext.js","../../../packages/ra-core/esm/dataProvider/undoableEventEmitter.js","../../../packages/ra-core/esm/dataProvider/useGetList.js","../../../packages/ra-core/esm/actions/notificationActions.js","../../../packages/ra-core/esm/auth/AuthContext.js","../../../packages/ra-core/esm/core/dataFetchActions.js","../../../packages/ra-core/esm/auth/useAuthProvider.js","../../../packages/ra-core/esm/actions/uiActions.js","../../../packages/ra-core/esm/dataProvider/getFetchType.js","../../../packages/ra-core/esm/util/hooks.js","../../../packages/ra-core/esm/actions/undoActions.js","../../../packages/ra-core/esm/actions/listActions.js"],"names":["defaultSideEffects","onSuccess","undefined","onFailure","useDeclarativeSideEffects","notify","useNotify","redirect","useRedirect","refresh","useRefresh","unselectAll","useUnselectAll","useMemo","resource","_a","_b","convertToFunctionSideEffect","sideEffects","Object","keys","length","notification","redirectTo","needRefresh","needUnselectAll","body","level","messageArgs","__assign","assign","t","s","i","n","arguments","p","prototype","hasOwnProperty","call","apply","this","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__spreadArray","to","from","pack","ar","l","Array","slice","concat","useDataProviderWithDeclarativeSideEffects","dataProvider","useDataProvider","getSideEffects","Proxy","get","target","name","args","_i","getDataProviderCallArguments","payload","allArguments","options","finalOptions","finalAllArguments","some","key","includes","sideEffect","otherOptions","toString","Promise","reject","mergeDefinitionAndCallTimeParameters","query","callTimeQuery","callTimeOptions","Event","Error","preventDefault","type","sanitizeOptions","merge","hasDeclarativeSideEffectsSupport","withDeclarativeSideEffectsSupport","useMutation","useSafeSetState","data","error","total","loading","loaded","state","setState","dataProviderWithDeclarativeSideEffects","useCallback","finalDataProvider","params","prevState","returnPromise","promise","then","response","catch","errorFromResponse","JSON","stringify","REGISTER_RESOURCE","UNREGISTER_RESOURCE","getFetchedAt","newRecordIds","oldRecordFetchedAt","now","cacheDuration","Date","newFetchedAt","forEach","recordId","latestValidDate","setTime","getTime","stillValidFetchedAt","pickBy","date","hideFetchedAt","records","defineProperty","enumerable","configurable","writable","addRecordsAndRemoveOutdated","newRecords","oldRecords","newRecordsById","record","id","map","fetchedAt","isEqual","addOneRecord","newRecord","value","includesNotStrict","items","element","item","removeRecords","removedRecordIds","entries","filter","reduce","obj","val","initialState","dataReducer","previousState","meta","optimistic","fetch","UPDATE","updatedRecord","UPDATE_MANY","updatedRecords","ids","DELETE","DELETE_MANY","fetchResponse","fetchStatus","FETCH_END","GET_LIST","GET_MANY","GET_MANY_REFERENCE","addRecords","updatedFetchedAt","CREATE","GET_ONE","idsReducer","action","totalReducer","validityReducer","validUntil","initialSubstate","validity","cachedRequestsReducer","REFRESH_VIEW","hard","newState_1","fromCache","requestKey","requestPayload","previousSubState","expanded","TOGGLE_LIST_ITEM_EXPAND","index","el","CRUD_GET_LIST","CRUD_GET_LIST_SUCCESS","CRUD_CREATE","uniq","loadedOnce","defaultState","sort","order","page","perPage","paramsReducer","CRUD_CHANGE_LIST_PARAMS","CRUD_DELETE","selectedIdsReducer","SET_LIST_SELECTED_IDS","TOGGLE_LIST_ITEM","defaultReducer","combineReducers","cachedRequests","selectedIds","addIds","oldValidityRegistry","validityRegistry","removeIds","loadingReducer","FETCH_START","FETCH_ERROR","FETCH_CANCEL","Math","max","notificationsReducer","SHOW_NOTIFICATION","HIDE_NOTIFICATION","UNDO","RESET_NOTIFICATION","getNotification","admin","notifications","possibleValuesreducer","relatedTo","oneToMany","possibleValues","automaticRefreshEnabled","sidebarOpen","isDesktop","window","matchMedia","matches","viewVersion","uiReducer","TOGGLE_SIDEBAR","SET_SIDEBAR_VISIBILITY","SET_AUTOMATIC_REFRESH","START_OPTIMISTIC_MODE","STOP_OPTIMISTIC_MODE","customQueriesReducer","resources","resourceState","props","list","acc","customQueries","references","ui","getResources","resourceGetResources","adminGetResources","USER_LOGIN","USER_CHECK","USER_LOGOUT","__generator","thisArg","f","y","g","_","label","sent","trys","ops","next","verb","Symbol","iterator","v","step","op","TypeError","done","pop","push","authProvider","watchAuthActions","all","takeEvery","handleLogin","handleCheck","handleLogout","takeLatest","handleFetchError","nextPathnameSelector","locationState","router","location","nextPathname","currentPathnameSelector","getErrorMessage","defaultMessage","message","authPayload","e_1","errorMessage","put","pathName","select","auth","showNotification","error_1","replace","pathname","clearState","hideNotification","handleCallback","callback","handleFetch","fetchMeta","restType","successSideEffects","failureSideEffects","Function","sanitizeFetchType","cancelled","takeFetchAction","watchFetch","handleNotification","_c","_d","undoable","handleRedirection","basePath","refreshView","resolveRedirectTo","oldIds","oldIdsSet","Set","add","finalizeFactory","tasks","accumulations","finalize","actionCreator","accumulatedValue","delay","accumulateFactory","accumulate","accumulateValues","accumulateKey","cancel","fork","handleRefresh","handleUndoRace","undoableAction","metaWithoutSideEffects","complete","startOptimisticMode","race","undo","take","COMPLETE","stopOptimisticMode","watchUndoable","UNDOABLE","redirection","history","customReducers","customSagas","appReducer","connectRouter","createAppReducer","sagaMiddleware","createSagaMiddleware","composeEnhancers","compose","store","createStore","resettableAppReducer","CLEAR_STATE","applyMiddleware","routerMiddleware","run","rootSaga","adminSaga","TranslationContext","createContext","locale","setLocale","i18nProvider","translate","x","changeLocale","resolve","getLocale","displayName","TranslationProvider","children","newLocale","React","createElement","Provider","Children","only","CoreAdminContext","reduxIsAlreadyInitialized","useContext","ReactReduxContext","finalAuthProvider","legacyAuthProvider","login","logout","checkAuth","checkError","getPermissions","convertLegacyAuthProvider","convertLegacyDataProvider","finalHistory","createHashHistory","renderCore","AuthContext","DataProviderContext","ConnectedRouter","useState","createAdminStore","englishMessages","ra","add_filter","back","bulk_actions","clear_input_value","clone","confirm","create","create_item","delete","edit","export","remove_filter","remove","save","search","select_all","select_row","show","unselect","expand","close","open_menu","close_menu","update","move_up","move_down","boolean","true","false","null","dashboard","not_found","empty","invite","input","file","upload_several","upload_single","image","all_missing","many_missing","single_missing","password","toggle_visible","toggle_hidden","about","are_you_sure","bulk_delete_content","bulk_delete_title","bulk_update_content","bulk_update_title","delete_content","delete_title","details","invalid_form","no","yes","unsaved_changes","navigation","no_results","no_more_results","page_out_of_boundaries","page_out_from_end","page_out_from_begin","page_range_info","page_rows_per_page","prev","skip_nav","sort_by","ASC","DESC","auth_check_error","user_menu","username","sign_in","sign_in_error","updated","created","deleted","bad_item","item_doesnt_exist","http_error","data_provider_error","i18n_error","canceled","logged_out","not_authorized","validation","required","minLength","maxLength","minValue","maxValue","number","email","oneOf","regex","getMessages","initialLocale","polyglotOptions","messages","polyglot","Polyglot","phrases","bind","newPolyglot","polyglotI18nProvider","defaultMessages","allowMissing","AdminContext","defaultProps","defaultI18nProvider","checkAuthWithoutAuthProvider","useCheckAuth","useAuthProvider","useLogout","logoutOnFailure","disableNotification","defaultAuthParams","loginUrl","emptyParams","useEffect","getPermissionsWithoutProvider","useGetPermissions","alreadyFetchedPermissions","usePermissionsOptimized","permissions","isEmptyChildren","count","WithPermissions","authParams","render","component","rest","staticContext","warning","useAuthenticated","route","RoutesWithLayout","catchAll","customRoutes","title","childrenAsArray","toArray","firstChild","Switch","cloneElement","child","Route","path","intent","exact","routeProps","Redirect","useAuthState","authenticated","__awaiter","_arguments","P","generator","fulfilled","rejected","result","adopt","CoreAdminRouter","doLogout","oneSecondHasPassed","useTimeout","computedChildren","setComputedChildren","useScrollToTop","useHistory","listen","_scrollToTop","scrollTo","initializeResources","resolveChildren","childrenFuncResult","resolvedChildren","console","renderCustomRoutesWithoutLayout","layout","LoadingPage","menu","Ready","ready","theme","isArray","noLayout","childrenToRender","DefaultLayout","Noop","CoreAdminUI","disableTelemetry","_e","_f","loginPage","_g","_h","logoutElement","Image","src","hostname","propName","componentName","isValidElementType","identity","useTranslate","SidebarToggleButton","classes","useStyles","className","useToggleSidebar","open","useSelector","dispatch","useDispatch","toggle","toggleSidebar","Tooltip","enterDelay","IconButton","color","onClick","MenuIcon","root","menuButtonIconOpen","menuButtonIconClosed","makeStyles","transition","transitions","easing","sharp","duration","leavingScreen","transform","RefreshIconButton","icon","defaultIcon","handleClick","event","NavigationRefresh","propTypes","PropTypes","string","LoadingIndicator","useRefreshWhenVisible","useTheme","CircularProgress","classNames","loader","size","spacing","thickness","loadedIcon","margin","object","width","defaultIdentity","fullName","useGetIdentity","getIdentity","callAuthProvider","AccountCircle","user","userButton","textTransform","avatar","height","AnchorOrigin","vertical","horizontal","TransformOrigin","UserMenu","anchorEl","setAnchorEl","Boolean","handleMenu","currentTarget","handleClose","Button","startIcon","Avatar","alt","Menu","disableScrollLock","anchorOrigin","transformOrigin","getContentAnchorEl","onClose","menuItem","isValidElement","node","HideOnScroll","trigger","useScrollTrigger","Slide","appear","direction","in","isRequired","AppBar","userMenu","Container","container","sidebarToggleButtonClasses","isXSmall","useMediaQuery","breakpoints","down","MuiAppBar","Toolbar","disableGutters","variant","toolbar","menuButton","Typography","DefaultUserMenu","ComponentPropType","bool","oneOfType","paddingRight","marginLeft","marginRight","flex","textOverflow","whiteSpace","overflow","memo","useLocale","Sidebar","closedSize","setSidebarVisibility","drawerPaper","fixed","Drawer","PaperProps","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedTop","paperAnchorDockedRight","paperAnchorDockedBottom","modal","position","overflowX","scrollbarWidth","msOverflowStyle","display","lodashGet","backgroundColor","borderRight","marginTop","palette","background","default","up","border","zIndex","useGetResourceLabel","useStore","resourceDefinition","getState","find","r","smart_count","inflection","humanize","pluralize","singularize","NavLinkRef","forwardRef","ref","NavLink","innerRef","text","secondary","active","primary","minWidth","MenuItemLink","primaryText","leftIcon","tooltipProps","sidebarIsOpen","isSmall","handleMenuTap","renderMenuItem","MenuItem","classnames","activeClassName","tabIndex","ListItemIcon","titleAccess","placement","func","DashboardMenuItem","DashboardIcon","dense","main","flexDirection","justifyContent","marginBottom","closed","shallowEqual","getResourceLabel","hasDashboard","hasList","DefaultIcon","onMenuClick","success","contrastText","dark","light","multiLine","Notification","autoHideDuration","setOpen","styles","handleRequestClose","handleExited","undoableEventEmitter","emit","isUndo","handleUndo","Snackbar","disableWindowBlurListener","TransitionProps","onExited","ContentProps","Title","defaultTitle","document","getElementById","titleElement","createPortal","TitlePropType","any","alignItems","padding","fontFamily","opacity","panel","maxWidth","panelDetails","advice","goBack","go","errorInfo","Fragment","role","ErrorIcon","process","History","typography","h6","fontWeight","sidebar","closedWidth","overrides","MuiFilledInput","MuiButtonBase","content","top","right","borderRadius","disableRipple","alignIcon","disabled","restProps","sanitizeButtonRestProps","MuiButton","button","labelRightIcon","paddingLeft","smallIcon","fontSize","mediumIcon","largeIcon","handleSubmit","handleSubmitWithRedirect","invalid","onSave","pristine","saving","submitOnEnter","skipToContent","setAttribute","focus","blur","removeAttribute","skipToContentButton","getContrastText","easeIn","left","easeOut","enteringScreen","SkipNavigationButton","createMuiTheme","createLegacyModeTheme","__extends","extendStatics","d","b","setPrototypeOf","__proto__","String","__","constructor","LayoutWithoutTheme","_super","_this","hasError","componentDidCatch","appBar","ErrorComponent","match","appFrame","contentWithSidebar","DefaultAppBar","DefaultError","DefaultMenu","DefaultNotification","DefaultSidebar","Component","EnhancedLayout","connect","mapStateToProps","withRouter","withStyles","createStyles","minHeight","flexGrow","flexBasis","paddingTop","Layout","themeOverride","themeProp","useRef","setTheme","current","ThemeProvider","defaultTheme","textAlign","NotFound","sanitizeRestProps","HotTub","Loading","loadingPrimary","loadingSecondary","useLogin","useLocation","nextPathName","nextSearch","ret","resetNotification","redirectUrl","afterLoginUrl","loginWithoutProvider","form","Input","touched","inputProps","TextField","helperText","fullWidth","LoginForm","setLoading","Form","onSubmit","submit","values","validate","errors","noValidate","Field","autoFocus","autoComplete","CardActions","Login","muiTheme","LoginView","backgroundImage","DefaultLoginForm","backgroundRepeat","backgroundSize","card","containerRef","backgroundImageLoaded","updateBackgroundImage","style","lazyLoadBackgroundImage","img","onload","Card","LockIcon","LogoutWithRef","Logout","ExitIcon","AdminUI","Admin","appLayout","logoutButton","ResourceContext","ResourceContextProvider","defaultOptions","ResourceRegister","registerResource","hasEdit","hasShow","hasCreate","unregisterResource","resourceName","ResourceRoutes","isRegistered","resourceData","decodeURIComponent","syncWithLocation","Resource","localStorage","setItem","removeItem","getItem","CHANGE_THEME","changeTheme","themeReducer","Logo","viewBox","aria-label","lineHeight","letterSpacing","wordSpacing","strokeWidth","fill","spacer","ConfigurationMenu","CustomUserMenu","CustomAppBar","elevation","EMAIL_REGEX","isEmpty","getMessage","memoize","fn","lodashMemoize","isFunction","combine2Validators","validator1","validator2","result1","isValidationErrorMessageWithArgs","resolvedResult1","min","isNaN","Number","pattern","test","oneOfTypeMessage","it","FormGroupContext","FormContext","useFormContext","useInput","defaultValue","initialValue","source","customOnBlur","onBlur","customOnChange","onChange","customOnFocus","onFocus","isRequiredOption","finalName","formGroupName","useFormGroupContext","formContext","registerField","unregisterField","sanitizedValidate","composeValidators","validators","useFinalFormField","handleBlur","handleChange","handleFocus","FieldTitle","getFieldLabelTranslationArgs","ResettableTextField","clearAlwaysVisible","InputProps","resettable","handleClickClearButton","clearButton","clearIcon","inputAdornedEnd","selectAdornment","visibleClearIcon","restClasses","endAdornment","InputPropsWithoutEndAdornment","MuiTextField","adornedEnd","getEndAdornment","InputAdornment","onMouseDown","handleMouseDownClearButton","ClearIcon","resettableStyles","ValidationError","defaultInnerHTML","__html","InputHelperText","dangerouslySetInnerHTML","sanitizeInputRestProps","afterSubmit","allowEmpty","allowNull","alwaysOn","beforeSubmit","format","formatOnBlur","formClassName","initializeForm","limitChoicesToValue","multiple","optionText","optionValue","parse","submitError","subscription","translateChoice","validateFields","TextInput","SearchInput","hiddenLabel","placeholder","SearchIcon","convertDateToString","getDate","yyyy","getFullYear","MM","getMonth","dd","dateRegex","defaultInputLabelProps","shrink","getStringFromDate","DateInput","InputLabelProps","getBooleanFromString","getStringFromBoolean","NullableBooleanInput","nullLabel","falseLabel","trueLabel","_j","useCheckMinimumRequiredProps","requiredProps","propNames","missingProps","prop","join","removeEmpty","isObject","removeKey","deepRemoveKey","paths","split","deepKey","deep","SET_SORT","SORT_ASC","SORT_DESC","SET_PAGE","SET_PER_PAGE","SET_FILTER","SHOW_FILTER","HIDE_FILTER","oppositeOrder","queryReducer","displayedFilters","filterName","set","filters","emptyObject","defaultSort","field","defaultParams","validQueryParams","parseObject","err","parseQueryFromLocation","k","getQuery","queryFromLocation","filterDefaultValues","hasCustomParams","getNumberOrDefault","possibleNumber","parsedNumber","parseInt","useListParams","debounce","localParams","setLocalParams","reduxState","tempParams","requestSignature","changeListParams","changeParams","setTimeout","setSort","setPage","newPage","setPerPage","newPerPage","filterValues","displayedFilterValues","debouncedSetFilters","lodashDebounce","setFilters","hideFilter","showFilter","defaultRecords","useRecordSelection","newIds","setListSelectedIds","toggleListItem","clearSelection","defaultExporter","jsonExport","csv","filename","fakeLink","appendChild","blob","Blob","navigator","msSaveOrOpenBlob","URL","createObjectURL","click","downloadCSV","useResourceContext","context","injectedProps","sanitizeListRestProps","useListController","exporter","queryModifiers","selectionModifiers","useGetMainList","refetch","totalPages","ceil","currentSort","onSelect","onToggleItem","onUnselectItems","ListContext","ListFilterContext","usePickFilterContext","pick","ListSortContext","usePickSortContext","ListPaginationContext","usePickPaginationContext","ListContextProvider","useListContext","defaults","extractListContextProps","emptyRecord","pointerEvents","hideButton","FilterFormInput","filterElement","handleHide","ActionHide","FilterContext","FilterForm","initialValues","dataset","getShownFilters","clearFix","arrayOf","flexWrap","clear","dirty","dirtyFields","dirtyFieldsSinceLastSubmit","dirtySinceLastSubmit","hasSubmitErrors","hasValidationErrors","modified","modifiedSinceLastSubmit","submitErrors","submitFailed","submitSucceeded","submitting","valid","validating","visited","handleFinalFormSubmit","FormSpySubscription","EnhancedFilterForm","filtersProps","mergedInitialValuesWithDefaultValues","mergeInitialValuesWithDefaultValues","lodashSet","mutators","arrayMutators","formProps","FormSpy","actions","ListToolbar","useListPaginationContext","flexShrink","currentPageButton","hellip","PaginationActions","rowsPerPage","onPageChange","getNbPages","gotoPage","nbPages","prevPage","ChevronRight","ChevronLeft","renderPageNums","range","pageNum","nextPage","backIconButtonProps","nextIconButtonProps","PaginationLimit","CardContent","emptyArray","Pagination","rowsPerPageOptions","limit","handlePageChange","stopPropagation","handlePerPageChange","labelDisplayedRows","offsetBegin","offsetEnd","TablePagination","onRowsPerPageChange","ActionsComponent","labelRowsPerPage","DefaultPaginationActions","DefaultPaginationLimit","CRUD_DELETE_MANY","confirmPrimary","confirmWarning","alpha","iconPaddingStyle","Confirm","isOpen","confirmColor","ConfirmIcon","CancelIcon","onConfirm","translateOptions","handleConfirm","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","elementType","ActionCheck","AlertError","deleteButton","ActionDelete","BulkDeleteWithConfirmButton","confirmTitle","confirmContent","useDeleteMany","deleteMany","inflect","handleDelete","handleDialogClose","BulkDeleteWithUndoButton","BulkDeleteButton","paddingBottom","TopToolbar","lighten","topToolbar","buttons","collapsed","overflowY","BulkActionsToolbar","CloseIcon","useResourceDefinition","definitionFromRedux","CreateButton","scrollToTop","Fab","Link","floating","ContentAdd","bottom","prevProps","nextProps","getRelatedIds","fetchRelatedRecords","getMany","post","ExportButton","maxResults","customExporter","exporterFromContext","getList","pagination","DownloadIcon","FilterButtonMenuItem","onShow","handleShow","FilterButton","filtersProp","hiddenFilters","handleClickButton","ContentFilter","ListActions","ListView","aside","bulkActionButtons","Content","controllerProps","getListControllerProps","listContext","version","useVersion","shouldRenderEmptyPage","renderList","bulkActionsDisplayed","hasBulkActions","shape","array","DefaultActions","DefaultBulkActionButtons","DefaultPagination","Empty","emptyMessage","inviteMessage","Inbox","paragraph","boxShadow","noResults","List","DatagridHeaderCell","updateSort","isSorting","TableCell","headerClassName","align","sortable","sortBy","TableSortLabel","sortByOrder","DatagridHeader","hasExpand","isRowSelectable","updateSortCallback","newField","newOrder","handleSelectAll","checked","selectableIds","TableHead","thead","TableRow","row","headerRow","headerCell","expandHeader","Checkbox","every","isRowExpandable","grey","Placeholder","times","nbChildren","DatagridLoading","nbFakeLines","Table","table","expandIconCell","TableBody","key1","expandIcon","ExpandMoreIcon","key2","rowCell","useExpanded","expandedList","toggleListItemExpand","RecordContext","RecordContextProvider","useRecordContext","DatagridCell","cellClassName","ExpandRowButton","expandContentId","DatagridContext","computeNbColumns","defaultClasses","checkbox","expandedPanel","DatagridRow","hover","rowClick","selected","selectable","useDatagridContext","expandable","toggleExpanded","nbColumns","setNbColumns","newNbColumns","handleToggleExpand","handleToggleSelection","effect","persist","linkToRecord","colSpan","PureDatagridRow","areEqual","prevPropsWithoutChildren","nextPropsWithoutChildren","DatagridBody","rowStyle","rowIndex","rowEven","rowOdd","clickableRow","muiName","PureDatagridBody","useDatagridStyles","tableLayout","tbody","borderTopLeftRadius","borderTopRightRadius","cursor","shortest","DatagridContextProvider","Datagrid","optimized","header","contextValue","lastSelected","handleToggleItem","lastSelectedIndex","shiftKey","idsBetweenSelections","newSelectedIds","union","difference","createOrCloneElement","sanitizeFieldRestProps","addLabel","emptyText","linkType","link","fieldPropTypes","toLocaleStringSupportsLocales","toLocaleString","RangeError","DateField","locales","showTime","dateString","toLocaleDateString","hasNumberFormat","Intl","NumberFormat","NumberField","BooleanField","valueLabelTrue","valueLabelFalse","TrueIcon","FalseIcon","looseValue","isTruthyValue","ariaLabel","DoneIcon","chip","SegmentsField","groups","segmentId","segment","segments","Chip","useChoices","disableValue","getChoiceText","choice","choiceName","getChoiceValue","getDisableValue","boxSizing","verticalAlign","Labeled","name_1","FormControl","InputLabel","htmlFor","labelStyle","LinearProgress","timeout","Progress","useSupportCreateSuggestion","createLabel","createItemLabel","createValue","onCreate","renderOnCreate","setRenderOnCreate","onCancel","getCreateItem","eventOrValue","finalValue","newSuggestion","CreateSuggestionContext","SelectInput","choices","emptyValue","renderEmptyItemOption","renderMenuItemOption","newItem","handleChangeWithCreateSupport","renderCreateItem","createItem","crudGetMatching","crudGetOne","filterToQuery","reference","setFilter","setPagination","SegmentInput","textDecoration","RRLink","AvatarField","FullNameField","first_name","last_name","CustomerLinkField","ColoredNumberField","EditButton","ContentCreate","cardTitleContent","cardContent","body1","MobileGrid","CardHeader","nb_commands","currency","useListFilterContext","FilterLiveSearch","onSearchChange","FilterList","Box","mt","mr","disablePadding","listItem","listItemText","FilterListItem","isSelected","toggleFilter","removeFilter","keysToRemove","addFilter","ListItem","ListItemText","ListItemSecondaryAction","arePropsEqual","MuiCard","Aside","last_seen_gte","endOfYesterday","toISOString","last_seen_lte","startOfWeek","subWeeks","startOfMonth","subMonths","nb_commands_gte","nb_commands_lte","has_newsletter","visitorFilters","hiddenOnSmallScreens","VisitorList","isXsmall","VisitorListAside","useSaveModifiers","onSuccessRef","onFailureRef","transformRef","setOnSuccess","setOnFailure","setTransform","getRecord","searchParams","getDefaultRedirectRoute","CreateContext","successMessage","SaveContext","SaveContextProvider","usePickSaveContext","CreateContextProvider","extractCreateContextProps","TitleForRecord","CreateView","useCreateContext","noActions","Create","useCreateController","recordToUse","useCreate","onSuccessFromSave","onFailureFromSave","transformFromSave","useResetSubmitErrors","useForm","prevValues","subscribe","resetSubmitErrors","sanitizeEmptyValues","initialValuesWithEmptyFields","getValues","FormContextProvider","clean","newObj","newVal","isObjectEmpty","flatten","toReturn","isValidationError","flatObject","str","getIn","setIn","formState","flatErrors","changed_1","newErrors_1","cleanErrors","UseFormStateSubscription","useWarnWhenUnsavedChanges","enable","formRootPathname","useFormState","initialLocation","release","block","isInsideForm","startsWith","defaultMutators","submitErrorsMutators","defaultSubscription","FormView","warnWhenUnsavedChanges","setRedirect","setAutomaticRefresh","FormWithRedirect","debug","decorators","destroyOnUnregister","initialValuesEqual","keepDirtyOnReinitialize","validateOnBlur","shouldSanitizeEmptyValues","formGroups","finalMutators","newRedirect","setOnSave","newOnSave","formContextValue","getGroupFields","registerGroup","unregisterGroup","group","fields","warn","finalInitialValues","getFormInitialValues","finalRedirect","sanitizedValues","FormInput","SaveButton","useSaveContext","displayedLabel","ContentSave","getMutationMode","mutationMode","useDeleteWithUndoController","useDelete","deleteOne","previousData","DeleteWithUndoButton","useDeleteWithConfirmController","handleDialogOpen","DeleteWithConfirmButton","mode","DeleteButton","desktopToolbar","mobileToolbar","defaultToolbar","valueOrDefault","alwaysEnableSaveButton","MuiToolbar","withWidth","initialWidth","CardContentInner","SimpleFormView","__versions","SimpleForm","PasswordInput","initiallyVisible","visible","setVisible","Visibility","VisibilityOff","address","zipcode","city","comment","confirm_password","validatePasswords","requiredValidate","SectionTitle","gutterBottom","Separator","pt","VisitorCreate","multiline","CRUD_GET_ONE","CRUD_UPDATE","useEditController","useGetOne","useUpdate","DefaultRedirect","EditContext","EditContextProvider","useEditContext","extractEditContextProps","ShowButton","ImageEye","PureShowButton","EditActions","EditView","finalActions","Edit","getResourceLinkPath","sourceId","rootPath","linkTo","useReference","useGetMany","referenceRecord","ReferenceField","NonEmptyReferenceField","resourceLinkPath","PureReferenceFieldView","ReferenceFieldView","isMatchingReferencesError","matchingReferences","paginationReducer","nextState","defaultPagination","initialPagination","useReducer","isFirstRender","sortReducer","useSortState","initialSort","setSortField","setSortOrder","defaultFilterToQuery","q","defaultSelection","useSelectionState","initialSelection","setSelectedIds","defaultFilter","useReferenceInputController","finalIds","finalData","finalTotal","initialPage","initialPerPage","sortOverride","enableGetChoices","usePaginationState","setSortObject","permanentFilter","debounceTime","permanentFilterProp","latestValue","setFilterValue","permanentFilterSignature","useFilterState","useGetList","enabled","possibleValuesIds","possibleValuesData","possibleValuesTotal","possibleValuesLoaded","possibleValuesLoading","possibleValuesError","refetchGetList","_k","refetchReference","referenceError","referenceLoading","referenceLoaded","dataStatus","getStatusForInput","matchingReferencesError","selectedReferenceError","waiting","getDataStatus","ReferenceError","ReferenceInput","ReferenceInputView","searchText","finalMeta","warningLog","disabledHelperText","referenceSource","useSuggestions","allowCreate","allowDuplicates","createText","matchSuggestion","selectedItem","suggestionLimit","getSuggestions","getSuggestionsFactory","_l","_m","_o","defaultMatchSuggestion","suggestion","suggestionText","isReactElement","escapeRegExp","RegExp","_p","suggestions","removeAlreadySelectedSuggestions","hasExactMatch","limitSuggestions","filterIsSelectedItem","getSuggestion","unshift","selectedItems","selectedValues","isInteger","suggestionsContainer","suggestionsPaper","maxHeight","AutocompleteSuggestionList","menuProps","inputEl","suggestionsContainerProps","Popper","modifiers","Paper","square","clientWidth","highlightedSuggestionText","AutocompleteSuggestionItem","parts","highlightedIndex","filterValue","getSuggestionText","isHighlighted","part","highlight","AutocompleteInputLoader","AutocompleteInput","idOverride","inputOverride","inputText","isRequiredOverride","metaOverride","labelProps","shouldRenderSuggestionsOverride","shouldRenderSuggestions","getSuggestionFromValue","shouldAllowCreate","hasOption_1","selectedItemText_1","selectedItemText","hasOption","handleFilterChange","storeInputRef","updateAnchorEl","inputPosition","getBoundingClientRect","anchorPosition","openMenu","inputRef","label_2","label_1","Downshift","inputValue","itemToString","refs","getInputProps","getItemProps","getLabelProps","getMenuProps","isMenuOpen","suppressRefError","FunctionField","basket","NbItemsField","CustomerReferenceField","AddressField","stateAbbr","useListStyles","cardContentRow","orderFilters","tabs","TabbedDatagrid","ordered","setOrdered","delivered","setDelivered","setCancelled","totals","useGetTotals","status","Tabs","centered","indicatorColor","Tab","Divider","OrderList","InputPropTypes","BooleanInput","finalFormOnChange","FormGroup","FormControlLabel","control","FormHelperText","rightAlignedCell","Basket","useQueryWithStore","product_id","productId","products","price","quantity","boldCell","Totals","total_ex_taxes","delivery_fees","tax_rate","taxes","OrderTitle","CustomerDetails","RouterLink","href","CustomerAddress","useEditStyles","Spacer","m","OrderForm","Grid","xs","sm","md","OrderEdit","OrderIcon","CRUD_UPDATE_MANY","noSelection","BulkAcceptButton","useUpdateMany","approve","BulkRejectButton","inline","ReviewListMobile","ListItemAvatar","secondaryTypographyProps","noWrap","ProductReferenceField","large","small","StarRatingField","rating","selectedRow","borderLeftColor","green","borderLeftWidth","borderLeftStyle","orange","red","ReviewListDesktop","reviewFilters","AcceptButton","RejectButton","ReviewEditToolbar","inlineField","ReviewEdit","rowsMax","ReviewsBulkActionButtons","listWithDrawer","ReviewList","isMatch","anchor","ReviewIcon","useAsideStyles","useEventStyles","stepper","EventList","customer_id","orders","orderIds","reviews","reviewIds","events","mixOrdersAndReviews","mb","Stepper","orientation","Step","completed","StepLabel","StepIconComponent","review","weekday","year","month","day","hour","minute","StepContent","eventsFromOrders","eventsFromReviews","e1","e2","Order","useReviewStyles","clamp","Review","SelectArrayInput","inputLabel","labelWidth","setLabelWidth","offsetWidth","finalChoices","Select","autoWidth","labelId","renderValue","chips","classNamInputWithOptionsPropse","componenInputWithOptionsPropst","crudGetMInputWithOptionsPropsatching","crudGetOInputWithOptionsPropsne","SegmentsInput","addField","VisitorTitle","VisitorForm","lg","ml","VisitorEdit","VisitorIcon","CustomerField","InvoiceShow","useShowController","alignContent","invoices","listFilters","InvoiceList","InvoiceIcon","convertStringToNumber","float","parseFloat","NumberInput","overrideInputProps","useListSortContext","SortIcon","inverseOrder","SortButton","handleChangeSort","buttonLabel","endIcon","ArrowDropDownIcon","keepMounted","ListBase","gridList","tileBar","getColsForWidth","LoadingGridList","nbItems","cellHeight","cols","GridListTile","LoadedGridList","thumbnail","GridListTileBar","subtitle","GridList","sales_lte","sales_gt","sales","stock_lt","stock_gt","stock","category_id","useQuickFilterStyles","QuickFilter","productFilters","ProductListView","ProductList","url","TabbedFormTabs","validTabPaths","tab","getTabFullPath","tabValue","tabPath","tabsWithErrors","baseUrl","TabbedFormView","defaultRedirect","useTabbedFormViewStyles","useRouteMatch","setTabValue","handleTabChange","escapePath","hidden","errorTabButton","TabbedForm","FormGroupContextProvider","getFormGroupState","fieldStates","fieldState","FormTabHeader","UseFormStateOptions","formGroup","useFormGroup","getFieldState","newState","oldState","propsForLink","MuiTab","contentClassName","hiddenStyle","FormTab","renderHeader","renderContent","useReferenceManyFieldController","filterRef","setDisplayedFilters","setFilterValues","referenceId","useGetManyReference","ReferenceManyField","ReferenceManyFieldView","visibility","outline","tabSize","wordWrap","counterReset","listStyleType","counterIncrement","fontStyle","stroke","strokeLinecap","strokeLinejoin","strokeMiterlimit","fillRule","borderLeft","borderColor","borderTop","QuillSnowStylesheet","RichTextInput","configureQuill","quillInstance","divRef","editor","lastValueChange","onTextChange","innerHTML","Quill","modules","clipboard","matchVisual","setContents","convert","querySelector","on","off","selection","getSelection","hasFocus","setSelection","Poster","widthFormGroup","heightFormGroup","ProductCreate","startAdornment","ProductTitle","ProductEdit","ProductIcon","LinkToRelatedProducts","media","actionSpacer","CategoryGrid","xl","CardMedia","CategoryList","ThumbnailField","ProductRefField","CategoryTitle","CategoryEdit","minimumFractionDigits","CategoryIcon","sidebarIsClosed","SubMenu","handleToggle","Collapse","unmountOnExit","menuCatalog","menuSales","menuCustomers","categories","darkTheme","colorSecondary","lightTheme","RaMenuItemLink","MuiPaper","elevation1","backgroundClip","contained","MuiLinearProgress","colorPrimary","barColorPrimary","MuiSnackbarContent","hint","renderInput","withTypes","LoginWithTheme","publishArticleImage","Welcome","CardWithIcon","MonthlyRevenue","DollarIcon","NbNewOrders","ShoppingCartIcon","cost","PendingOrders","customers","nb_items","customer_name","WebkitLineClamp","WebkitBoxOrient","linkContent","PendingReviews","nb","CommentIcon","NewCustomers","aMonthAgo","subDays","setDate","setHours","setMinutes","setSeconds","setMilliseconds","has_ordered","first_seen_gte","visitors","CustomerIcon","lastDay","lastMonthDays","dateFormatter","getRevenuePerDay","daysWithRevenue","aggregateOrdersByDay","curr","OrderChart","x1","y1","x2","y2","offset","stopColor","stopOpacity","dataKey","scale","domain","addDays","tickFormatter","unit","strokeDasharray","formatter","labelFormatter","flexColumn","leftCol","rightCol","singleCol","VerticalSpacer","Dashboard","fetchOrders","a","date_gte","recentOrders","aggregations","stats","revenue","nbNewOrders","pendingOrders","maximumFractionDigits","pendingOrdersCustomers","customer","fetchReviews","nbPendingReviews","pendingReviews","pendingReviewsCustomers","useSetLocale","startLoading","fetchStart","stopLoading","fetchEnd","useUpdateLoading","Configuration","LinkToRelatedCustomers","Segments","customEnglishMessages","pos","configuration","language","monthly_revenue","month_history","new_orders","pending_reviews","all_reviews","new_customers","all_customers","pending_orders","welcome","ra_button","demo_button","catalog","commands","first_seen","last_seen","total_spent","last_visited","today","this_week","last_week","this_month","last_month","earlier","fieldGroups","change_password","password_mismatch","amount","delivery","sum","unit_price","date_lte","total_gte","returned","section","shipping_address","command_id","height_gte","height_lte","stock_lte","width_gte","width_lte","description","no_stock","low_stock","average_stock","enough_stock","best_sellers","average_sellers","low_sellers","never_sold","relative_to_poster","detail","accept","approved_success","approved_error","rejected_success","rejected_error","compulsive","collector","ordered_once","regular","returns","reviewer","factory","dataProviderPromise","getDataProvider","defaultDataProvider","fakeServerFactory","REACT_APP_DATA_PROVIDER","provider","getManyReference","getOne","updateMany","App","dataProviderFactory","ReactDOM","useIsAutomaticRefreshEnabled","lastHiddenTime","handleVisibilityChange","addEventListener","capture","removeEventListener","mutate","defaultIds","defaultData","isDataLoaded","referencingResource","nameRelatedTo","CRUD_GET_MANY_REFERENCE","getIds","allRecords","getTotal","fetchMap","legacyDataProvider","fetchType","CRUD_GET_MANY","queriesToCall","DataProviderOptions","makeGetManySelector","createSelector","callQueries","queries","accumulatedIds","unstable_batchedUpdates","datum","selectMany","innerVersion","setInnerVersion","prevInnerVersion","resource1","resource2","parsePath","queriesThisTick","defaultIsDataLoaded","dataSelector","totalSelector","defaultDataSelector","getFetchType","defaultTotalSelector","requestSignatureRef","timer","logoutIfAccessDeniedWithoutProvider","useLogoutIfAccessDenied","logoutIfAccessDenied","logoutUser","warnBeforeClosingWindow","returnValue","answerWithCache","getResultFromCache","data_1","cachedRequest","doQuery","canReplyWithCache","performOptimisticQuery","replayStackedCalls","loggedOut","performUndoableQuery","once","performPessimisticQuery","nbRemainingStackedCalls","getRemainingStackedCalls","stackedCalls","stackCall","stackedOptimisticCalls","stackOptimisticCall","splice","waitFor","condition","later","isOptimistic","getRelatedReferences","removeDeletedReferences","removedIds","idsToKeep","oneToManyReducer","CRUD_GET_MANY_REFERENCE_SUCCESS","messageType","redirectToCurrentLocationAfterLogin","redirectToFromProvider","redirectToParts","newLocation","logoutWithoutProvider","OptionsProperties","lastArg","isDataProviderOptions","encodeURIComponent","mainIds","mainTotal","EventEmitter","notificationOptions","defaultProvider","fetchActionsWithRecordResponse","fetchActionsWithArrayOfIdentifiedRecordsResponse","fetchActionsWithArrayOfRecordsResponse","fetchActionsWithTotalResponse","actionType","mountedRef","ms","setReady","clearTimeout"],"mappings":"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","file":"static/js/main.0cbb1fee.chunk.js","sourcesContent":["import { useNotify, useRedirect, useRefresh, useUnselectAll, } from '../sideEffect';\nimport { useMemo } from 'react';\nvar defaultSideEffects = {\n    onSuccess: undefined,\n    onFailure: undefined,\n};\nvar useDeclarativeSideEffects = function () {\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var unselectAll = useUnselectAll();\n    return useMemo(function () { return function (resource, _a) {\n        var _b = _a === void 0 ? defaultSideEffects : _a, onSuccess = _b.onSuccess, onFailure = _b.onFailure;\n        var convertToFunctionSideEffect = function (resource, sideEffects) {\n            if (!sideEffects || typeof sideEffects === 'function') {\n                return sideEffects;\n            }\n            if (Object.keys(sideEffects).length === 0) {\n                return undefined;\n            }\n            var notification = sideEffects.notification, redirectTo = sideEffects.redirectTo, needRefresh = sideEffects.refresh, needUnselectAll = sideEffects.unselectAll;\n            return function () {\n                if (notification) {\n                    notify(notification.body, notification.level, notification.messageArgs);\n                }\n                if (redirectTo) {\n                    redirect(redirectTo);\n                }\n                if (needRefresh) {\n                    refresh();\n                }\n                if (needUnselectAll) {\n                    unselectAll(resource);\n                }\n            };\n        };\n        return {\n            onSuccess: convertToFunctionSideEffect(resource, onSuccess),\n            onFailure: convertToFunctionSideEffect(resource, onFailure),\n        };\n    }; }, [notify, redirect, refresh, unselectAll]);\n};\nexport default useDeclarativeSideEffects;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport useDataProvider from './useDataProvider';\nimport { useMemo } from 'react';\nimport useDeclarativeSideEffects from './useDeclarativeSideEffects';\nimport { getDataProviderCallArguments } from './getDataProviderCallArguments';\n/**\n * This version of the useDataProvider hook ensure Query and Mutation components are still usable\n * with side effects declared as objects.\n *\n * @deprecated This is for backward compatibility only and will be removed in next major version.\n */\nvar useDataProviderWithDeclarativeSideEffects = function () {\n    var dataProvider = useDataProvider();\n    var getSideEffects = useDeclarativeSideEffects();\n    // @ts-ignore\n    var dataProviderProxy = useMemo(function () {\n        return new Proxy(dataProvider, {\n            get: function (target, name) {\n                if (typeof name === 'symbol') {\n                    return;\n                }\n                return function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    var _a = getDataProviderCallArguments(args), resource = _a.resource, payload = _a.payload, allArguments = _a.allArguments, options = _a.options;\n                    var onSuccess;\n                    var onFailure;\n                    var finalOptions = options;\n                    var finalAllArguments = allArguments;\n                    if (options &&\n                        Object.keys(options).some(function (key) {\n                            return ['onSuccess', 'onFailure'].includes(key);\n                        })) {\n                        var sideEffect = getSideEffects(resource, options);\n                        var ignoreOnSuccess = options.onSuccess, // Used to extract options without onSuccess\n                        ignoreOnFailure = options.onFailure, // Used to extract options without onFailure\n                        otherOptions = __rest(options, [\"onSuccess\", \"onFailure\"]);\n                        onSuccess = sideEffect.onSuccess;\n                        onFailure = sideEffect.onFailure;\n                        finalOptions = otherOptions;\n                        finalAllArguments = __spreadArray([], args, true).slice(0, args.length - 1);\n                    }\n                    try {\n                        return target[name.toString()].apply(target, typeof resource === 'string'\n                            ? [\n                                resource,\n                                payload,\n                                __assign(__assign({}, finalOptions), { onSuccess: onSuccess, onFailure: onFailure }),\n                            ]\n                            : finalAllArguments);\n                    }\n                    catch (e) {\n                        // turn synchronous exceptions (e.g. in parameter preparation)\n                        // into async ones, otherwise they'll be lost\n                        return Promise.reject(e);\n                    }\n                };\n            },\n        });\n    }, [dataProvider, getSideEffects]);\n    return dataProviderProxy;\n};\nexport default useDataProviderWithDeclarativeSideEffects;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useCallback } from 'react';\nimport merge from 'lodash/merge';\nimport { useSafeSetState } from '../util/hooks';\nimport useDataProvider from './useDataProvider';\nimport useDataProviderWithDeclarativeSideEffects from './useDataProviderWithDeclarativeSideEffects';\n/**\n * Get a callback to fetch the data provider through Redux, usually for mutations.\n *\n * The request starts when the callback is called.\n *\n * useMutation() parameters can be passed:\n *\n * - at definition time\n *\n *       const [mutate] = useMutation(query, options); mutate();\n *\n * - at call time\n *\n *       const [mutate] = useMutation(); mutate(query, options);\n *\n * - both, in which case the definition and call time parameters are merged\n *\n *       const [mutate] = useMutation(query1, options1); mutate(query2, options2);\n *\n * @param {Object} query\n * @param {string} query.type The method called on the data provider, e.g. 'getList', 'getOne'. Can also be a custom method if the dataProvider supports is.\n * @param {string} query.resource A resource name, e.g. 'posts', 'comments'\n * @param {Object} query.payload The payload object, e.g; { post_id: 12 }\n * @param {Object} options\n * @param {string} options.action Redux action type\n * @param {boolean} options.undoable Set to true to run the mutation locally before calling the dataProvider\n * @param {boolean} options.returnPromise Set to true to return the result promise of the mutation\n * @param {Function} options.onSuccess Side effect function to be executed upon success, e.g. () => refresh()\n * @param {Function} options.onFailure Side effect function to be executed upon failure, e.g. (error) => notify(error.message)\n * @param {boolean} options.withDeclarativeSideEffectsSupport Set to true to support legacy side effects e.g. { onSuccess: { refresh: true } }\n *\n * @returns A tuple with the mutation callback and the request state. Destructure as [mutate, { data, total, error, loading, loaded }].\n *\n * The return value updates according to the request state:\n *\n * - mount:         [mutate, { loading: false, loaded: false }]\n * - mutate called: [mutate, { loading: true, loaded: false }]\n * - success:       [mutate, { data: [data from response], total: [total from response], loading: false, loaded: true }]\n * - error:         [mutate, { error: [error from response], loading: false, loaded: false }]\n *\n * The mutate function accepts the following arguments\n * - {Object} query\n * - {string} query.type The method called on the data provider, e.g. 'update'\n * - {string} query.resource A resource name, e.g. 'posts', 'comments'\n * - {Object} query.payload The payload object, e.g. { id: 123, data: { isApproved: true } }\n * - {Object} options\n * - {string} options.action Redux action type\n * - {boolean} options.undoable Set to true to run the mutation locally before calling the dataProvider\n * - {boolean} options.returnPromise Set to true to return the result promise of the mutation\n * - {Function} options.onSuccess Side effect function to be executed upon success or failure, e.g. { onSuccess: response => refresh() }\n * - {Function} options.onFailure Side effect function to be executed upon failure, e.g. { onFailure: error => notify(error.message) }\n * - {boolean} withDeclarativeSideEffectsSupport Set to true to support legacy side effects e.g. { onSuccess: { refresh: true } }\n *\n * @example\n *\n * // pass parameters at definition time\n * // use when all parameters are determined at definition time\n * // the mutation callback can be used as an even handler\n * // because Event parameters are ignored\n * import { useMutation } from 'react-admin';\n *\n * const ApproveButton = ({ record }) => {\n *     const [approve, { loading }] = useMutation({\n *         type: 'update',\n *         resource: 'comments',\n *         payload: { id: record.id, data: { isApproved: true } }\n *     });\n *     return <Button label=\"Approve\" onClick={approve} disabled={loading} />;\n * };\n *\n * @example\n *\n * // pass parameters at call time\n * // use when some parameters are only known at call time\n * import { useMutation } from 'react-admin';\n *\n * const ApproveButton = ({ record }) => {\n *     const [mutate, { loading }] = useMutation();\n *     const approve = event => mutate({\n *         type: 'update',\n *         resource: 'comments',\n *         payload: {\n *             id: event.target.dataset.id,\n *             data: { isApproved: true, updatedAt: new Date() }\n *         },\n *     });\n *     return <Button\n *         label=\"Approve\"\n *         onClick={approve}\n *         disabled={loading}\n *     />;\n * };\n *\n * @example\n *\n * // use the second argument to pass options\n * import { useMutation, useNotify, CRUD_UPDATE } from 'react-admin';\n *\n * const ResetStockButton = ({ record }) => {\n *     const [mutate, { loading }] = useMutation();\n *     const notify = useNotify();\n *     const handleClick = () => mutate(\n *         {\n *              type: 'update',\n *              resource: 'items',\n *              payload: { id: record.id, data: { stock: 0 } }\n *         },\n *         {\n *              undoable: true,\n *              action: CRUD_UPDATE,\n *              onSuccess: response => notify('Success !'),\n *              onFailure: error => notify('Failure !')\n *         }\n *     );\n *     return <Button label=\"Reset stock\" onClick={handleClick} disabled={loading} />;\n * };\n */\nvar useMutation = function (query, options) {\n    var _a = useSafeSetState({\n        data: null,\n        error: null,\n        total: null,\n        loading: false,\n        loaded: false,\n    }), state = _a[0], setState = _a[1];\n    var dataProvider = useDataProvider();\n    var dataProviderWithDeclarativeSideEffects = useDataProviderWithDeclarativeSideEffects();\n    /* eslint-disable react-hooks/exhaustive-deps */\n    var mutate = useCallback(function (callTimeQuery, callTimeOptions) {\n        var finalDataProvider = hasDeclarativeSideEffectsSupport(options, callTimeOptions)\n            ? dataProviderWithDeclarativeSideEffects\n            : dataProvider;\n        var params = mergeDefinitionAndCallTimeParameters(query, callTimeQuery, options, callTimeOptions);\n        setState(function (prevState) { return (__assign(__assign({}, prevState), { loading: true })); });\n        var returnPromise = params.options.returnPromise;\n        var promise = finalDataProvider[params.type]\n            .apply(finalDataProvider, typeof params.resource !== 'undefined'\n            ? [params.resource, params.payload, params.options]\n            : [params.payload, params.options])\n            .then(function (response) {\n            var data = response.data, total = response.total;\n            setState({\n                data: data,\n                error: null,\n                loaded: true,\n                loading: false,\n                total: total,\n            });\n            if (returnPromise) {\n                return response;\n            }\n        })\n            .catch(function (errorFromResponse) {\n            setState({\n                data: null,\n                error: errorFromResponse,\n                loaded: false,\n                loading: false,\n                total: null,\n            });\n            if (returnPromise) {\n                throw errorFromResponse;\n            }\n        });\n        if (returnPromise) {\n            return promise;\n        }\n    }, [\n        // deep equality, see https://github.com/facebook/react/issues/14476#issuecomment-471199055\n        JSON.stringify({ query: query, options: options }),\n        dataProvider,\n        dataProviderWithDeclarativeSideEffects,\n        setState,\n    ]\n    /* eslint-enable react-hooks/exhaustive-deps */\n    );\n    return [mutate, state];\n};\n/**\n * Utility function for merging parameters\n *\n * useMutation() parameters can be passed:\n * - at definition time (e.g. useMutation({ type: 'update', resource: 'posts', payload: { id: 1, data: { title: '' } } }) )\n * - at call time (e.g. [mutate] = useMutation(); mutate({ type: 'update', resource: 'posts', payload: { id: 1, data: { title: '' } } }))\n * - both\n *\n * This function merges the definition time and call time parameters.\n *\n * This is useful because useMutation() is used by higher-level hooks like\n * useCreate() or useUpdate(), and these hooks can be called both ways.\n * So it makes sense to make useMutation() capable of handling both call types\n * as it avoids repetition higher in the hook chain.\n *\n * Also, the call time query may be a DOM Event if the callback is used\n * as an event listener, as in:\n *\n * const UpdateButton = () => {\n *     const mutate = useMutation({ type: 'update', resource: 'posts', payload: { id: 1, data: { title: '' } } });\n *     return <button onclick={mutate}>Click me</button>\n * };\n *\n * This usage is accepted, and therefore this function checks if the call time\n * query is an Event, and discards it in that case.\n *\n * @param query {Mutation}\n * @param callTimeQuery {Mutation}\n * @param options {Object}\n * @param callTimeOptions {Object}\n *\n * @return { type, resource, payload, options } The merged parameters\n */\nvar mergeDefinitionAndCallTimeParameters = function (query, callTimeQuery, options, callTimeOptions) {\n    if (!query && (!callTimeQuery || callTimeQuery instanceof Event)) {\n        throw new Error('Missing query either at definition or at call time');\n    }\n    var event = callTimeQuery;\n    if (callTimeQuery instanceof Event || !!(event === null || event === void 0 ? void 0 : event.preventDefault))\n        return {\n            type: query.type,\n            resource: query.resource,\n            payload: query.payload,\n            options: sanitizeOptions(options),\n        };\n    if (query) {\n        return {\n            type: (callTimeQuery === null || callTimeQuery === void 0 ? void 0 : callTimeQuery.type) || query.type,\n            resource: (callTimeQuery === null || callTimeQuery === void 0 ? void 0 : callTimeQuery.resource) || query.resource,\n            payload: callTimeQuery\n                ? merge({}, query.payload, callTimeQuery.payload)\n                : query.payload,\n            options: callTimeOptions\n                ? merge({}, sanitizeOptions(options), sanitizeOptions(callTimeOptions))\n                : sanitizeOptions(options),\n        };\n    }\n    return {\n        type: callTimeQuery.type,\n        resource: callTimeQuery.resource,\n        payload: callTimeQuery.payload,\n        options: sanitizeOptions(callTimeOptions),\n    };\n};\nvar hasDeclarativeSideEffectsSupport = function (options, callTimeOptions) {\n    if (!options && !callTimeOptions)\n        return false;\n    if (callTimeOptions && callTimeOptions.withDeclarativeSideEffectsSupport)\n        return true;\n    return options && options.withDeclarativeSideEffectsSupport;\n};\nvar sanitizeOptions = function (args) {\n    if (!args)\n        return { onSuccess: undefined };\n    var withDeclarativeSideEffectsSupport = args.withDeclarativeSideEffectsSupport, options = __rest(args, [\"withDeclarativeSideEffectsSupport\"]);\n    return __assign({ onSuccess: undefined }, options);\n};\nexport default useMutation;\n","export var REGISTER_RESOURCE = 'RA/REGISTER_RESOURCE';\nexport var registerResource = function (resource) { return ({\n    type: REGISTER_RESOURCE,\n    payload: resource,\n}); };\nexport var UNREGISTER_RESOURCE = 'RA/UNREGISTER_RESOURCE';\nexport var unregisterResource = function (resourceName) { return ({\n    type: UNREGISTER_RESOURCE,\n    payload: resourceName,\n}); };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport pickBy from 'lodash/pickBy';\nvar defaultCacheDuration = 10 * 60 * 1000; // ten minutes\n/**\n * Returns a list of fetch dates by record id\n *\n * Given a list of new record ids and a previous list of fetch dates by record id,\n * add the new record ids at the current date,\n * and removes those among the old record ids that are stale.\n *\n * @param newRecordIds an array of record identifiers, e.g. [34, 56]\n * @param oldRecordFetchedAt the fetch dates of old records, e.g. { 12: new Date('12 minutes ago), 34: new Date('5 minutes ago') }\n * @param now Current time (useful for tests)\n * @param cacheDuration How long until an old record is removed from the list\n */\nvar getFetchedAt = function (newRecordIds, oldRecordFetchedAt, now, cacheDuration) {\n    if (newRecordIds === void 0) { newRecordIds = []; }\n    if (oldRecordFetchedAt === void 0) { oldRecordFetchedAt = {}; }\n    if (now === void 0) { now = new Date(); }\n    if (cacheDuration === void 0) { cacheDuration = defaultCacheDuration; }\n    // prepare new records and timestamp them\n    var newFetchedAt = {};\n    newRecordIds.forEach(function (recordId) { return (newFetchedAt[recordId] = now); });\n    // remove outdated entry\n    var latestValidDate = new Date();\n    latestValidDate.setTime(latestValidDate.getTime() - cacheDuration);\n    var stillValidFetchedAt = pickBy(oldRecordFetchedAt, function (date) { return date > latestValidDate; });\n    return __assign(__assign({}, stillValidFetchedAt), newFetchedAt);\n};\nexport default getFetchedAt;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport isEqual from 'lodash/isEqual';\nimport { FETCH_END } from '../../../actions';\nimport { CREATE, DELETE, DELETE_MANY, GET_LIST, GET_MANY, GET_MANY_REFERENCE, GET_ONE, UPDATE, UPDATE_MANY, } from '../../../core';\nimport getFetchedAt from '../../../util/getFetchedAt';\n/**\n * Make the fetchedAt property non enumerable\n */\nexport var hideFetchedAt = function (records) {\n    Object.defineProperty(records, 'fetchedAt', {\n        enumerable: false,\n        configurable: false,\n        writable: false,\n    });\n    return records;\n};\n/**\n * Add new records to the pool, and remove outdated ones.\n *\n * This is the equivalent of a stale-while-revalidate caching strategy:\n * The cached data is displayed before fetching, and stale data is removed\n * only once fresh data is fetched.\n */\nexport var addRecordsAndRemoveOutdated = function (newRecords, oldRecords) {\n    if (newRecords === void 0) { newRecords = []; }\n    var newRecordsById = {};\n    newRecords.forEach(function (record) { return (newRecordsById[record.id] = record); });\n    var newFetchedAt = getFetchedAt(newRecords.map(function (_a) {\n        var id = _a.id;\n        return id;\n    }), oldRecords.fetchedAt);\n    var records = { fetchedAt: newFetchedAt };\n    Object.keys(newFetchedAt).forEach(function (id) {\n        return (records[id] = newRecordsById[id]\n            ? isEqual(newRecordsById[id], oldRecords[id])\n                ? oldRecords[id] // do not change the record to avoid a redraw\n                : newRecordsById[id]\n            : oldRecords[id]);\n    });\n    return hideFetchedAt(records);\n};\n/**\n * Add new records to the pool, without touching the other ones.\n */\nexport var addRecords = function (newRecords, oldRecords) {\n    if (newRecords === void 0) { newRecords = []; }\n    var newRecordsById = __assign({}, oldRecords);\n    newRecords.forEach(function (record) {\n        newRecordsById[record.id] = isEqual(record, oldRecords[record.id])\n            ? oldRecords[record.id]\n            : record;\n    });\n    var updatedFetchedAt = getFetchedAt(newRecords.map(function (_a) {\n        var id = _a.id;\n        return id;\n    }), oldRecords.fetchedAt);\n    Object.defineProperty(newRecordsById, 'fetchedAt', {\n        value: __assign(__assign({}, oldRecords.fetchedAt), updatedFetchedAt),\n        enumerable: false,\n    });\n    return newRecordsById;\n};\nexport var addOneRecord = function (newRecord, oldRecords, date) {\n    var _a, _b;\n    if (date === void 0) { date = new Date(); }\n    var newRecordsById = __assign(__assign({}, oldRecords), (_a = {}, _a[newRecord.id] = isEqual(newRecord, oldRecords[newRecord.id])\n        ? oldRecords[newRecord.id] // do not change the record to avoid a redraw\n        : newRecord, _a));\n    return Object.defineProperty(newRecordsById, 'fetchedAt', {\n        value: __assign(__assign({}, oldRecords.fetchedAt), (_b = {}, _b[newRecord.id] = date, _b)),\n        enumerable: false,\n    });\n};\nvar includesNotStrict = function (items, element) {\n    return items.some(function (item) { return item == element; });\n}; // eslint-disable-line eqeqeq\n/**\n * Remove records from the pool\n */\nexport var removeRecords = function (removedRecordIds, oldRecords) {\n    if (removedRecordIds === void 0) { removedRecordIds = []; }\n    var records = Object.entries(oldRecords)\n        .filter(function (_a) {\n        var key = _a[0];\n        return !includesNotStrict(removedRecordIds, key);\n    })\n        .reduce(function (obj, _a) {\n        var _b;\n        var key = _a[0], val = _a[1];\n        return (__assign(__assign({}, obj), (_b = {}, _b[key] = val, _b)));\n    }, {\n        fetchedAt: {}, // TypeScript warns later if this is not defined\n    });\n    records.fetchedAt = Object.entries(oldRecords.fetchedAt)\n        .filter(function (_a) {\n        var key = _a[0];\n        return !includesNotStrict(removedRecordIds, key);\n    })\n        .reduce(function (obj, _a) {\n        var _b;\n        var key = _a[0], val = _a[1];\n        return (__assign(__assign({}, obj), (_b = {}, _b[key] = val, _b)));\n    }, {});\n    return hideFetchedAt(records);\n};\nvar initialState = hideFetchedAt({ fetchedAt: {} });\nvar dataReducer = function (previousState, _a) {\n    if (previousState === void 0) { previousState = initialState; }\n    var payload = _a.payload, meta = _a.meta;\n    if (meta && meta.optimistic) {\n        if (meta.fetch === UPDATE) {\n            var updatedRecord = __assign(__assign({}, previousState[payload.id]), payload.data);\n            return addOneRecord(updatedRecord, previousState);\n        }\n        if (meta.fetch === UPDATE_MANY) {\n            var updatedRecords = payload.ids.map(function (id) { return (__assign(__assign({}, previousState[id]), payload.data)); });\n            return addRecordsAndRemoveOutdated(updatedRecords, previousState);\n        }\n        if (meta.fetch === DELETE) {\n            return removeRecords([payload.id], previousState);\n        }\n        if (meta.fetch === DELETE_MANY) {\n            return removeRecords(payload.ids, previousState);\n        }\n    }\n    if (!meta || !meta.fetchResponse || meta.fetchStatus !== FETCH_END) {\n        return previousState;\n    }\n    switch (meta.fetchResponse) {\n        case GET_LIST:\n            return addRecordsAndRemoveOutdated(payload.data, previousState);\n        case GET_MANY:\n        case GET_MANY_REFERENCE:\n            return addRecords(payload.data, previousState);\n        case UPDATE:\n        case CREATE:\n        case GET_ONE:\n            return addOneRecord(payload.data, previousState);\n        default:\n            return previousState;\n    }\n};\nexport var getRecord = function (state, id) { return state[id]; };\nexport default dataReducer;\n","import { GET_LIST } from '../../../../../core';\nvar initialState = [];\nvar idsReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.meta && action.meta.fetchResponse === GET_LIST) {\n        return action.payload.data.map(function (_a) {\n            var id = _a.id;\n            return id;\n        });\n    }\n    return previousState;\n};\nexport default idsReducer;\n","import { GET_LIST } from '../../../../../core';\nvar initialState = null;\nvar totalReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.meta && action.meta.fetchResponse === GET_LIST) {\n        return action.payload.total;\n    }\n    return previousState;\n};\nexport default totalReducer;\n","import { GET_LIST } from '../../../../../core';\nvar initialState = null;\nvar validityReducer = function (previousState, _a) {\n    if (previousState === void 0) { previousState = initialState; }\n    var payload = _a.payload, meta = _a.meta;\n    switch (meta.fetchResponse) {\n        case GET_LIST: {\n            if (payload.validUntil) {\n                // store the validity date\n                return payload.validUntil;\n            }\n            else {\n                // remove the validity date\n                return initialState;\n            }\n        }\n        default:\n            return previousState;\n    }\n};\nexport default validityReducer;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { FETCH_END, REFRESH_VIEW } from '../../../../actions';\nimport { GET_LIST, CREATE, DELETE, DELETE_MANY, UPDATE, UPDATE_MANY, } from '../../../../core';\nimport ids from './cachedRequests/ids';\nimport total from './cachedRequests/total';\nimport validity from './cachedRequests/validity';\nvar initialState = {};\nvar initialSubstate = { ids: [], total: null, validity: null };\nvar cachedRequestsReducer = function (previousState, action) {\n    var _a;\n    var _b;\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.type === REFRESH_VIEW) {\n        if ((_b = action.payload) === null || _b === void 0 ? void 0 : _b.hard) {\n            // force refresh\n            return initialState;\n        }\n        else {\n            // remove validity only\n            var newState_1 = {};\n            Object.keys(previousState).forEach(function (key) {\n                newState_1[key] = __assign(__assign({}, previousState[key]), { validity: undefined });\n            });\n            return newState_1;\n        }\n    }\n    if (action.meta && action.meta.optimistic) {\n        if (action.meta.fetch === CREATE ||\n            action.meta.fetch === DELETE ||\n            action.meta.fetch === DELETE_MANY ||\n            action.meta.fetch === UPDATE ||\n            action.meta.fetch === UPDATE_MANY) {\n            // force refresh of all lists because we don't know where the\n            // new/deleted/updated record(s) will appear in the list\n            return initialState;\n        }\n    }\n    if (!action.meta || action.meta.fetchStatus !== FETCH_END) {\n        // not a return from the dataProvider\n        return previousState;\n    }\n    if (action.meta.fetchResponse === CREATE ||\n        action.meta.fetchResponse === DELETE ||\n        action.meta.fetchResponse === DELETE_MANY ||\n        action.meta.fetchResponse === UPDATE ||\n        action.meta.fetchResponse === UPDATE_MANY) {\n        // force refresh of all lists because we don't know where the\n        // new/deleted/updated record(s) will appear in the list\n        return initialState;\n    }\n    if (action.meta.fetchResponse !== GET_LIST || action.meta.fromCache) {\n        // looks like a GET_MANY, a GET_ONE, or a cached response\n        return previousState;\n    }\n    var requestKey = JSON.stringify(action.requestPayload);\n    var previousSubState = previousState[requestKey] || initialSubstate;\n    return __assign(__assign({}, previousState), (_a = {}, _a[requestKey] = {\n        ids: ids(previousSubState.ids, action),\n        total: total(previousSubState.total, action),\n        validity: validity(previousSubState.validity, action),\n    }, _a));\n};\nexport default cachedRequestsReducer;\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { TOGGLE_LIST_ITEM_EXPAND, } from '../../../../actions/listActions';\nvar initialState = [];\nvar expanded = function (previousState, action) {\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.type === TOGGLE_LIST_ITEM_EXPAND) {\n        var index = previousState\n            .map(function (el) { return el == action.payload; }) // eslint-disable-line eqeqeq\n            .indexOf(true);\n        if (index === -1) {\n            // expand\n            return __spreadArray(__spreadArray([], previousState, true), [action.payload], false);\n        }\n        else {\n            // close\n            return __spreadArray(__spreadArray([], previousState.slice(0, index), true), previousState.slice(index + 1), true);\n        }\n    }\n    return previousState;\n};\nexport default expanded;\n","import { GET_LIST } from '../../core';\nexport var crudGetList = function (resource, pagination, sort, filter) { return ({\n    type: CRUD_GET_LIST,\n    payload: { pagination: pagination, sort: sort, filter: filter },\n    meta: {\n        resource: resource,\n        fetch: GET_LIST,\n        onFailure: {\n            notification: {\n                body: 'ra.notification.http_error',\n                level: 'warning',\n            },\n        },\n    },\n}); };\nexport var CRUD_GET_LIST = 'RA/CRUD_GET_LIST';\nexport var CRUD_GET_LIST_LOADING = 'RA/CRUD_GET_LIST_LOADING';\nexport var CRUD_GET_LIST_FAILURE = 'RA/CRUD_GET_LIST_FAILURE';\nexport var CRUD_GET_LIST_SUCCESS = 'RA/CRUD_GET_LIST_SUCCESS';\n","import { CREATE } from '../../core';\nexport var crudCreate = function (resource, data, basePath, redirectTo) {\n    if (redirectTo === void 0) { redirectTo = 'edit'; }\n    return ({\n        type: CRUD_CREATE,\n        payload: { data: data },\n        meta: {\n            resource: resource,\n            fetch: CREATE,\n            onSuccess: {\n                notification: {\n                    body: 'ra.notification.created',\n                    level: 'info',\n                    messageArgs: {\n                        smart_count: 1,\n                    },\n                },\n                redirectTo: redirectTo,\n                basePath: basePath,\n            },\n            onFailure: {\n                notification: {\n                    body: 'ra.notification.http_error',\n                    level: 'warning',\n                },\n            },\n        },\n    });\n};\nexport var CRUD_CREATE = 'RA/CRUD_CREATE';\nexport var CRUD_CREATE_LOADING = 'RA/CRUD_CREATE_LOADING';\nexport var CRUD_CREATE_FAILURE = 'RA/CRUD_CREATE_FAILURE';\nexport var CRUD_CREATE_SUCCESS = 'RA/CRUD_CREATE_SUCCESS';\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport uniq from 'lodash/uniq';\nimport { CRUD_GET_LIST_SUCCESS, CRUD_CREATE_SUCCESS, } from '../../../../actions';\nimport { DELETE, DELETE_MANY } from '../../../../core';\nvar initialState = [];\n/**\n * List of the ids of the latest loaded page, regardless of params\n *\n * When loading the list for the first time, useListController grabs the ids\n * from the cachedRequests reducer (not this ids reducer). It's only when the user\n * changes page, sort, or filter, that the useListController hook uses the ids\n * reducer, so as to show the previous list of results while loading the new\n * list (instead of displaying a blank page each time the list params change).\n *\n * @see useListController\n *\n */\nvar idsReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.meta && action.meta.optimistic) {\n        if (action.meta.fetch === DELETE) {\n            var index = previousState\n                .map(function (el) { return el === action.payload.id; }) // eslint-disable-line eqeqeq\n                .indexOf(true);\n            if (index === -1) {\n                return previousState;\n            }\n            return __spreadArray(__spreadArray([], previousState.slice(0, index), true), previousState.slice(index + 1), true);\n        }\n        if (action.meta.fetch === DELETE_MANY) {\n            var newState = previousState.filter(function (el) { return !action.payload.ids.includes(el); });\n            return newState;\n        }\n    }\n    switch (action.type) {\n        case CRUD_GET_LIST_SUCCESS:\n            return action.payload.data.map(function (_a) {\n                var id = _a.id;\n                return id;\n            });\n        case CRUD_CREATE_SUCCESS:\n            return uniq(__spreadArray([action.payload.data.id], previousState, true));\n        default:\n            return previousState;\n    }\n};\nexport default idsReducer;\nexport var getIds = function (state) { return state; };\n","import { CRUD_GET_LIST_SUCCESS } from '../../../../actions/dataActions';\n/**\n * This resource reducer is false until the list loads successfully\n */\nvar loadedOnce = function (previousState, _a) {\n    if (previousState === void 0) { previousState = false; }\n    var type = _a.type;\n    // early return\n    if (previousState === true) {\n        return previousState;\n    }\n    if (type === CRUD_GET_LIST_SUCCESS) {\n        return true;\n    }\n    return previousState;\n};\nexport default loadedOnce;\n","import { CRUD_CHANGE_LIST_PARAMS, } from '../../../../actions/listActions';\nvar defaultState = {\n    sort: null,\n    order: null,\n    page: 1,\n    perPage: null,\n    filter: {},\n};\nvar paramsReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = defaultState; }\n    switch (action.type) {\n        case CRUD_CHANGE_LIST_PARAMS:\n            return action.payload;\n        default:\n            return previousState;\n    }\n};\nexport default paramsReducer;\n","import { DELETE } from '../../core';\nexport var crudDelete = function (resource, id, previousData, basePath, redirectTo, refresh) {\n    if (redirectTo === void 0) { redirectTo = 'list'; }\n    if (refresh === void 0) { refresh = true; }\n    return ({\n        type: CRUD_DELETE,\n        payload: { id: id, previousData: previousData },\n        meta: {\n            resource: resource,\n            fetch: DELETE,\n            onSuccess: {\n                notification: {\n                    body: 'ra.notification.deleted',\n                    level: 'info',\n                    messageArgs: {\n                        smart_count: 1,\n                    },\n                },\n                refresh: refresh,\n                redirectTo: redirectTo,\n                basePath: basePath,\n            },\n            onFailure: {\n                notification: {\n                    body: 'ra.notification.http_error',\n                    level: 'warning',\n                },\n            },\n        },\n    });\n};\nexport var CRUD_DELETE = 'RA/CRUD_DELETE';\nexport var CRUD_DELETE_LOADING = 'RA/CRUD_DELETE_LOADING';\nexport var CRUD_DELETE_FAILURE = 'RA/CRUD_DELETE_FAILURE';\nexport var CRUD_DELETE_SUCCESS = 'RA/CRUD_DELETE_SUCCESS';\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { SET_LIST_SELECTED_IDS, TOGGLE_LIST_ITEM, CRUD_DELETE_SUCCESS, } from '../../../../actions';\nimport { DELETE, DELETE_MANY } from '../../../../core';\nvar initialState = [];\nvar selectedIdsReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.type === SET_LIST_SELECTED_IDS) {\n        return action.payload;\n    }\n    if (action.type === TOGGLE_LIST_ITEM) {\n        var index = previousState.indexOf(action.payload);\n        if (index > -1) {\n            return __spreadArray(__spreadArray([], previousState.slice(0, index), true), previousState.slice(index + 1), true);\n        }\n        else {\n            return __spreadArray(__spreadArray([], previousState, true), [action.payload], false);\n        }\n    }\n    if (action.type === CRUD_DELETE_SUCCESS) {\n        var index = previousState.indexOf(action.payload.data.id);\n        if (index > -1) {\n            return __spreadArray(__spreadArray([], previousState.slice(0, index), true), previousState.slice(index + 1), true);\n        }\n    }\n    if (action.meta && action.meta.optimistic) {\n        if (action.meta.fetch === DELETE) {\n            var index = previousState.indexOf(action.payload.id);\n            if (index === -1) {\n                return previousState;\n            }\n            return __spreadArray(__spreadArray([], previousState.slice(0, index), true), previousState.slice(index + 1), true);\n        }\n        if (action.meta.fetch === DELETE_MANY) {\n            return previousState.filter(function (id) { return !action.payload.ids.includes(id); });\n        }\n    }\n    return action.meta && action.meta.unselectAll\n        ? initialState\n        : previousState;\n};\nexport default selectedIdsReducer;\n","import { CRUD_GET_LIST_SUCCESS, } from '../../../../actions/dataActions';\nimport { DELETE, DELETE_MANY } from '../../../../core';\nvar totalReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = null; }\n    if (action.type === CRUD_GET_LIST_SUCCESS) {\n        return action.payload.total;\n    }\n    if (action.meta && action.meta.optimistic) {\n        if (action.meta.fetch === DELETE) {\n            return previousState === null ? null : previousState - 1;\n        }\n        if (action.meta.fetch === DELETE_MANY) {\n            return previousState === null\n                ? null\n                : previousState - action.payload.ids.length;\n        }\n    }\n    return previousState;\n};\nexport default totalReducer;\n","import { combineReducers } from 'redux';\nimport cachedRequests from './cachedRequests';\nimport expanded from './expanded';\nimport ids from './ids';\nimport loadedOnce from './loadedOnce';\nimport params from './params';\nimport selectedIds from './selectedIds';\nimport total from './total';\nvar defaultReducer = function () { return null; };\nexport default combineReducers({\n    /**\n     * ts-jest does some aggressive module mocking when unit testing reducers individually.\n     * To avoid 'No reducer provided for key \"...\"' warnings,\n     * we pass default reducers. Sorry for legibility.\n     *\n     * @see https://stackoverflow.com/questions/43375079/redux-warning-only-appearing-in-tests\n     */\n    cachedRequests: cachedRequests || defaultReducer,\n    expanded: expanded || defaultReducer,\n    ids: ids || defaultReducer,\n    loadedOnce: loadedOnce || defaultReducer,\n    params: params || defaultReducer,\n    selectedIds: selectedIds || defaultReducer,\n    total: total || defaultReducer,\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { FETCH_END, REFRESH_VIEW } from '../../../actions';\nimport { CREATE, DELETE, DELETE_MANY, GET_LIST, GET_MANY, GET_MANY_REFERENCE, GET_ONE, UPDATE, UPDATE_MANY, } from '../../../core';\nvar initialState = {};\nvar validityReducer = function (previousState, _a) {\n    if (previousState === void 0) { previousState = initialState; }\n    var type = _a.type, payload = _a.payload, requestPayload = _a.requestPayload, meta = _a.meta;\n    if (type === REFRESH_VIEW) {\n        return initialState;\n    }\n    if (!meta ||\n        !meta.fetchResponse ||\n        meta.fetchStatus !== FETCH_END ||\n        meta.fromCache === true) {\n        return previousState;\n    }\n    if (payload.validUntil) {\n        // store the validity date\n        switch (meta.fetchResponse) {\n            case GET_LIST:\n            case GET_MANY:\n            case GET_MANY_REFERENCE:\n                return addIds(payload.data.map(function (record) { return record.id; }), payload.validUntil, previousState);\n            case UPDATE_MANY:\n                return addIds(payload.data, payload.validUntil, previousState);\n            case UPDATE:\n            case CREATE:\n            case GET_ONE:\n                return addIds([payload.data.id], payload.validUntil, previousState);\n            case DELETE:\n            case DELETE_MANY:\n                throw new Error('Responses to dataProvider.delete() or dataProvider.deleteMany() should not contain a validUntil param');\n            default:\n                return previousState;\n        }\n    }\n    else {\n        // remove the validity date\n        switch (meta.fetchResponse) {\n            case GET_LIST:\n            case GET_MANY:\n            case GET_MANY_REFERENCE:\n                return removeIds(payload.data.map(function (record) { return record.id; }), previousState);\n            case UPDATE:\n            case CREATE:\n            case GET_ONE:\n                return removeIds([payload.data.id], previousState);\n            case UPDATE_MANY:\n                return removeIds(payload.data, previousState);\n            case DELETE:\n                return removeIds([requestPayload.id], previousState);\n            case DELETE_MANY:\n                return removeIds(requestPayload.ids, previousState);\n            default:\n                return previousState;\n        }\n    }\n};\nvar addIds = function (ids, validUntil, oldValidityRegistry) {\n    if (ids === void 0) { ids = []; }\n    var validityRegistry = __assign({}, oldValidityRegistry);\n    ids.forEach(function (id) {\n        validityRegistry[id] = validUntil;\n    });\n    return validityRegistry;\n};\nvar removeIds = function (ids, oldValidityRegistry) {\n    if (ids === void 0) { ids = []; }\n    var validityRegistry = __assign({}, oldValidityRegistry);\n    ids.forEach(function (id) {\n        delete validityRegistry[id];\n    });\n    return validityRegistry;\n};\nexport default validityReducer;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { REGISTER_RESOURCE, UNREGISTER_RESOURCE, REFRESH_VIEW, } from '../../../actions';\nimport data from './data';\nimport list from './list';\nimport validity from './validity';\nvar initialState = {};\nexport default (function (previousState, action) {\n    var _a;\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.type === REGISTER_RESOURCE) {\n        var resourceState = {\n            props: action.payload,\n            data: data(undefined, action),\n            list: list(undefined, action),\n            validity: validity(undefined, action),\n        };\n        return __assign(__assign({}, previousState), (_a = {}, _a[action.payload.name] = resourceState, _a));\n    }\n    if (action.type === UNREGISTER_RESOURCE) {\n        return Object.keys(previousState).reduce(function (acc, key) {\n            var _a;\n            if (key === action.payload) {\n                return acc;\n            }\n            return __assign(__assign({}, acc), (_a = {}, _a[key] = previousState[key], _a));\n        }, {});\n    }\n    if (action.type !== REFRESH_VIEW &&\n        (!action.meta || !action.meta.resource)) {\n        return previousState;\n    }\n    var resources = Object.keys(previousState);\n    var newState = resources.reduce(function (acc, resource) {\n        var _a;\n        return (__assign(__assign({}, acc), (_a = {}, _a[resource] = action.type === REFRESH_VIEW ||\n            action.meta.resource === resource\n            ? {\n                props: previousState[resource].props,\n                data: data(previousState[resource].data, action),\n                list: list(previousState[resource].list, action),\n                validity: validity(previousState[resource].validity, action),\n            }\n            : previousState[resource], _a)));\n    }, {});\n    return newState;\n});\nexport var getResources = function (state) {\n    return Object.keys(state).map(function (key) { return state[key].props; });\n};\nexport var getReferenceResource = function (state, props) { return state[props.reference]; };\n","import { FETCH_START, FETCH_END, FETCH_ERROR, FETCH_CANCEL, } from '../../actions/fetchActions';\nvar loadingReducer = function (previousState, _a) {\n    if (previousState === void 0) { previousState = 0; }\n    var type = _a.type;\n    switch (type) {\n        case FETCH_START:\n            return previousState + 1;\n        case FETCH_END:\n        case FETCH_ERROR:\n        case FETCH_CANCEL:\n            return Math.max(previousState - 1, 0);\n        default:\n            return previousState;\n    }\n};\nexport default loadingReducer;\n","import { SHOW_NOTIFICATION, HIDE_NOTIFICATION, RESET_NOTIFICATION, } from '../../actions/notificationActions';\nimport { UNDO } from '../../actions/undoActions';\nvar initialState = [];\nvar notificationsReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = initialState; }\n    switch (action.type) {\n        case SHOW_NOTIFICATION:\n            return previousState.concat(action.payload);\n        case HIDE_NOTIFICATION:\n        case UNDO:\n            return previousState.slice(1);\n        case RESET_NOTIFICATION:\n            return initialState;\n        default:\n            return previousState;\n    }\n};\nexport default notificationsReducer;\n/**\n * Returns the first available notification to show\n * @param {Object} state - Redux state\n */\nexport var getNotification = function (state) { return state.admin.notifications[0]; };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { CRUD_GET_MATCHING_SUCCESS, CRUD_GET_MATCHING_FAILURE, } from '../../../actions/dataActions';\nvar initialState = {};\nvar possibleValuesreducer = function (previousState, action) {\n    var _a, _b;\n    if (previousState === void 0) { previousState = initialState; }\n    switch (action.type) {\n        case CRUD_GET_MATCHING_SUCCESS:\n            return __assign(__assign({}, previousState), (_a = {}, _a[action.meta.relatedTo] = action.payload.data.map(function (record) { return record.id; }), _a));\n        case CRUD_GET_MATCHING_FAILURE:\n            return __assign(__assign({}, previousState), (_b = {}, _b[action.meta.relatedTo] = { error: action.error }, _b));\n        default:\n            return previousState;\n    }\n};\nexport var getPossibleReferenceValues = function (state, props) {\n    return state[props.referenceSource(props.resource, props.source)];\n};\nexport var getPossibleReferences = function (referenceState, possibleValues, selectedIds) {\n    if (selectedIds === void 0) { selectedIds = []; }\n    if (!possibleValues) {\n        return null;\n    }\n    if (possibleValues.error) {\n        return possibleValues;\n    }\n    var possibleValuesList = Array.from(possibleValues);\n    selectedIds.forEach(function (id) {\n        return possibleValuesList.some(function (value) { return value === id; }) ||\n            possibleValuesList.unshift(id);\n    });\n    return (possibleValuesList\n        // @ts-ignore\n        .map(function (id) { return referenceState.data[id]; })\n        .filter(function (r) { return typeof r !== 'undefined'; }));\n};\nexport default possibleValuesreducer;\n","import { GET_LIST } from '../../core';\nexport var crudGetMatching = function (reference, relatedTo, pagination, sort, filter) { return ({\n    type: CRUD_GET_MATCHING,\n    payload: { pagination: pagination, sort: sort, filter: filter },\n    meta: {\n        resource: reference,\n        relatedTo: relatedTo,\n        fetch: GET_LIST,\n        onFailure: {\n            notification: {\n                body: 'ra.notification.http_error',\n                level: 'warning',\n            },\n        },\n    },\n}); };\nexport var CRUD_GET_MATCHING = 'RA/CRUD_GET_MATCHING';\nexport var CRUD_GET_MATCHING_LOADING = 'RA/CRUD_GET_MATCHING_LOADING';\nexport var CRUD_GET_MATCHING_FAILURE = 'RA/CRUD_GET_MATCHING_FAILURE';\nexport var CRUD_GET_MATCHING_SUCCESS = 'RA/CRUD_GET_MATCHING_SUCCESS';\n","import { combineReducers } from 'redux';\nimport oneToMany from './oneToMany';\nimport possibleValues, { getPossibleReferences as pvGetPossibleReferences, getPossibleReferenceValues as pvGetPossibleReferenceValues, } from './possibleValues';\nvar defaultReducer = function () { return null; };\nexport default combineReducers({\n    /**\n     * ts-jest does some aggressive module mocking when unit testing reducers individually.\n     * To avoid 'No reducer provided for key \"...\"' warnings,\n     * we pass default reducers. Sorry for legibility.\n     *\n     * @see https://stackoverflow.com/questions/43375079/redux-warning-only-appearing-in-tests\n     */\n    oneToMany: oneToMany || defaultReducer,\n    possibleValues: possibleValues || defaultReducer,\n});\nexport var getPossibleReferenceValues = function (state, props) {\n    return pvGetPossibleReferenceValues(state.possibleValues, props);\n};\nexport var getPossibleReferences = pvGetPossibleReferences;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { TOGGLE_SIDEBAR, SET_SIDEBAR_VISIBILITY, REFRESH_VIEW, START_OPTIMISTIC_MODE, STOP_OPTIMISTIC_MODE, } from '../../actions';\nimport { SET_AUTOMATIC_REFRESH, } from '../../actions/uiActions';\n// Match the medium breakpoint defined in the material-ui theme\n// See https://v4.mui.com/customization/breakpoints/#breakpoints\nvar isDesktop = function () {\n    // (min-width: 960px) => theme.breakpoints.up('md')\n    return typeof window !== 'undefined' &&\n        window.matchMedia &&\n        typeof window.matchMedia === 'function'\n        ? window.matchMedia('(min-width:960px)').matches\n        : false;\n};\nvar defaultState = {\n    automaticRefreshEnabled: true,\n    sidebarOpen: isDesktop(),\n    optimistic: false,\n    viewVersion: 0,\n};\nvar uiReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = defaultState; }\n    switch (action.type) {\n        case TOGGLE_SIDEBAR:\n            return __assign(__assign({}, previousState), { sidebarOpen: !previousState.sidebarOpen });\n        case SET_SIDEBAR_VISIBILITY:\n            return __assign(__assign({}, previousState), { sidebarOpen: action.payload });\n        case SET_AUTOMATIC_REFRESH:\n            return __assign(__assign({}, previousState), { automaticRefreshEnabled: action.payload });\n        case REFRESH_VIEW:\n            return __assign(__assign({}, previousState), { viewVersion: previousState.viewVersion + 1 });\n        case START_OPTIMISTIC_MODE:\n            return __assign(__assign({}, previousState), { optimistic: true });\n        case STOP_OPTIMISTIC_MODE:\n            return __assign(__assign({}, previousState), { optimistic: false });\n        default:\n            return previousState;\n    }\n};\nexport default uiReducer;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n// reducer for queries called via useQueryWithStore and without a custom action name\nvar customQueriesReducer = function (previousState, _a) {\n    var _b;\n    if (previousState === void 0) { previousState = {}; }\n    var type = _a.type, requestPayload = _a.requestPayload, payload = _a.payload, meta = _a.meta;\n    if (type !== 'CUSTOM_QUERY_SUCCESS') {\n        return previousState;\n    }\n    var key = JSON.stringify({\n        type: meta.fetchResponse,\n        resource: meta.resource,\n        payload: requestPayload,\n    });\n    return __assign(__assign({}, previousState), (_b = {}, _b[key] = payload, _b));\n};\nexport default customQueriesReducer;\n","import { combineReducers } from 'redux';\nimport resources, { getResources as resourceGetResources, getReferenceResource as resourceGetReferenceResource, } from './resource';\nimport loading from './loading';\nimport notifications from './notifications';\nimport references, { getPossibleReferenceValues as referencesGetPossibleReferenceValues, } from './references';\nimport ui from './ui';\nimport customQueries from './customQueries';\nvar defaultReducer = function () { return null; };\nexport default combineReducers({\n    /**\n     * ts-jest does some aggressive module mocking when unit testing reducers individually.\n     * To avoid 'No reducer provided for key \"...\"' warnings,\n     * we pass default reducers. Sorry for legibility.\n     *\n     * @see https://stackoverflow.com/questions/43375079/redux-warning-only-appearing-in-tests\n     */\n    resources: resources || defaultReducer,\n    customQueries: customQueries || defaultReducer,\n    loading: loading || defaultReducer,\n    notifications: notifications || defaultReducer,\n    references: references || defaultReducer,\n    ui: ui || defaultReducer,\n});\nexport var getPossibleReferenceValues = function (state, props) {\n    return referencesGetPossibleReferenceValues(state.references, props);\n};\nexport var getResources = function (state) { return resourceGetResources(state.resources); };\nexport var getReferenceResource = function (state, props) {\n    return resourceGetReferenceResource(state.resources, props);\n};\nexport { getPossibleReferences } from './references';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { combineReducers } from 'redux';\nimport { connectRouter } from 'connected-react-router';\nimport admin, { getResources as adminGetResources, getReferenceResource as adminGetReferenceResource, getPossibleReferenceValues as adminGetPossibleReferenceValues, } from './admin';\nexport { getNotification } from './admin/notifications';\nexport default (function (customReducers, history) {\n    return combineReducers(__assign({ admin: admin, router: connectRouter(history) }, customReducers));\n});\nexport var getPossibleReferenceValues = function (state, props) {\n    return adminGetPossibleReferenceValues(state.admin, props);\n};\nexport var getResources = function (state) { return adminGetResources(state.admin); };\nexport var getReferenceResource = function (state, props) {\n    return adminGetReferenceResource(state.admin, props);\n};\nexport { getPossibleReferences } from './admin';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexport var USER_LOGIN = 'RA/USER_LOGIN';\nexport var USER_LOGIN_LOADING = 'RA/USER_LOGIN_LOADING';\nexport var USER_LOGIN_FAILURE = 'RA/USER_LOGIN_FAILURE';\nexport var USER_LOGIN_SUCCESS = 'RA/USER_LOGIN_SUCCESS';\nexport var userLogin = function (payload, pathName) { return ({\n    type: USER_LOGIN,\n    payload: payload,\n    meta: { auth: true, pathName: pathName },\n}); };\nexport var USER_CHECK = 'RA/USER_CHECK';\nexport var USER_CHECK_SUCCESS = 'RA/USER_CHECK_SUCCESS';\nexport var userCheck = function (payload, pathName, routeParams) {\n    if (routeParams === void 0) { routeParams = {}; }\n    return ({\n        type: USER_CHECK,\n        payload: __assign(__assign({}, payload), { routeParams: routeParams }),\n        meta: { auth: true, pathName: pathName },\n    });\n};\nexport var USER_LOGOUT = 'RA/USER_LOGOUT';\n/**\n * Action to trigger logout of the current user. The entire redux state will be cleared\n * thanks to the resettableAppReducer in Admin.\n * @see: Admin.js\n * @param redirectTo Path to direct to after logout\n * @return {{type: string, payload: {redirectTo: string}, meta: {auth: boolean}}}\n */\nexport var userLogout = function (redirectTo) { return ({\n    type: USER_LOGOUT,\n    payload: { redirectTo: redirectTo },\n    meta: { auth: true },\n}); };\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { all, put, call, select, takeLatest, takeEvery, } from 'redux-saga/effects';\nimport { push, replace } from 'connected-react-router';\nimport { showNotification, hideNotification, } from '../actions/notificationActions';\nimport { USER_LOGIN, USER_LOGIN_LOADING, USER_LOGIN_SUCCESS, USER_LOGIN_FAILURE, USER_CHECK, USER_LOGOUT, } from '../actions/authActions';\nimport { FETCH_ERROR } from '../actions/fetchActions';\nimport { clearState } from '../actions/clearActions';\nexport default (function (authProvider) {\n    if (!authProvider) {\n        return function () { return null; };\n    }\n    return function watchAuthActions() {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, all([\n                        takeEvery(USER_LOGIN, handleLogin(authProvider)),\n                        takeEvery(USER_CHECK, handleCheck(authProvider)),\n                        takeEvery(USER_LOGOUT, handleLogout(authProvider)),\n                        takeLatest(FETCH_ERROR, handleFetchError(authProvider)),\n                    ])];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n});\nvar nextPathnameSelector = function (state) {\n    var locationState = state.router.location.state;\n    return locationState && locationState.nextPathname;\n};\nvar currentPathnameSelector = function (state) { return state.router.location; };\nvar getErrorMessage = function (error, defaultMessage) {\n    return typeof error === 'string'\n        ? error\n        : typeof error === 'undefined' || !error.message\n            ? defaultMessage\n            : error.message;\n};\nexport var handleLogin = function (authProvider) {\n    return function (action) {\n        var payload, meta, authPayload, redirectTo, e_1, errorMessage;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    payload = action.payload, meta = action.meta;\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 7, , 10]);\n                    return [4 /*yield*/, put({ type: USER_LOGIN_LOADING })];\n                case 2:\n                    _a.sent();\n                    return [4 /*yield*/, call([authProvider, 'login'], payload)];\n                case 3:\n                    authPayload = _a.sent();\n                    return [4 /*yield*/, put({\n                            type: USER_LOGIN_SUCCESS,\n                            payload: authPayload,\n                        })];\n                case 4:\n                    _a.sent();\n                    return [4 /*yield*/, meta.pathName ||\n                            select(nextPathnameSelector)];\n                case 5:\n                    redirectTo = _a.sent();\n                    return [4 /*yield*/, put(push(redirectTo || '/'))];\n                case 6:\n                    _a.sent();\n                    return [3 /*break*/, 10];\n                case 7:\n                    e_1 = _a.sent();\n                    return [4 /*yield*/, put({\n                            type: USER_LOGIN_FAILURE,\n                            error: e_1,\n                            meta: { auth: true },\n                        })];\n                case 8:\n                    _a.sent();\n                    errorMessage = getErrorMessage(e_1, 'ra.auth.sign_in_error');\n                    return [4 /*yield*/, put(showNotification(errorMessage, 'warning'))];\n                case 9:\n                    _a.sent();\n                    return [3 /*break*/, 10];\n                case 10: return [2 /*return*/];\n            }\n        });\n    };\n};\nexport var handleCheck = function (authProvider) {\n    return function (action) {\n        var payload, meta, error_1, redirectTo, errorMessage;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    payload = action.payload, meta = action.meta;\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 8]);\n                    return [4 /*yield*/, call([authProvider, 'checkAuth'], payload)];\n                case 2:\n                    _a.sent();\n                    return [3 /*break*/, 8];\n                case 3:\n                    error_1 = _a.sent();\n                    return [4 /*yield*/, call([authProvider, 'logout'], undefined)];\n                case 4:\n                    redirectTo = _a.sent();\n                    return [4 /*yield*/, put(replace({\n                            pathname: (error_1 && error_1.redirectTo) || redirectTo || '/login',\n                            state: { nextPathname: meta.pathName },\n                        }))];\n                case 5:\n                    _a.sent();\n                    // Clear the state before showing a notification as it would be dismissed immediately otherwise\n                    return [4 /*yield*/, put(clearState())];\n                case 6:\n                    // Clear the state before showing a notification as it would be dismissed immediately otherwise\n                    _a.sent();\n                    errorMessage = getErrorMessage(error_1, 'ra.auth.auth_check_error');\n                    return [4 /*yield*/, put(showNotification(errorMessage, 'warning'))];\n                case 7:\n                    _a.sent();\n                    return [3 /*break*/, 8];\n                case 8: return [2 /*return*/];\n            }\n        });\n    };\n};\nexport var handleLogout = function (authProvider) {\n    return function (action) {\n        var payload, redirectTo;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    payload = action.payload;\n                    return [4 /*yield*/, call([authProvider, 'logout'], undefined)];\n                case 1:\n                    redirectTo = _a.sent();\n                    return [4 /*yield*/, put(push((payload && payload.redirectTo) || redirectTo || '/login'))];\n                case 2:\n                    _a.sent();\n                    return [4 /*yield*/, put(clearState())];\n                case 3:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n};\nexport var handleFetchError = function (authProvider) {\n    return function (action) {\n        var error, e_2, nextPathname, redirectTo;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    error = action.error;\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 10]);\n                    return [4 /*yield*/, call([authProvider, 'checkError'], error)];\n                case 2:\n                    _a.sent();\n                    return [3 /*break*/, 10];\n                case 3:\n                    e_2 = _a.sent();\n                    return [4 /*yield*/, select(currentPathnameSelector)];\n                case 4:\n                    nextPathname = _a.sent();\n                    return [4 /*yield*/, call([authProvider, 'logout'], undefined)];\n                case 5:\n                    redirectTo = _a.sent();\n                    return [4 /*yield*/, put(push({\n                            pathname: redirectTo || '/login',\n                            state: { nextPathname: nextPathname },\n                        }))];\n                case 6:\n                    _a.sent();\n                    // Clear the state before showing a notification as it would be dismissed immediately otherwise\n                    return [4 /*yield*/, put(clearState())];\n                case 7:\n                    // Clear the state before showing a notification as it would be dismissed immediately otherwise\n                    _a.sent();\n                    return [4 /*yield*/, put(hideNotification())];\n                case 8:\n                    _a.sent();\n                    return [4 /*yield*/, put(showNotification('ra.notification.logged_out', 'warning'))];\n                case 9:\n                    _a.sent();\n                    return [3 /*break*/, 10];\n                case 10: return [2 /*return*/];\n            }\n        });\n    };\n};\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { call, takeEvery } from 'redux-saga/effects';\n/**\n * Callback Side Effects\n */\nfunction handleCallback(_a) {\n    var payload = _a.payload, requestPayload = _a.requestPayload, error = _a.error, callback = _a.meta.callback;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0: return [4 /*yield*/, call(callback, { payload: payload, requestPayload: requestPayload, error: error })];\n            case 1:\n                _b.sent();\n                return [2 /*return*/];\n        }\n    });\n}\nexport default function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, takeEvery(function (action) { return action.meta && action.meta.callback; }, handleCallback)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { all, call, cancelled, put, select, takeEvery, } from 'redux-saga/effects';\nimport { FETCH_CANCEL, FETCH_END, FETCH_ERROR, FETCH_START } from '../actions';\nimport { fetchActionsWithRecordResponse, fetchActionsWithArrayOfIdentifiedRecordsResponse, fetchActionsWithArrayOfRecordsResponse, fetchActionsWithTotalResponse, sanitizeFetchType, } from '../core';\nfunction validateResponseFormat(response, type, logger // eslint-disable-line no-console\n) {\n    if (logger === void 0) { logger = console.error; }\n    if (!response.hasOwnProperty('data')) {\n        logger(\"The response to '\" + type + \"' must be like { data: ... }, but the received response does not have a 'data' key. The dataProvider is probably wrong for '\" + type + \"'.\");\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithArrayOfRecordsResponse.includes(type) &&\n        !Array.isArray(response.data)) {\n        logger(\"The response to '\" + type + \"' must be like { data : [...] }, but the received data is not an array. The dataProvider is probably wrong for '\" + type + \"'\");\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithArrayOfIdentifiedRecordsResponse.includes(type) &&\n        Array.isArray(response.data) &&\n        response.data.length > 0 &&\n        response.data.some(function (d) { return !d.hasOwnProperty('id'); })) {\n        logger(\"The response to '\" + type + \"' must be like { data : [{ id: 123, ...}, ...] }, but at least one received data item do not have an 'id' key. The dataProvider is probably wrong for '\" + type + \"'\");\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithRecordResponse.includes(type) &&\n        !response.data.hasOwnProperty('id')) {\n        logger(\"The response to '\" + type + \"' must be like { data: { id: 123, ... } }, but the received data does not have an 'id' key. The dataProvider is probably wrong for '\" + type + \"'\");\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithTotalResponse.includes(type) &&\n        !response.hasOwnProperty('total')) {\n        logger(\"The response to '\" + type + \"' must be like  { data: [...], total: 123 }, but the received response does not have a 'total' key. The dataProvider is probably wrong for '\" + type + \"'\");\n        throw new Error('ra.notification.data_provider_error');\n    }\n}\nexport function handleFetch(dataProvider, action) {\n    var type, payload, _a, fetchMeta, onSuccess, onFailure, meta, restType, successSideEffects, failureSideEffects, isOptimistic, response, error_1;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                type = action.type, payload = action.payload, _a = action.meta, fetchMeta = _a.fetch, onSuccess = _a.onSuccess, onFailure = _a.onFailure, meta = __rest(_a, [\"fetch\", \"onSuccess\", \"onFailure\"]);\n                restType = fetchMeta;\n                successSideEffects = onSuccess instanceof Function ? {} : onSuccess;\n                failureSideEffects = onFailure instanceof Function ? {} : onFailure;\n                _b.label = 1;\n            case 1:\n                _b.trys.push([1, 7, 10, 14]);\n                return [4 /*yield*/, select(function (state) { return state.admin.ui.optimistic; })];\n            case 2:\n                isOptimistic = _b.sent();\n                if (isOptimistic) {\n                    // in optimistic mode, all fetch actions are canceled,\n                    // so the admin uses the store without synchronization\n                    return [2 /*return*/];\n                }\n                return [4 /*yield*/, all([\n                        put({ type: type + \"_LOADING\", payload: payload, meta: meta }),\n                        put({ type: FETCH_START }),\n                    ])];\n            case 3:\n                _b.sent();\n                return [4 /*yield*/, call(dataProvider[sanitizeFetchType(restType)], meta.resource, payload)];\n            case 4:\n                response = _b.sent();\n                if (process.env.NODE_ENV !== 'production') {\n                    validateResponseFormat(response, restType);\n                }\n                return [4 /*yield*/, put({\n                        type: type + \"_SUCCESS\",\n                        payload: response,\n                        requestPayload: payload,\n                        meta: __assign(__assign(__assign({}, meta), successSideEffects), { fetchResponse: restType, fetchStatus: FETCH_END }),\n                    })];\n            case 5:\n                _b.sent();\n                return [4 /*yield*/, put({ type: FETCH_END })];\n            case 6:\n                _b.sent();\n                return [3 /*break*/, 14];\n            case 7:\n                error_1 = _b.sent();\n                return [4 /*yield*/, put({\n                        type: type + \"_FAILURE\",\n                        error: (error_1 && (error_1.message ? error_1.message : error_1)) || null,\n                        payload: (error_1 && error_1.body) || null,\n                        requestPayload: payload,\n                        meta: __assign(__assign(__assign({}, meta), failureSideEffects), { fetchResponse: restType, fetchStatus: FETCH_ERROR }),\n                    })];\n            case 8:\n                _b.sent();\n                return [4 /*yield*/, put({ type: FETCH_ERROR, error: error_1 })];\n            case 9:\n                _b.sent();\n                return [3 /*break*/, 14];\n            case 10: return [4 /*yield*/, cancelled()];\n            case 11:\n                if (!_b.sent()) return [3 /*break*/, 13];\n                return [4 /*yield*/, put({ type: FETCH_CANCEL })];\n            case 12:\n                _b.sent();\n                return [2 /*return*/];\n            case 13: return [7 /*endfinally*/];\n            case 14: return [2 /*return*/];\n        }\n    });\n}\nexport var takeFetchAction = function (action) { return action.meta && action.meta.fetch; };\nvar fetch = function (dataProvider) {\n    return function watchFetch() {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, takeEvery(takeFetchAction, handleFetch, dataProvider)];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n};\nexport default fetch;\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { put, takeEvery } from 'redux-saga/effects';\nimport { showNotification, } from '../actions/notificationActions';\n/**\n * Notification Side Effects\n */\nfunction handleNotification(_a) {\n    var body, level, _b, messageArgs;\n    var error = _a.error, _c = _a.meta, notification = _c.notification, optimistic = _c.optimistic;\n    return __generator(this, function (_d) {\n        switch (_d.label) {\n            case 0:\n                body = notification.body, level = notification.level, _b = notification.messageArgs, messageArgs = _b === void 0 ? {} : _b;\n                if (!error) return [3 /*break*/, 2];\n                return [4 /*yield*/, put(showNotification(typeof error === 'string' ? error : error.message || body, level || 'warning', {\n                        messageArgs: messageArgs,\n                        undoable: false,\n                    }))];\n            case 1: return [2 /*return*/, _d.sent()];\n            case 2: return [4 /*yield*/, put(showNotification(body, level || 'info', {\n                    messageArgs: messageArgs,\n                    undoable: optimistic,\n                }))];\n            case 3:\n                _d.sent();\n                return [2 /*return*/];\n        }\n    });\n}\nexport default function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, takeEvery(\n                // @ts-ignore\n                function (action) { return action.meta && action.meta.notification; }, handleNotification)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { put, takeEvery } from 'redux-saga/effects';\nimport { push } from 'connected-react-router';\nimport resolveRedirectTo from '../util/resolveRedirectTo';\nimport { refreshView } from '../actions/uiActions';\n/**\n * Redirection Side Effects\n */\nexport function handleRedirection(_a) {\n    var payload = _a.payload, requestPayload = _a.requestPayload, _b = _a.meta, basePath = _b.basePath, redirectTo = _b.redirectTo;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                if (!!redirectTo) return [3 /*break*/, 2];\n                return [4 /*yield*/, put(refreshView())];\n            case 1:\n                _c.sent();\n                return [2 /*return*/];\n            case 2: return [4 /*yield*/, put(push(resolveRedirectTo(redirectTo, basePath, payload\n                    ? payload.id || (payload.data ? payload.data.id : null)\n                    : requestPayload\n                        ? requestPayload.id\n                        : null, payload && payload.data\n                    ? payload.data\n                    : requestPayload && requestPayload.data\n                        ? requestPayload.data\n                        : null)))];\n            case 3:\n                _c.sent();\n                return [2 /*return*/];\n        }\n    });\n}\nexport default function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, takeEvery(\n                // @ts-ignore\n                function (action) { return action.meta && typeof action.meta.redirectTo !== 'undefined'; }, handleRedirection)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { cancel, delay, fork, put, takeEvery } from 'redux-saga/effects';\n/**\n * Distinct reducer on ids\n *\n * @example\n * addIds([1, 2, 3], { payload: { ids: [3, 4] } })\n *   => [1, 2, 3, 4]\n */\nvar addIds = function (oldIds, _a) {\n    var ids = _a.payload.ids;\n    // Using a Set ensure we only keep distinct values\n    var oldIdsSet = new Set(oldIds);\n    ids.forEach(function (id) { return oldIdsSet.add(id); });\n    return Array.from(oldIdsSet);\n};\n// We need a factory for this saga in order to unit test it by providing its context (current tasks and accumulations)\nexport var finalizeFactory = function (tasks, accumulations) {\n    /**\n     * Fetch the accumulated value after a delay\n     *\n     * As this gets canceled by subsequent calls to accumulate(), only the last\n     * call to finalize() will not be canceled. The delay acts as a\n     * debounce.\n     *\n     * @see https://redux-saga.js.org/docs/recipes/#debouncing\n     */\n    return function finalize(key, actionCreator) {\n        var accumulatedValue, action;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: \n                // combined with cancel(), this debounces the calls\n                return [4 /*yield*/, delay(50)];\n                case 1:\n                    // combined with cancel(), this debounces the calls\n                    _a.sent();\n                    accumulatedValue = accumulations[key];\n                    // Remove the latest accumulated value so that they do not interfere with later calls\n                    delete accumulations[key];\n                    action = actionCreator(key, accumulatedValue);\n                    return [4 /*yield*/, put(action)];\n                case 2:\n                    _a.sent();\n                    delete tasks[key];\n                    return [2 /*return*/];\n            }\n        });\n    };\n};\n// We need a factory for this saga in order to unit test it by providing its context (current tasks and accumulations)\nexport var accumulateFactory = function (tasks, accumulations, finalize) {\n    /**\n     * Accumulate actions and eventually redispatch an action with the accumulated payload\n     *\n     * @example\n     * accumulate({\n     *    type: CRUD_GET_MANY_ACCUMULATE,\n     *    payload: { ids: [1, 2, 3], resource: 'posts' },\n     *    meta: { accumulate: crudGetMany }\n     * });\n     * accumulate({\n     *    type: CRUD_GET_MANY_ACCUMULATE,\n     *    payload: { ids: [4, 5], resource: 'posts' },\n     *    meta: { accumulate: crudGetMany }\n     * });\n     *   => crudGetMany({ ids: [1, 2, 3, 4, 5], resource: 'posts' })\n     *\n     * @example\n     * accumulate({\n     *    type: CRUD_GET_MATCHING_ACCUMULATE,\n     *    meta: {\n     *      accumulate: crudGetMatching('posts', 'posts@comments[1].authorId', { page:1, perPage: 10 }, {field: 'id', order: 'DESC' }, {}),\n     *      accumulateValues: () => true,\n     *      accumulateKey: '{\"resource\":\"authors\", \"pagination\":{\"page\":1,\"perPage\":10},\"sort\":{\"field\":\"id\",\"order\":\"DESC\"},\"filter\":{}}'\n     *    }\n     * });\n     * accumulate({\n     *    type: CRUD_GET_MATCHING_ACCUMULATE,\n     *    meta: {\n     *      accumulate: crudGetMatching('posts', 'posts@comments[1].authorId', { page:1, perPage: 10 }, {field: 'id', order: 'DESC' }, {}),\n     *      accumulateValues: () => true,\n     *      accumulateKey: '{\"resource\":\"authors\", \"pagination\":{\"page\":1,\"perPage\":10},\"sort\":{\"field\":\"id\",\"order\":\"DESC\"},\"filter\":{}}'\n     *    }\n     * });\n     *   => crudGetMatching('posts', 'posts@comments[1].authorId', { page:1, perPage: 10 }, {field: 'id', order: 'DESC' }, {})\n     */\n    return function accumulate(action) {\n        var key, accumulateValues, _a, _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    key = action.meta.accumulateKey || action.payload.resource;\n                    if (!tasks[key]) return [3 /*break*/, 2];\n                    return [4 /*yield*/, cancel(tasks[key])];\n                case 1:\n                    _c.sent();\n                    _c.label = 2;\n                case 2:\n                    accumulateValues = action.meta.accumulateValues || addIds;\n                    // accumulateValues is a reducer function, it receives the previous accumulatedValues for\n                    // the provided key, and must return the updated accumulatedValues\n                    accumulations[key] = accumulateValues(accumulations[key], action);\n                    _a = tasks;\n                    _b = key;\n                    return [4 /*yield*/, fork(finalize, key, action.meta.accumulate)];\n                case 3:\n                    _a[_b] = _c.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n};\nexport default function () {\n    var accumulations, tasks;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                accumulations = {};\n                tasks = {};\n                return [4 /*yield*/, takeEvery(function (action) { return action.meta && action.meta.accumulate; }, accumulateFactory(tasks, accumulations, finalizeFactory(tasks, accumulations)))];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { put, takeEvery } from 'redux-saga/effects';\nimport { refreshView } from '../actions/uiActions';\n/**\n * Refresh Side Effects\n */\nfunction handleRefresh() {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, put(refreshView())];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\nexport default function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, takeEvery(function (action) { return action.meta && action.meta.refresh; }, handleRefresh)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { take, takeEvery, put, race } from 'redux-saga/effects';\nimport { showNotification } from '../actions/notificationActions';\nimport { UNDOABLE, UNDO, COMPLETE, startOptimisticMode, stopOptimisticMode, } from '../actions/undoActions';\nimport { refreshView } from '../actions/uiActions';\nexport function handleUndoRace(undoableAction) {\n    var action, _a, onSuccess, onFailure, metaWithoutSideEffects, complete;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                action = undoableAction.payload.action;\n                _a = action.meta, onSuccess = _a.onSuccess, onFailure = _a.onFailure, metaWithoutSideEffects = __rest(_a, [\"onSuccess\", \"onFailure\"]);\n                return [4 /*yield*/, put(startOptimisticMode())];\n            case 1:\n                _b.sent();\n                // dispatch action in optimistic mode (no fetch), with success side effects\n                return [4 /*yield*/, put(__assign(__assign({}, action), { type: action.type + \"_OPTIMISTIC\", meta: __assign(__assign(__assign({}, metaWithoutSideEffects), onSuccess), { optimistic: true }) }))];\n            case 2:\n                // dispatch action in optimistic mode (no fetch), with success side effects\n                _b.sent();\n                return [4 /*yield*/, race({\n                        undo: take(UNDO),\n                        complete: take(COMPLETE),\n                    })];\n            case 3:\n                complete = (_b.sent()).complete;\n                return [4 /*yield*/, put(stopOptimisticMode())];\n            case 4:\n                _b.sent();\n                if (!complete) return [3 /*break*/, 6];\n                // if not cancelled, redispatch the action, this time immediate, and without success side effect\n                return [4 /*yield*/, put(__assign(__assign({}, action), { meta: __assign(__assign({}, metaWithoutSideEffects), { onSuccess: { refresh: true }, onFailure: __assign(__assign({}, onFailure), { refresh: true }) }) }))];\n            case 5:\n                // if not cancelled, redispatch the action, this time immediate, and without success side effect\n                _b.sent();\n                return [3 /*break*/, 9];\n            case 6: return [4 /*yield*/, put(showNotification('ra.notification.canceled'))];\n            case 7:\n                _b.sent();\n                return [4 /*yield*/, put(refreshView())];\n            case 8:\n                _b.sent();\n                _b.label = 9;\n            case 9: return [2 /*return*/];\n        }\n    });\n}\nexport default function watchUndoable() {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: \n            // @ts-ignore\n            return [4 /*yield*/, takeEvery(UNDOABLE, handleUndoRace)];\n            case 1:\n                // @ts-ignore\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { all } from 'redux-saga/effects';\nimport auth from './auth';\nimport callback from './callback';\nimport fetch from './fetch';\nimport notification from './notification';\nimport redirection from './redirection';\nimport accumulate from './accumulate';\nimport refresh from './refresh';\nimport undo from './undo';\n/**\n * @param {Object} dataProvider A Data Provider function\n * @param {Function} authProvider An Authentication Provider object\n */\nexport default (function (dataProvider, authProvider) {\n    return function admin() {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, all([\n                        auth(authProvider)(),\n                        undo(),\n                        fetch(dataProvider)(),\n                        accumulate(),\n                        redirection(),\n                        refresh(),\n                        notification(),\n                        callback(),\n                    ])];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { createStore, compose, applyMiddleware } from 'redux';\nimport { routerMiddleware } from 'connected-react-router';\nimport createSagaMiddleware from 'redux-saga';\nimport { all, fork } from 'redux-saga/effects';\nimport createAppReducer from '../reducer';\nimport { adminSaga } from '../sideEffect';\nimport { CLEAR_STATE } from '../actions/clearActions';\nexport default (function (_a) {\n    var dataProvider = _a.dataProvider, history = _a.history, _b = _a.customReducers, customReducers = _b === void 0 ? {} : _b, _c = _a.authProvider, authProvider = _c === void 0 ? null : _c, _d = _a.customSagas, customSagas = _d === void 0 ? [] : _d, initialState = _a.initialState;\n    var appReducer = createAppReducer(customReducers, history);\n    var resettableAppReducer = function (state, action) {\n        return appReducer(action.type !== CLEAR_STATE\n            ? state\n            : // Erase data from the store but keep location, notifications, ui prefs, etc.\n             __assign(__assign({}, state), { admin: __assign(__assign({}, state.admin), { loading: 0, resources: {}, customQueries: {}, references: { oneToMany: {}, possibleValues: {} } }) }), action);\n    };\n    var saga = function rootSaga() {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, all(__spreadArray([adminSaga(dataProvider, authProvider)], customSagas, true).map(fork))];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n    var sagaMiddleware = createSagaMiddleware();\n    var typedWindow = typeof window !== 'undefined' && window;\n    var composeEnhancers = (process.env.NODE_ENV === 'development' &&\n        typeof typedWindow !== 'undefined' &&\n        typedWindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ &&\n        typedWindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n            trace: true,\n            traceLimit: 25,\n        })) ||\n        compose;\n    var store = createStore(resettableAppReducer, typeof initialState === 'function' ? initialState() : initialState, composeEnhancers(applyMiddleware(sagaMiddleware, routerMiddleware(history))));\n    sagaMiddleware.run(saga);\n    return store;\n});\n","import { createContext } from 'react';\nvar TranslationContext = createContext({\n    locale: 'en',\n    setLocale: function () { },\n    i18nProvider: {\n        translate: function (x) { return x; },\n        changeLocale: function () { return Promise.resolve(); },\n        getLocale: function () { return 'en'; },\n    },\n});\nTranslationContext.displayName = 'TranslationContext';\nexport { TranslationContext };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { useCallback, useMemo, Children } from 'react';\nimport { useSafeSetState } from '../util/hooks';\nimport { TranslationContext } from './TranslationContext';\n/**\n * Creates a translation context, available to its children\n *\n * @example\n *     const MyApp = () => (\n *         <Provider store={store}>\n *             <TranslationProvider i18nProvider={i18nProvider}>\n *                 <!-- Child components go here -->\n *             </TranslationProvider>\n *         </Provider>\n *     );\n */\nvar TranslationProvider = function (props) {\n    var i18nProvider = props.i18nProvider, children = props.children;\n    var _a = useSafeSetState({\n        locale: i18nProvider ? i18nProvider.getLocale() : 'en',\n        i18nProvider: i18nProvider,\n    }), state = _a[0], setState = _a[1];\n    var setLocale = useCallback(function (newLocale) {\n        return setState(function (state) { return (__assign(__assign({}, state), { locale: newLocale })); });\n    }, [setState]);\n    // Allow locale modification by including setLocale in the context\n    // This can't be done in the initial state because setState doesn't exist yet\n    var value = useMemo(function () { return (__assign(__assign({}, state), { setLocale: setLocale })); }, [setLocale, state]);\n    return (React.createElement(TranslationContext.Provider, { value: value }, Children.only(children)));\n};\nexport default TranslationProvider;\n","import * as React from 'react';\nimport { useContext, useState } from 'react';\nimport { Provider, ReactReduxContext } from 'react-redux';\nimport { createHashHistory } from 'history';\nimport { ConnectedRouter } from 'connected-react-router';\nimport { AuthContext, convertLegacyAuthProvider } from '../auth';\nimport { DataProviderContext, convertLegacyDataProvider, } from '../dataProvider';\nimport createAdminStore from './createAdminStore';\nimport TranslationProvider from '../i18n/TranslationProvider';\nvar CoreAdminContext = function (props) {\n    var authProvider = props.authProvider, dataProvider = props.dataProvider, i18nProvider = props.i18nProvider, children = props.children, history = props.history, customReducers = props.customReducers, customSagas = props.customSagas, initialState = props.initialState;\n    var reduxIsAlreadyInitialized = !!useContext(ReactReduxContext);\n    if (!dataProvider) {\n        throw new Error(\"Missing dataProvider prop.\\nReact-admin requires a valid dataProvider function to work.\");\n    }\n    var finalAuthProvider = authProvider instanceof Function\n        ? convertLegacyAuthProvider(authProvider)\n        : authProvider;\n    var finalDataProvider = dataProvider instanceof Function\n        ? convertLegacyDataProvider(dataProvider)\n        : dataProvider;\n    var finalHistory = history || createHashHistory();\n    var renderCore = function () {\n        return (React.createElement(AuthContext.Provider, { value: finalAuthProvider },\n            React.createElement(DataProviderContext.Provider, { value: finalDataProvider },\n                React.createElement(TranslationProvider, { i18nProvider: i18nProvider }, typeof window !== 'undefined' ? (React.createElement(ConnectedRouter, { history: finalHistory }, children)) : (children)))));\n    };\n    var store = useState(function () {\n        return !reduxIsAlreadyInitialized\n            ? createAdminStore({\n                authProvider: finalAuthProvider,\n                customReducers: customReducers,\n                customSagas: customSagas,\n                dataProvider: finalDataProvider,\n                initialState: initialState,\n                history: finalHistory,\n            })\n            : undefined;\n    })[0];\n    if (reduxIsAlreadyInitialized) {\n        if (!history) {\n            throw new Error(\"Missing history prop.\\nWhen integrating react-admin inside an existing redux Provider, you must provide the same 'history' prop to the <Admin> as the one used to bootstrap your routerMiddleware.\\nReact-admin uses this history for its own ConnectedRouter.\");\n        }\n        return renderCore();\n    }\n    else {\n        return React.createElement(Provider, { store: store }, renderCore());\n    }\n};\nexport default CoreAdminContext;\n","import { AUTH_LOGIN, AUTH_LOGOUT, AUTH_CHECK, AUTH_ERROR, AUTH_GET_PERMISSIONS, } from './types';\n/**\n * Turn a function-based authProvider to an object-based one\n *\n * Allows using legacy authProviders transparently.\n *\n * @param {Function} legacyAuthProvider A legacy authProvider (type, params) => Promise<any>\n *\n * @returns {Object} An authProvider that react-admin can use\n */\nexport default (function (legacyAuthProvider) {\n    var authProvider = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return legacyAuthProvider.apply(null, args);\n    };\n    authProvider.login = function (params) { return legacyAuthProvider(AUTH_LOGIN, params); };\n    authProvider.logout = function (params) { return legacyAuthProvider(AUTH_LOGOUT, params); };\n    authProvider.checkAuth = function (params) { return legacyAuthProvider(AUTH_CHECK, params); };\n    authProvider.checkError = function (error) { return legacyAuthProvider(AUTH_ERROR, error); };\n    authProvider.getPermissions = function (params) {\n        return legacyAuthProvider(AUTH_GET_PERMISSIONS, params);\n    };\n    return authProvider;\n});\n","export var AUTH_LOGIN = 'AUTH_LOGIN';\nexport var AUTH_CHECK = 'AUTH_CHECK';\nexport var AUTH_ERROR = 'AUTH_ERROR';\nexport var AUTH_LOGOUT = 'AUTH_LOGOUT';\nexport var AUTH_GET_PERMISSIONS = 'AUTH_GET_PERMISSIONS';\n","var englishMessages = {\n    ra: {\n        action: {\n            add_filter: 'Add filter',\n            add: 'Add',\n            back: 'Go Back',\n            bulk_actions: '1 item selected |||| %{smart_count} items selected',\n            cancel: 'Cancel',\n            clear_input_value: 'Clear value',\n            clone: 'Clone',\n            confirm: 'Confirm',\n            create: 'Create',\n            create_item: 'Create %{item}',\n            delete: 'Delete',\n            edit: 'Edit',\n            export: 'Export',\n            list: 'List',\n            refresh: 'Refresh',\n            remove_filter: 'Remove this filter',\n            remove: 'Remove',\n            save: 'Save',\n            search: 'Search',\n            select_all: 'Select all',\n            select_row: 'Select this row',\n            show: 'Show',\n            sort: 'Sort',\n            undo: 'Undo',\n            unselect: 'Unselect',\n            expand: 'Expand',\n            close: 'Close',\n            open_menu: 'Open menu',\n            close_menu: 'Close menu',\n            update: 'Update',\n            move_up: 'Move up',\n            move_down: 'Move down',\n        },\n        boolean: {\n            true: 'Yes',\n            false: 'No',\n            null: '',\n        },\n        page: {\n            create: 'Create %{name}',\n            dashboard: 'Dashboard',\n            edit: '%{name} #%{id}',\n            error: 'Something went wrong',\n            list: '%{name}',\n            loading: 'Loading',\n            not_found: 'Not Found',\n            show: '%{name} #%{id}',\n            empty: 'No %{name} yet.',\n            invite: 'Do you want to add one?',\n        },\n        input: {\n            file: {\n                upload_several: 'Drop some files to upload, or click to select one.',\n                upload_single: 'Drop a file to upload, or click to select it.',\n            },\n            image: {\n                upload_several: 'Drop some pictures to upload, or click to select one.',\n                upload_single: 'Drop a picture to upload, or click to select it.',\n            },\n            references: {\n                all_missing: 'Unable to find references data.',\n                many_missing: 'At least one of the associated references no longer appears to be available.',\n                single_missing: 'Associated reference no longer appears to be available.',\n            },\n            password: {\n                toggle_visible: 'Hide password',\n                toggle_hidden: 'Show password',\n            },\n        },\n        message: {\n            about: 'About',\n            are_you_sure: 'Are you sure?',\n            bulk_delete_content: 'Are you sure you want to delete this %{name}? |||| Are you sure you want to delete these %{smart_count} items?',\n            bulk_delete_title: 'Delete %{name} |||| Delete %{smart_count} %{name}',\n            bulk_update_content: 'Are you sure you want to update this %{name}? |||| Are you sure you want to update these %{smart_count} items?',\n            bulk_update_title: 'Update %{name} |||| Update %{smart_count} %{name}',\n            delete_content: 'Are you sure you want to delete this item?',\n            delete_title: 'Delete %{name} #%{id}',\n            details: 'Details',\n            error: \"A client error occurred and your request couldn't be completed.\",\n            invalid_form: 'The form is not valid. Please check for errors',\n            loading: 'The page is loading, just a moment please',\n            no: 'No',\n            not_found: 'Either you typed a wrong URL, or you followed a bad link.',\n            yes: 'Yes',\n            unsaved_changes: \"Some of your changes weren't saved. Are you sure you want to ignore them?\",\n        },\n        navigation: {\n            no_results: 'No results found',\n            no_more_results: 'The page number %{page} is out of boundaries. Try the previous page.',\n            page_out_of_boundaries: 'Page number %{page} out of boundaries',\n            page_out_from_end: 'Cannot go after last page',\n            page_out_from_begin: 'Cannot go before page 1',\n            page_range_info: '%{offsetBegin}-%{offsetEnd} of %{total}',\n            page_rows_per_page: 'Rows per page:',\n            next: 'Next',\n            prev: 'Prev',\n            skip_nav: 'Skip to content',\n        },\n        sort: {\n            sort_by: 'Sort by %{field} %{order}',\n            ASC: 'ascending',\n            DESC: 'descending',\n        },\n        auth: {\n            auth_check_error: 'Please login to continue',\n            user_menu: 'Profile',\n            username: 'Username',\n            password: 'Password',\n            sign_in: 'Sign in',\n            sign_in_error: 'Authentication failed, please retry',\n            logout: 'Logout',\n        },\n        notification: {\n            updated: 'Element updated |||| %{smart_count} elements updated',\n            created: 'Element created',\n            deleted: 'Element deleted |||| %{smart_count} elements deleted',\n            bad_item: 'Incorrect element',\n            item_doesnt_exist: 'Element does not exist',\n            http_error: 'Server communication error',\n            data_provider_error: 'dataProvider error. Check the console for details.',\n            i18n_error: 'Cannot load the translations for the specified language',\n            canceled: 'Action cancelled',\n            logged_out: 'Your session has ended, please reconnect.',\n            not_authorized: \"You're not authorized to access this resource.\",\n        },\n        validation: {\n            required: 'Required',\n            minLength: 'Must be %{min} characters at least',\n            maxLength: 'Must be %{max} characters or less',\n            minValue: 'Must be at least %{min}',\n            maxValue: 'Must be %{max} or less',\n            number: 'Must be a number',\n            email: 'Must be a valid email',\n            oneOf: 'Must be one of: %{options}',\n            regex: 'Must match a specific format (regexp): %{pattern}',\n        },\n    },\n};\nexport default englishMessages;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport Polyglot from 'node-polyglot';\n/**\n * Build a polyglot-based i18nProvider based on a function returning the messages for a locale\n *\n * @example\n *\n * import { Admin, Resource, polyglotI18nProvider } from 'react-admin';\n * import englishMessages from 'ra-language-english';\n * import frenchMessages from 'ra-language-french';\n *\n * const messages = {\n *     fr: frenchMessages,\n *     en: englishMessages,\n * };\n * const i18nProvider = polyglotI18nProvider(locale => messages[locale])\n */\nexport default (function (getMessages, initialLocale, polyglotOptions) {\n    if (initialLocale === void 0) { initialLocale = 'en'; }\n    if (polyglotOptions === void 0) { polyglotOptions = {}; }\n    var locale = initialLocale;\n    var messages = getMessages(initialLocale);\n    if (messages instanceof Promise) {\n        throw new Error(\"The i18nProvider returned a Promise for the messages of the default locale (\" + initialLocale + \"). Please update your i18nProvider to return the messages of the default locale in a synchronous way.\");\n    }\n    var polyglot = new Polyglot(__assign({ locale: locale, phrases: __assign({ '': '' }, messages) }, polyglotOptions));\n    var translate = polyglot.t.bind(polyglot);\n    return {\n        translate: function (key, options) {\n            if (options === void 0) { options = {}; }\n            return translate(key, options);\n        },\n        changeLocale: function (newLocale) {\n            // We systematically return a Promise for the messages because\n            // getMessages may return a Promise\n            return Promise.resolve(getMessages(newLocale)).then(function (messages) {\n                locale = newLocale;\n                var newPolyglot = new Polyglot(__assign({ locale: newLocale, phrases: __assign({ '': '' }, messages) }, polyglotOptions));\n                translate = newPolyglot.t.bind(newPolyglot);\n            });\n        },\n        getLocale: function () { return locale; },\n    };\n});\n","import defaultMessages from 'ra-language-english';\nimport polyglotI18nProvider from 'ra-i18n-polyglot';\nexport default polyglotI18nProvider(function () { return defaultMessages; }, 'en', {\n    allowMissing: true,\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { CoreAdminContext } from 'ra-core';\nimport defaultI18nProvider from './defaultI18nProvider';\nvar AdminContext = function (props) { return (React.createElement(CoreAdminContext, __assign({}, props))); };\nAdminContext.defaultProps = {\n    i18nProvider: defaultI18nProvider,\n};\nAdminContext.displayName = 'AdminContext';\nexport default AdminContext;\n","import { useCallback } from 'react';\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\nimport useLogout from './useLogout';\nimport useNotify from '../sideEffect/useNotify';\n/**\n * Get a callback for calling the authProvider.checkAuth() method.\n * In case of rejection, redirects to the login page, displays a notification,\n * and throws an error.\n *\n * This is a low level hook. See those more specialized hooks\n * for common authentication tasks, based on useCheckAuth.\n *\n * @see useAuthenticated\n * @see useAuthState\n *\n * @returns {Function} checkAuth callback\n *\n * @example\n *\n * import { useCheckAuth } from 'react-admin';\n *\n * const MyProtectedPage = () => {\n *     const checkAuth = useCheckAuth();\n *     useEffect(() => {\n *         checkAuth().catch(() => {});\n *     }, []);\n *     return <p>Private content: EZAEZEZAET</p>\n * } // tip: use useAuthenticated() hook instead\n *\n * const MyPage = () => {\n *     const checkAuth = useCheckAuth();\n *     const [authenticated, setAuthenticated] = useState(true); // optimistic auth\n *     useEffect(() => {\n *         checkAuth({}, false)\n *              .then(() => setAuthenticated(true))\n *              .catch(() => setAuthenticated(false));\n *     }, []);\n *     return authenticated ? <Bar /> : <BarNotAuthenticated />;\n * } // tip: use useAuthState() hook instead\n */\nvar useCheckAuth = function () {\n    var authProvider = useAuthProvider();\n    var notify = useNotify();\n    var logout = useLogout();\n    var checkAuth = useCallback(function (params, logoutOnFailure, redirectTo, disableNotification) {\n        if (params === void 0) { params = {}; }\n        if (logoutOnFailure === void 0) { logoutOnFailure = true; }\n        if (redirectTo === void 0) { redirectTo = defaultAuthParams.loginUrl; }\n        if (disableNotification === void 0) { disableNotification = false; }\n        return authProvider.checkAuth(params).catch(function (error) {\n            if (logoutOnFailure) {\n                logout({}, error && error.redirectTo\n                    ? error.redirectTo\n                    : redirectTo);\n                var shouldSkipNotify = disableNotification ||\n                    (error && error.message === false);\n                !shouldSkipNotify &&\n                    notify(getErrorMessage(error, 'ra.auth.auth_check_error'), 'warning');\n            }\n            throw error;\n        });\n    }, [authProvider, logout, notify]);\n    return authProvider ? checkAuth : checkAuthWithoutAuthProvider;\n};\nvar checkAuthWithoutAuthProvider = function () { return Promise.resolve(); };\nvar getErrorMessage = function (error, defaultMessage) {\n    return typeof error === 'string'\n        ? error\n        : typeof error === 'undefined' || !error.message\n            ? defaultMessage\n            : error.message;\n};\nexport default useCheckAuth;\n","import { useEffect } from 'react';\nimport useCheckAuth from './useCheckAuth';\nvar emptyParams = {};\n/**\n * Restrict access to authenticated users.\n * Redirect anonymous users to the login page.\n *\n * Use it in your custom page components to require\n * authentication.\n *\n * You can set additional `authParams` at will if your authProvider\n * requires it.\n *\n * @example\n *     import { useAuthenticated } from 'react-admin';\n *     const FooPage = () => {\n *         useAuthenticated();\n *         return <Foo />;\n *     }\n *     const CustomRoutes = [\n *         <Route path=\"/foo\" render={() => <FooPage />} />\n *     ];\n *     const App = () => (\n *         <Admin customRoutes={customRoutes}>\n *             ...\n *         </Admin>\n *     );\n */\nexport default (function (params) {\n    if (params === void 0) { params = emptyParams; }\n    var checkAuth = useCheckAuth();\n    useEffect(function () {\n        checkAuth(params).catch(function () { });\n    }, [checkAuth, params]);\n});\n","import { useCallback } from 'react';\nimport useAuthProvider from './useAuthProvider';\nvar getPermissionsWithoutProvider = function () { return Promise.resolve([]); };\n/**\n * Get a callback for calling the authProvider.getPermissions() method.\n *\n * @see useAuthProvider\n *\n * @returns {Function} getPermissions callback\n *\n * This is a low level hook. See those more specialized hooks\n * offering state handling.\n *\n * @see usePermissions\n *\n * @example\n *\n * import { useGetPermissions } from 'react-admin';\n *\n * const Roles = () => {\n *     const [permissions, setPermissions] = useState([]);\n *     const getPermissions = useGetPermissions();\n *     useEffect(() => {\n *         getPermissions().then(permissions => setPermissions(permissions))\n *     }, [])\n *     return (\n *         <ul>\n *             {permissions.map((permission, key) => (\n *                 <li key={key}>{permission}</li>\n *             ))}\n *         </ul>\n *     );\n * }\n */\nvar useGetPermissions = function () {\n    var authProvider = useAuthProvider();\n    var getPermissions = useCallback(function (params) {\n        if (params === void 0) { params = {}; }\n        return authProvider.getPermissions(params);\n    }, [authProvider]);\n    return authProvider ? getPermissions : getPermissionsWithoutProvider;\n};\nexport default useGetPermissions;\n","import { useEffect } from 'react';\nimport isEqual from 'lodash/isEqual';\nimport useGetPermissions from './useGetPermissions';\nimport { useSafeSetState } from '../util/hooks';\nvar emptyParams = {};\n// keep a cache of already fetched permissions to initialize state for new\n// components and avoid a useless rerender if the permissions haven't changed\nvar alreadyFetchedPermissions = { '{}': undefined };\n/**\n * Hook for getting user permissions without the loading state.\n *\n * When compared to usePermissions, this hook doesn't cause a re-render\n * when the permissions haven't changed since the last call.\n *\n * This hook doesn't handle the loading state.\n *\n * @see usePermissions\n *\n * Calls the authProvider.getPermissions() method asynchronously.\n * If the authProvider returns a rejected promise, returns empty permissions.\n *\n * The return value updates according to the request state:\n *\n * - start:   { permissions: [previously fetched permissions for these params] }\n * - success: { permissions: [permissions returned by the authProvider (usually the same as on start)] }\n * - error:   { error: [error from provider] }\n *\n * Useful to enable features based on user permissions\n *\n * @param {Object} params Any params you want to pass to the authProvider\n *\n * @returns The current auth check state. Destructure as { permissions, error }.\n *\n * @example\n *     import { usePermissionsOptimized } from 'react-admin';\n *\n *     const PostDetail = props => {\n *         const { permissions } = usePermissionsOptimized();\n *         if (permissions !== 'editor') {\n *             return <Redirect to={`posts/${props.id}/show`} />\n *         } else {\n *             return <PostEdit {...props} />\n *         }\n *     };\n */\nvar usePermissionsOptimized = function (params) {\n    if (params === void 0) { params = emptyParams; }\n    var key = JSON.stringify(params);\n    var _a = useSafeSetState({\n        permissions: alreadyFetchedPermissions[key],\n    }), state = _a[0], setState = _a[1];\n    var getPermissions = useGetPermissions();\n    useEffect(function () {\n        getPermissions(params)\n            .then(function (permissions) {\n            if (!isEqual(permissions, state.permissions)) {\n                alreadyFetchedPermissions[key] = permissions;\n                setState({ permissions: permissions });\n            }\n        })\n            .catch(function (error) {\n            setState({\n                error: error,\n            });\n        });\n    }, [getPermissions, key]); // eslint-disable-line react-hooks/exhaustive-deps\n    return state;\n};\nexport default usePermissionsOptimized;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Children, createElement } from 'react';\nimport warning from '../util/warning';\nimport useAuthenticated from './useAuthenticated';\nimport usePermissionsOptimized from './usePermissionsOptimized';\nvar isEmptyChildren = function (children) { return Children.count(children) === 0; };\n/**\n * After checking that the user is authenticated,\n * retrieves the user's permissions for a specific context.\n *\n * Useful for Route components ; used internally by Resource.\n * Use it to decorate your custom page components to require\n * a custom role. It will pass the permissions as a prop to your\n * component.\n *\n * You can set additional `authParams` at will if your authProvider\n * requires it.\n *\n * @example\n *     import { WithPermissions } from 'react-admin';\n *\n *     const Foo = ({ permissions }) => (\n *         {permissions === 'admin' ? <p>Sensitive data</p> : null}\n *         <p>Not sensitive data</p>\n *     );\n *\n *     const customRoutes = [\n *         <Route path=\"/foo\" render={() =>\n *             <WithPermissions\n *                  authParams={{ foo: 'bar' }}\n *                  render={({ permissions, ...props }) => <Foo permissions={permissions} {...props} />}\n *              />\n *         } />\n *     ];\n *     const App = () => (\n *         <Admin customRoutes={customRoutes}>\n *             ...\n *         </Admin>\n *     );\n */\nvar WithPermissions = function (props) {\n    var authParams = props.authParams, children = props.children, render = props.render, component = props.component, staticContext = props.staticContext, rest = __rest(props, [\"authParams\", \"children\", \"render\", \"component\", \"staticContext\"]);\n    warning((render && children && !isEmptyChildren(children)) ||\n        (render && component) ||\n        (component && children && !isEmptyChildren(children)), 'You should only use one of the `component`, `render` and `children` props in <WithPermissions>');\n    useAuthenticated(authParams);\n    var permissions = usePermissionsOptimized(authParams).permissions;\n    // render even though the usePermissions() call isn't finished (optimistic rendering)\n    if (component) {\n        return createElement(component, __assign({ permissions: permissions }, rest));\n    }\n    // @deprecated\n    if (render) {\n        return render(__assign({ permissions: permissions }, rest));\n    }\n    // @deprecated\n    if (children) {\n        return children(__assign({ permissions: permissions }, rest));\n    }\n};\nexport default WithPermissions;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { Children, cloneElement, createElement } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport WithPermissions from '../auth/WithPermissions';\nvar defaultAuthParams = { route: 'dashboard' };\nvar RoutesWithLayout = function (props) {\n    var catchAll = props.catchAll, children = props.children, customRoutes = props.customRoutes, dashboard = props.dashboard, title = props.title;\n    var childrenAsArray = React.Children.toArray(children);\n    var firstChild = childrenAsArray.length > 0\n        ? childrenAsArray[0]\n        : null;\n    return (React.createElement(Switch, null,\n        customRoutes &&\n            customRoutes.map(function (route, key) { return cloneElement(route, { key: key }); }),\n        Children.map(children, function (child) { return (React.createElement(Route, { key: child.props.name, path: \"/\" + child.props.name, render: function (props) {\n                return cloneElement(child, __assign({ \n                    // The context prop instruct the Resource component to\n                    // render itself as a standard component\n                    intent: 'route' }, props));\n            } })); }),\n        dashboard ? (React.createElement(Route, { exact: true, path: \"/\", render: function (routeProps) { return (React.createElement(WithPermissions, __assign({ authParams: defaultAuthParams, component: dashboard }, routeProps))); } })) : firstChild ? (React.createElement(Route, { exact: true, path: \"/\", render: function () { return React.createElement(Redirect, { to: \"/\" + firstChild.props.name }); } })) : null,\n        React.createElement(Route, { render: function (routeProps) {\n                return createElement(catchAll, __assign(__assign({}, routeProps), { title: title }));\n            } })));\n};\nexport default RoutesWithLayout;\n","import { useEffect } from 'react';\nimport useCheckAuth from './useCheckAuth';\nimport { useSafeSetState } from '../util/hooks';\nvar emptyParams = {};\n/**\n * Hook for getting the authentication status\n *\n * Calls the authProvider.checkAuth() method asynchronously.\n *\n * The return value updates according to the authProvider request state:\n *\n * - loading: true just after mount, while the authProvider is being called. false once the authProvider has answered.\n * - loaded: the opposite of loading.\n * - authenticated: true while loading. then true or false depending on the authProvider response.\n *\n * To avoid rendering a component and force waiting for the authProvider response, use the useAuthState() hook\n * instead of the useAuthenticated() hook.\n *\n * You can render different content depending on the authenticated status.\n *\n * @see useAuthenticated()\n *\n * @param {Object} params Any params you want to pass to the authProvider\n *\n * @returns The current auth check state. Destructure as { authenticated, error, loading, loaded }.\n *\n * @example\n * import { useAuthState, Loading } from 'react-admin';\n *\n * const MyPage = () => {\n *     const { loading, authenticated } = useAuthState();\n *     if (loading) {\n *         return <Loading />;\n *     }\n *     if (authenticated) {\n *        return <AuthenticatedContent />;\n *     }\n *     return <AnonymousContent />;\n * };\n */\nvar useAuthState = function (params) {\n    if (params === void 0) { params = emptyParams; }\n    var _a = useSafeSetState({\n        loading: true,\n        loaded: false,\n        authenticated: true, // optimistic\n    }), state = _a[0], setState = _a[1];\n    var checkAuth = useCheckAuth();\n    useEffect(function () {\n        checkAuth(params, false)\n            .then(function () {\n            return setState({ loading: false, loaded: true, authenticated: true });\n        })\n            .catch(function () {\n            return setState({ loading: false, loaded: true, authenticated: false });\n        });\n    }, [checkAuth, params, setState]);\n    return state;\n};\nexport default useAuthState;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport React, { Children, useEffect, cloneElement, createElement, } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport RoutesWithLayout from './RoutesWithLayout';\nimport { useLogout, useGetPermissions, useAuthState } from '../auth';\nimport { useTimeout, useSafeSetState } from '../util';\nimport { useScrollToTop } from './useScrollToTop';\nvar CoreAdminRouter = function (props) {\n    var getPermissions = useGetPermissions();\n    var doLogout = useLogout();\n    var authenticated = useAuthState().authenticated;\n    var oneSecondHasPassed = useTimeout(1000);\n    var _a = useSafeSetState([]), computedChildren = _a[0], setComputedChildren = _a[1];\n    useScrollToTop();\n    useEffect(function () {\n        if (typeof props.children === 'function') {\n            initializeResources();\n        }\n    }, [authenticated]); // eslint-disable-line react-hooks/exhaustive-deps\n    var initializeResources = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var permissions, resolveChildren, childrenFuncResult, error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, getPermissions()];\n                case 1:\n                    permissions = _a.sent();\n                    resolveChildren = props.children;\n                    childrenFuncResult = resolveChildren(permissions);\n                    if (childrenFuncResult.then) {\n                        childrenFuncResult.then(function (resolvedChildren) {\n                            return setComputedChildren(resolvedChildren\n                                .filter(function (child) { return child; })\n                                .map(function (child) { return (__assign(__assign({}, child), { props: __assign(__assign({}, child.props), { key: child.props.name }) })); }));\n                        });\n                    }\n                    else {\n                        setComputedChildren(childrenFuncResult.filter(function (child) { return child; }));\n                    }\n                    return [3 /*break*/, 3];\n                case 2:\n                    error_1 = _a.sent();\n                    console.error(error_1);\n                    doLogout();\n                    return [3 /*break*/, 3];\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); };\n    var renderCustomRoutesWithoutLayout = function (route, routeProps) {\n        if (route.props.render) {\n            return route.props.render(__assign(__assign({}, routeProps), { title: props.title }));\n        }\n        if (route.props.component) {\n            return createElement(route.props.component, __assign(__assign({}, routeProps), { title: props.title }));\n        }\n    };\n    var layout = props.layout, catchAll = props.catchAll, children = props.children, customRoutes = props.customRoutes, dashboard = props.dashboard, LoadingPage = props.loading, logout = props.logout, menu = props.menu, Ready = props.ready, theme = props.theme, title = props.title;\n    if (typeof children !== 'function' && !children) {\n        return React.createElement(Ready, null);\n    }\n    if ((typeof children === 'function' &&\n        (!computedChildren || computedChildren.length === 0)) ||\n        (Array.isArray(children) && children.length === 0)) {\n        return (React.createElement(Switch, null,\n            customRoutes\n                .filter(function (route) { return route.props.noLayout; })\n                .map(function (route, key) {\n                return cloneElement(route, {\n                    key: key,\n                    render: function (routeProps) {\n                        return renderCustomRoutesWithoutLayout(route, routeProps);\n                    },\n                    component: undefined,\n                });\n            }),\n            oneSecondHasPassed && (React.createElement(Route, { key: \"loading\", render: function () { return React.createElement(LoadingPage, { theme: theme }); } }))));\n    }\n    var childrenToRender = (typeof children === 'function'\n        ? computedChildren\n        : children);\n    return (React.createElement(\"div\", null,\n        // Render every resource children outside the React Router Switch\n        // as we need all of them and not just the one rendered\n        Children.map(childrenToRender, function (child) {\n            return cloneElement(child, {\n                key: child.props.name,\n                // The context prop instructs the Resource component to not render anything\n                // but simply to register itself as a known resource\n                intent: 'registration',\n            });\n        }),\n        React.createElement(Switch, null,\n            customRoutes\n                .filter(function (route) { return route.props.noLayout; })\n                .map(function (route, key) {\n                return cloneElement(route, {\n                    key: key,\n                    render: function (routeProps) {\n                        return renderCustomRoutesWithoutLayout(route, routeProps);\n                    },\n                    component: undefined,\n                });\n            }),\n            React.createElement(Route, { path: \"/\", render: function () {\n                    return createElement(layout, {\n                        dashboard: dashboard,\n                        logout: logout,\n                        menu: menu,\n                        theme: theme,\n                        title: title,\n                    }, React.createElement(RoutesWithLayout, { catchAll: catchAll, customRoutes: customRoutes.filter(function (route) { return !route.props.noLayout; }), dashboard: dashboard, title: title }, Children.map(childrenToRender, function (child) {\n                        return cloneElement(child, {\n                            key: child.props.name,\n                            intent: 'route',\n                        });\n                    })));\n                } }))));\n};\nCoreAdminRouter.defaultProps = {\n    customRoutes: [],\n};\nexport default CoreAdminRouter;\n","import { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\n/**\n * Scroll the window to top when the target location contains the _scrollToTop state\n *\n * @see CoreAdminRouter where it's enabled by default\n *\n * @example // usage in buttons\n * import { Link } from 'react-router-dom';\n * import { Button } from '@material-ui/core';\n *\n * const FooButton = () => (\n *     <Button\n *         component={Link}\n *         to={{\n *             pathname: '/foo',\n *             state: { _scrollToTop: true },\n *         }}\n *     >\n *         Go to foo\n *     </Button>\n * );\n */\nexport var useScrollToTop = function () {\n    var history = useHistory();\n    useEffect(function () {\n        return history.listen(function (location, action) {\n            var _a;\n            if (action !== 'POP' &&\n                ((_a = location.state) === null || _a === void 0 ? void 0 : _a._scrollToTop) &&\n                typeof window != 'undefined') {\n                window.scrollTo(0, 0);\n            }\n        });\n    }, [history]);\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useState } from 'react';\nvar styles = {\n    root: {\n        width: '100vw',\n        height: '100vh',\n        display: 'flex',\n        flexDirection: 'column',\n        fontFamily: '\"Roboto\", sans-serif',\n    },\n    main: {\n        flex: 1,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        textAlign: 'center',\n        flexDirection: 'column',\n        background: 'linear-gradient(135deg, #00023b 0%, #00023b 50%, #313264 100%)',\n        color: 'white',\n        fontSize: '1.5em',\n        fontWeight: 'bold',\n    },\n    secondary: {\n        height: '20vh',\n        background: '#e8e8e8',\n        color: 'black',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-evenly',\n    },\n    link: {\n        textAlign: 'center',\n        width: 150,\n        display: 'block',\n        textDecoration: 'none',\n        color: 'black',\n        opacity: 0.7,\n    },\n    linkHovered: {\n        opacity: 1,\n    },\n    image: {\n        width: 50,\n    },\n    logo: {\n        height: 100,\n    },\n};\nvar Button = function (_a) {\n    var img = _a.img, label = _a.label, href = _a.href;\n    var _b = useState(false), hovered = _b[0], setHovered = _b[1];\n    return (React.createElement(\"div\", null,\n        React.createElement(\"a\", { href: href, style: hovered\n                ? __assign(__assign({}, styles.link), styles.linkHovered) : styles.link, onMouseEnter: function () { return setHovered(true); }, onMouseLeave: function () { return setHovered(false); } },\n            React.createElement(\"img\", { src: img, alt: label, style: styles.image }),\n            React.createElement(\"br\", null),\n            label)));\n};\nexport default (function () {\n    return process.env.NODE_ENV === 'production' ? (React.createElement(\"span\", null)) : (React.createElement(\"div\", { style: styles.root },\n        React.createElement(\"div\", { style: styles.main },\n            React.createElement(\"img\", { style: styles.logo, src: \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhbHF1ZV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTMxIDEzMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTMxIDEzMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMyMjI0NTg7fQoJLnN0MXtmaWxsOiM1MTUzN0Q7fQoJLnN0MntmaWxsOiNBM0E0Qjk7fQoJLnN0M3tmaWxsOiMwMDAyM0I7fQoJLnN0NHtmaWxsOiNGRkZGRkY7fQoJLnN0NXtlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgO30KPC9zdHlsZT4KPHRpdGxlPkxvZ29fc29tYnJlX2FpPC90aXRsZT4KPGcgaWQ9IlJlY3RhbmdsZV81NiI+Cgk8Zz4KCQk8cmVjdCB4PSIxOS4xIiB5PSIxOSIgdHJhbnNmb3JtPSJtYXRyaXgoMC41IC0wLjg2NiAwLjg2NiAwLjUgLTIzLjkyMjYgODkuNTQ2KSIgY2xhc3M9InN0MCIgd2lkdGg9IjkyLjkiIGhlaWdodD0iOTIuOSIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik04MywxMzAuM0wwLjgsODIuOUw0OC4yLDAuN2w4Mi4yLDQ3LjVMODMsMTMwLjN6IE0zLjUsODIuMWw3OC43LDQ1LjVsNDUuNS03OC43TDQ5LDMuNEwzLjUsODIuMXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjdGFuZ2xlXzU2LTIiPgoJPGc+CgkJPHJlY3QgeD0iMTkiIHk9IjE5LjEiIHRyYW5zZm9ybT0ibWF0cml4KDAuODY2IC0wLjUgMC41IDAuODY2IC0yMy45Nzc3IDQxLjUyNykiIGNsYXNzPSJzdDAiIHdpZHRoPSI5Mi45IiBoZWlnaHQ9IjkyLjkiLz4KCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNDcuOSwxMzFMMCw0OEw4My4xLDBsNDgsODMuMUw0Ny45LDEzMXogTTQuMSw0OS4xbDQ1LDc3LjlsNzcuOS00NUw4Miw0LjFMNC4xLDQ5LjF6Ii8+Cgk8L2c+CjwvZz4KPGcgaWQ9IlJlY3RhbmdsZV81Ni0zIj4KCTxnPgoJCTxyZWN0IHg9IjE5LjEiIHk9IjE5IiBjbGFzcz0ic3QzIiB3aWR0aD0iOTIuOSIgaGVpZ2h0PSI5Mi45Ii8+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTExNC41LDExNC41SDE2LjZWMTYuNWg5Ny45VjExNC41eiBNMjEuNiwxMDkuNWg4Ny45VjIxLjVIMjEuNlYxMDkuNXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmEiPgoJPGcgY2xhc3M9InN0NSI+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTU5LDg2LjdsLTYuNy0xOS4yaC0xLjJIMzguOXYxOS4yaC01LjZWMzguNWgxOC41YzMuNiwwLDYuMywwLjYsOC4xLDEuOGMxLjgsMS4yLDMsMi44LDMuNSw0LjgKCQkJYzAuNSwyLDAuOCw0LjYsMC44LDcuOGMwLDMuNS0wLjQsNi40LTEuMyw4LjdjLTAuOCwyLjMtMi42LDMuOS01LjMsNC44TDY1LDg2LjdINTl6IE01NS43LDYxLjZjMS4yLTAuNywyLTEuNywyLjQtMwoJCQljMC40LTEuMywwLjYtMy4yLDAuNi01LjZjMC0yLjUtMC4yLTQuMy0wLjUtNS42Yy0wLjMtMS4zLTEuMS0yLjItMi4zLTIuOWMtMS4yLTAuNy0zLTEtNS41LTFIMzguOXYxOS4xSDUwCgkJCUM1Mi41LDYyLjYsNTQuNCw2Mi4zLDU1LjcsNjEuNnoiLz4KCQk8cGF0aCBjbGFzcz0ic3Q0IiBkPSJNNzQuMyw4NWMtMS42LTEuNS0yLjUtNC4yLTIuNS04LjJjMC0yLjcsMC4zLTQuOCwwLjktNi4zYzAuNi0xLjUsMS42LTIuNiwzLTMuM2MxLjQtMC43LDMuNC0xLDYtMQoJCQljMS4zLDAsNS4xLDAuMSwxMS40LDAuM3YtMi40YzAtMi45LTAuMi01LTAuNy02LjJjLTAuNS0xLjItMS4zLTItMi42LTIuNGMtMS4yLTAuMy0zLjMtMC41LTYuMy0wLjVjLTEuMywwLTMsMC4xLTQuOSwwLjIKCQkJYy0yLDAuMS0zLjYsMC4zLTQuOCwwLjV2LTQuM2MzLjMtMC43LDcuMS0xLDExLjQtMWMzLjcsMCw2LjUsMC40LDguNCwxLjJjMS44LDAuOCwzLjEsMi4yLDMuOCw0LjFjMC43LDEuOSwxLDQuNywxLDguNHYyMi41aC00LjgKCQkJbC0wLjMtNWgtMC4zYy0wLjgsMi4yLTIuMiwzLjctNC4xLDQuNGMtMS45LDAuNy00LjEsMS4xLTYuNiwxLjFDNzguNiw4Ny4yLDc2LDg2LjUsNzQuMyw4NXogTTg5LjEsODJjMS4yLTAuNCwyLjItMS4yLDIuOC0yLjQKCQkJYzAuOS0xLjgsMS4zLTQuMywxLjMtNy4zdi0yaC0xMGMtMS43LDAtMywwLjItMy44LDAuNWMtMC44LDAuMy0xLjQsMC45LTEuNywxLjhjLTAuMywwLjktMC41LDIuMi0wLjUsNGMwLDEuOCwwLjIsMy4xLDAuNiwzLjkKCQkJYzAuNCwwLjgsMS4xLDEuNCwyLDEuOGMxLDAuMywyLjUsMC41LDQuNSwwLjVDODYuMiw4Mi42LDg3LjgsODIuNCw4OS4xLDgyeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\", alt: \"react-admin logo\" }),\n            React.createElement(\"h1\", null, \"Welcome to React-admin\"),\n            React.createElement(\"div\", null,\n                \"Your application is properly configured.\",\n                React.createElement(\"br\", null),\n                \"Now you can add a <Resource> as child of <Admin>.\")),\n        React.createElement(\"div\", { style: styles.secondary },\n            React.createElement(Button, { href: \"https://marmelab.com/react-admin/Readme.html\", img: \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0yMSw1Yy0xLjExLTAuMzUtMi4zMy0wLjUtMy41LTAuNWMtMS45NSwwLTQuMDUsMC40LTUuNSwxLjVjLTEuNDUtMS4xLTMuNTUtMS41LTUuNS0xLjVTMi40NSw0LjksMSw2djE0LjY1CgkJCWMwLDAuMjUsMC4yNSwwLjUsMC41LDAuNWMwLjEsMCwwLjE1LTAuMDUsMC4yNS0wLjA1QzMuMSwyMC40NSw1LjA1LDIwLDYuNSwyMGMxLjk1LDAsNC4wNSwwLjQsNS41LDEuNWMxLjM1LTAuODUsMy44LTEuNSw1LjUtMS41CgkJCWMxLjY1LDAsMy4zNSwwLjMsNC43NSwxLjA1YzAuMSwwLjA1LDAuMTUsMC4wNSwwLjI1LDAuMDVjMC4yNSwwLDAuNS0wLjI1LDAuNS0wLjVWNkMyMi40LDUuNTUsMjEuNzUsNS4yNSwyMSw1eiBNMywxOC41VjcKCQkJYzEuMS0wLjM1LDIuMy0wLjUsMy41LTAuNWMxLjM0LDAsMy4xMywwLjQxLDQuNSwwLjk5djExLjVDOS42MywxOC40MSw3Ljg0LDE4LDYuNSwxOEM1LjMsMTgsNC4xLDE4LjE1LDMsMTguNXogTTIxLDE4LjUKCQkJYy0xLjEtMC4zNS0yLjMtMC41LTMuNS0wLjVjLTEuMzQsMC0zLjEzLDAuNDEtNC41LDAuOTlWNy40OWMxLjM3LTAuNTksMy4xNi0wLjk5LDQuNS0wLjk5YzEuMiwwLDIuNCwwLjE1LDMuNSwwLjVWMTguNXoiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik0xMSw3LjQ5QzkuNjMsNi45MSw3Ljg0LDYuNSw2LjUsNi41QzUuMyw2LjUsNC4xLDYuNjUsMyw3djExLjVDNC4xLDE4LjE1LDUuMywxOCw2LjUsMTgKCQkJYzEuMzQsMCwzLjEzLDAuNDEsNC41LDAuOTlWNy40OXoiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0xNy41LDEwLjVjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlY5LjI0QzE5LjIxLDkuMDksMTguMzYsOSwxNy41LDljLTEuMjgsMC0yLjQ2LDAuMTYtMy41LDAuNDd2MS41NwoJCQlDMTQuOTksMTAuNjksMTYuMTgsMTAuNSwxNy41LDEwLjV6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTMuMTZjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlYxMS45Yy0wLjc5LTAuMTUtMS42NC0wLjI0LTIuNS0wLjI0Yy0xLjI4LDAtMi40NiwwLjE2LTMuNSwwLjQ3djEuNTcKCQkJQzE0Ljk5LDEzLjM2LDE2LjE4LDEzLjE2LDE3LjUsMTMuMTZ6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTUuODNjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNnYtMS41MmMtMC43OS0wLjE1LTEuNjQtMC4yNC0yLjUtMC4yNGMtMS4yOCwwLTIuNDYsMC4xNi0zLjUsMC40N3YxLjU3CgkJCUMxNC45OSwxNi4wMiwxNi4xOCwxNS44MywxNy41LDE1LjgzeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\", label: \"Documentation\" }),\n            React.createElement(Button, { href: \"https://github.com/marmelab/react-admin/tree/master/examples\", img: \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDI0djI0SDBWMHoiLz48cGF0aCBkPSJNOS40IDE2LjZMNC44IDEybDQuNi00LjZMOCA2bC02IDYgNiA2IDEuNC0xLjR6bTUuMiAwbDQuNi00LjYtNC42LTQuNkwxNiA2bDYgNi02IDYtMS40LTEuNHoiLz48L3N2Zz4=\", label: \"Examples\" }),\n            React.createElement(Button, { href: \"https://stackoverflow.com/questions/tagged/react-admin\", img: \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxjaXJjbGUgb3BhY2l0eT0iMC4zIiBjeD0iOSIgY3k9IjgiIHI9IjIiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik05LDE1Yy0yLjcsMC01LjgsMS4yOS02LDIuMDFMMywxOGgxMnYtMUMxNC44LDE2LjI5LDExLjcsMTUsOSwxNXoiLz4KCQk8cGF0aCBkPSJNMTYuNjcsMTMuMTNDMTguMDQsMTQuMDYsMTksMTUuMzIsMTksMTd2M2g0di0zQzIzLDE0LjgyLDE5LjQzLDEzLjUzLDE2LjY3LDEzLjEzeiIvPgoJCTxwYXRoIGQ9Ik0xNSwxMmMyLjIxLDAsNC0xLjc5LDQtNGMwLTIuMjEtMS43OS00LTQtNGMtMC40NywwLTAuOTEsMC4xLTEuMzMsMC4yNEMxNC41LDUuMjcsMTUsNi41OCwxNSw4cy0wLjUsMi43My0xLjMzLDMuNzYKCQkJQzE0LjA5LDExLjksMTQuNTMsMTIsMTUsMTJ6Ii8+CgkJPHBhdGggZD0iTTksMTJjMi4yMSwwLDQtMS43OSw0LTRjMC0yLjIxLTEuNzktNC00LTRTNSw1Ljc5LDUsOEM1LDEwLjIxLDYuNzksMTIsOSwxMnogTTksNmMxLjEsMCwyLDAuOSwyLDJjMCwxLjEtMC45LDItMiwyCgkJCVM3LDkuMSw3LDhDNyw2LjksNy45LDYsOSw2eiIvPgoJCTxwYXRoIGQ9Ik05LDEzYy0yLjY3LDAtOCwxLjM0LTgsNHYzaDE2di0zQzE3LDE0LjM0LDExLjY3LDEzLDksMTN6IE0xNSwxOEgzbDAtMC45OUMzLjIsMTYuMjksNi4zLDE1LDksMTVzNS44LDEuMjksNiwyVjE4eiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\", label: \"Community\" }))));\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { createElement, useMemo, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport CoreAdminRouter from './CoreAdminRouter';\nimport { Ready } from '../util';\nvar DefaultLayout = function (_a) {\n    var children = _a.children;\n    return React.createElement(React.Fragment, null, children);\n};\nvar CoreAdminUI = function (props) {\n    var _a = props.catchAll, catchAll = _a === void 0 ? Noop : _a, children = props.children, _b = props.customRoutes, customRoutes = _b === void 0 ? [] : _b, dashboard = props.dashboard, _c = props.disableTelemetry, disableTelemetry = _c === void 0 ? false : _c, _d = props.layout, layout = _d === void 0 ? DefaultLayout : _d, _e = props.loading, loading = _e === void 0 ? Noop : _e, _f = props.loginPage, loginPage = _f === void 0 ? false : _f, logout = props.logout, menu = props.menu, // deprecated, use a custom layout instead\n    _g = props.ready, // deprecated, use a custom layout instead\n    ready = _g === void 0 ? Ready : _g, theme = props.theme, _h = props.title, title = _h === void 0 ? 'React Admin' : _h;\n    var logoutElement = useMemo(function () { return logout && createElement(logout); }, [\n        logout,\n    ]);\n    useEffect(function () {\n        if (disableTelemetry ||\n            process.env.NODE_ENV !== 'production' ||\n            typeof window === 'undefined' ||\n            typeof window.location === 'undefined' ||\n            typeof Image === 'undefined') {\n            return;\n        }\n        var img = new Image();\n        img.src = \"https://react-admin-telemetry.marmelab.com/react-admin-telemetry?domain=\" + window.location.hostname;\n    }, [disableTelemetry]);\n    return (React.createElement(Switch, null,\n        loginPage !== false && loginPage !== true ? (React.createElement(Route, { exact: true, path: \"/login\", render: function (props) {\n                return createElement(loginPage, __assign(__assign({}, props), { title: title, theme: theme }));\n            } })) : null,\n        React.createElement(Route, { path: \"/\", render: function (props) { return (React.createElement(CoreAdminRouter, __assign({ catchAll: catchAll, customRoutes: customRoutes, dashboard: dashboard, layout: layout, loading: loading, logout: logoutElement, menu: menu, ready: ready, theme: theme, title: title }, props), children)); } })));\n};\nvar Noop = function () { return null; };\nexport default CoreAdminUI;\n","import { isValidElementType } from 'react-is';\nexport default (function (props, propName, componentName) {\n    if (props[propName] && !isValidElementType(props[propName])) {\n        return new Error(\"Invalid prop '\" + propName + \"' supplied to '\" + componentName + \"': the prop is not a valid React component\");\n    }\n});\n","import { useContext, useCallback } from 'react';\nimport { TranslationContext } from './TranslationContext';\n/**\n * Translate a string using the current locale and the translations from the i18nProvider\n *\n * @see Polyglot.t()\n * @link https://airbnb.io/polyglot.js/#polyglotprototypetkey-interpolationoptions\n *\n * @return {Function} A translation function, accepting two arguments\n *   - a string used as key in the translations\n *   - an interpolationOptions object\n *\n * @example\n *\n * import { useTranslate } from 'react-admin';\n *\n * const SettingsMenu = () => {\n *     const translate = useTranslate();\n *     return <MenuItem>{translate('settings')}</MenuItem>;\n * }\n */\nvar useTranslate = function () {\n    var _a = useContext(TranslationContext), i18nProvider = _a.i18nProvider, locale = _a.locale;\n    var translate = useCallback(function (key, options) {\n        return i18nProvider.translate(key, options);\n    }, \n    // update the hook each time the locale changes\n    [i18nProvider, locale] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    return i18nProvider ? translate : identity;\n};\nvar identity = function (key) { return key; };\nexport default useTranslate;\n","import * as React from 'react';\nimport { IconButton, Tooltip } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { useTranslate } from 'ra-core';\nimport { useToggleSidebar } from './useToggleSidebar';\n/**\n * A button that toggles the sidebar. Used by default in the <AppBar>.\n * @param props The component props\n * @param {String} props.className An optional class name to apply to the button\n * @param {ClassesOverride<typeof useStyles>} props.classes An object containing styles.\n */\nexport var SidebarToggleButton = function (props) {\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    var className = props.className;\n    var _a = useToggleSidebar(), open = _a[0], toggleSidebar = _a[1];\n    return (React.createElement(Tooltip, { title: translate(open ? 'ra.action.close_menu' : 'ra.action.open_menu', {\n            _: 'Open/Close menu',\n        }), enterDelay: 500 },\n        React.createElement(IconButton, { color: \"inherit\", onClick: function () { return toggleSidebar(); }, className: className },\n            React.createElement(MenuIcon, { classes: {\n                    root: open\n                        ? classes.menuButtonIconOpen\n                        : classes.menuButtonIconClosed,\n                } }))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    menuButtonIconClosed: {\n        transition: theme.transitions.create(['transform'], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        transform: 'rotate(0deg)',\n    },\n    menuButtonIconOpen: {\n        transition: theme.transitions.create(['transform'], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        transform: 'rotate(180deg)',\n    },\n}); }, { name: 'RaSidebarToggleButton' });\n","import { useDispatch, useSelector } from 'react-redux';\nimport { toggleSidebar } from 'ra-core';\n/**\n * A hook that returns the sidebar open state and a function to toggle it.\n * @returns A tuple containing a boolean indicating whether the sidebar is open or not and a function to toggle the sidebar.\n * @example\n * const MyButton = () => {\n *     const [sidebarOpen, toggleSidebar] = useToggleSidebar();\n *     return (\n *         <Button\n *             color=\"inherit\"\n *             onClick={() => toggleSidebar()}\n *         >\n *             {open ? 'Open' : 'Close'}\n *         </Button>\n *     );\n */\nexport var useToggleSidebar = function () {\n    var open = useSelector(function (state) { return state.admin.ui.sidebarOpen; });\n    var dispatch = useDispatch();\n    var toggle = function () { return dispatch(toggleSidebar()); };\n    return [open, toggle];\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch } from 'react-redux';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport NavigationRefresh from '@material-ui/icons/Refresh';\nimport { refreshView, useTranslate } from 'ra-core';\nvar RefreshIconButton = function (props) {\n    var _a = props.label, label = _a === void 0 ? 'ra.action.refresh' : _a, _b = props.icon, icon = _b === void 0 ? defaultIcon : _b, onClick = props.onClick, className = props.className, rest = __rest(props, [\"label\", \"icon\", \"onClick\", \"className\"]);\n    var dispatch = useDispatch();\n    var translate = useTranslate();\n    var handleClick = useCallback(function (event) {\n        event.preventDefault();\n        dispatch(refreshView());\n        if (typeof onClick === 'function') {\n            onClick(event);\n        }\n    }, [dispatch, onClick]);\n    return (React.createElement(Tooltip, { title: label && translate(label, { _: label }) },\n        React.createElement(IconButton, __assign({ \"aria-label\": label && translate(label, { _: label }), className: className, color: \"inherit\", onClick: handleClick }, rest), icon)));\n};\nvar defaultIcon = React.createElement(NavigationRefresh, null);\nRefreshIconButton.propTypes = {\n    className: PropTypes.string,\n    label: PropTypes.string,\n    icon: PropTypes.element,\n};\nexport default RefreshIconButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { useSelector } from 'react-redux';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { useRefreshWhenVisible } from 'ra-core';\nimport RefreshIconButton from '../button/RefreshIconButton';\nvar LoadingIndicator = function (props) {\n    var classesOverride = props.classes, className = props.className, rest = __rest(props, [\"classes\", \"className\"]);\n    useRefreshWhenVisible();\n    var loading = useSelector(function (state) { return state.admin.loading > 0; });\n    var classes = useStyles(props);\n    var theme = useTheme();\n    return loading ? (React.createElement(CircularProgress, __assign({ className: classNames('app-loader', classes.loader, className), color: \"inherit\", size: theme.spacing(2), thickness: 6 }, rest))) : (React.createElement(RefreshIconButton, { className: classes.loadedIcon }));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    loader: {\n        margin: theme.spacing(2),\n    },\n    loadedIcon: {},\n}); }, { name: 'RaLoadingIndicator' });\nLoadingIndicator.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    width: PropTypes.string,\n};\nexport default LoadingIndicator;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { useEffect } from 'react';\nimport useAuthProvider from './useAuthProvider';\nimport { useSafeSetState } from '../util/hooks';\nvar defaultIdentity = {\n    id: '',\n    fullName: null,\n};\n/**\n * Return the current user identity by calling authProvider.getIdentity() on mount\n *\n * The return value updates according to the call state:\n *\n * - mount: { loading: true, loaded: false }\n * - success: { identity: Identity, loading: false, loaded: true }\n * - error: { error: Error, loading: false, loaded: true }\n *\n * The implementation is left to the authProvider.\n *\n * @returns The current user identity. Destructure as { identity, error, loading, loaded }.\n *\n * @example\n *\n * import { useGetIdentity, useGetOne } from 'react-admin';\n *\n * const PostDetail = ({ id }) => {\n *     const { data: post, loading: postLoading } = useGetOne('posts', id);\n *     const { identity, loading: identityLoading } = useGetIdentity();\n *     if (postLoading || identityLoading) return <>Loading...</>;\n *     if (!post.lockedBy || post.lockedBy === identity.id) {\n *         // post isn't locked, or is locked by me\n *         return <PostEdit post={post} />\n *     } else {\n *         // post is locked by someone else and cannot be edited\n *         return <PostShow post={post} />\n *     }\n * }\n */\nvar useGetIdentity = function () {\n    var _a = useSafeSetState({\n        loading: true,\n        loaded: false,\n    }), state = _a[0], setState = _a[1];\n    var authProvider = useAuthProvider();\n    useEffect(function () {\n        if (authProvider && typeof authProvider.getIdentity === 'function') {\n            var callAuthProvider = function () { return __awaiter(void 0, void 0, void 0, function () {\n                var identity, error_1;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            _a.trys.push([0, 2, , 3]);\n                            return [4 /*yield*/, authProvider.getIdentity()];\n                        case 1:\n                            identity = _a.sent();\n                            setState({\n                                loading: false,\n                                loaded: true,\n                                identity: identity || defaultIdentity,\n                            });\n                            return [3 /*break*/, 3];\n                        case 2:\n                            error_1 = _a.sent();\n                            setState({\n                                loading: false,\n                                loaded: true,\n                                error: error_1,\n                            });\n                            return [3 /*break*/, 3];\n                        case 3: return [2 /*return*/];\n                    }\n                });\n            }); };\n            callAuthProvider();\n        }\n        else {\n            // fallback for pre-3.9 authProviders, which had no getIdentity method\n            // FIXME to be removed for the next major\n            setState({\n                loading: false,\n                loaded: true,\n                identity: defaultIdentity,\n            });\n        }\n    }, [authProvider, setState]);\n    return state;\n};\nexport default useGetIdentity;\n","import * as React from 'react';\nimport { Children, cloneElement, isValidElement, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslate, useGetIdentity } from 'ra-core';\nimport { Tooltip, IconButton, Menu, Button, Avatar, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nvar defaultIcon = React.createElement(AccountCircle, null);\nvar useStyles = makeStyles(function (theme) { return ({\n    user: {},\n    userButton: {\n        textTransform: 'none',\n    },\n    avatar: {\n        width: theme.spacing(4),\n        height: theme.spacing(4),\n    },\n}); }, { name: 'RaUserMenu' });\nvar AnchorOrigin = {\n    vertical: 'bottom',\n    horizontal: 'right',\n};\nvar TransformOrigin = {\n    vertical: 'top',\n    horizontal: 'right',\n};\nvar UserMenu = function (props) {\n    var _a = useState(null), anchorEl = _a[0], setAnchorEl = _a[1];\n    var translate = useTranslate();\n    var _b = useGetIdentity(), loaded = _b.loaded, identity = _b.identity;\n    var classes = useStyles(props);\n    var children = props.children, _c = props.label, label = _c === void 0 ? 'ra.auth.user_menu' : _c, _d = props.icon, icon = _d === void 0 ? defaultIcon : _d, logout = props.logout;\n    if (!logout && !children)\n        return null;\n    var open = Boolean(anchorEl);\n    var handleMenu = function (event) { return setAnchorEl(event.currentTarget); };\n    var handleClose = function () { return setAnchorEl(null); };\n    return (React.createElement(\"div\", { className: classes.user },\n        loaded && (identity === null || identity === void 0 ? void 0 : identity.fullName) ? (React.createElement(Button, { \"aria-label\": label && translate(label, { _: label }), className: classes.userButton, color: \"inherit\", startIcon: identity.avatar ? (React.createElement(Avatar, { className: classes.avatar, src: identity.avatar, alt: identity.fullName })) : (icon), onClick: handleMenu }, identity.fullName)) : (React.createElement(Tooltip, { title: label && translate(label, { _: label }) },\n            React.createElement(IconButton, { \"aria-label\": label && translate(label, { _: label }), \"aria-owns\": open ? 'menu-appbar' : null, \"aria-haspopup\": true, color: \"inherit\", onClick: handleMenu }, icon))),\n        React.createElement(Menu, { id: \"menu-appbar\", disableScrollLock: true, anchorEl: anchorEl, anchorOrigin: AnchorOrigin, transformOrigin: TransformOrigin, \n            // Make sure the menu is display under the button and not over the appbar\n            // See https://v4.mui.com/components/menus/#customized-menus\n            getContentAnchorEl: null, open: open, onClose: handleClose },\n            Children.map(children, function (menuItem) {\n                return isValidElement(menuItem)\n                    ? cloneElement(menuItem, {\n                        onClick: handleClose,\n                    })\n                    : null;\n            }),\n            logout)));\n};\nUserMenu.propTypes = {\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    label: PropTypes.string,\n    logout: PropTypes.element,\n    icon: PropTypes.node,\n};\nexport default UserMenu;\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\nimport Slide from '@material-ui/core/Slide';\nfunction HideOnScroll(props) {\n    var children = props.children;\n    var trigger = useScrollTrigger();\n    return (React.createElement(Slide, { appear: false, direction: \"down\", in: !trigger }, children));\n}\nHideOnScroll.propTypes = {\n    children: PropTypes.node.isRequired,\n};\nexport default HideOnScroll;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { AppBar as MuiAppBar, Toolbar, Typography, useMediaQuery, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ComponentPropType } from 'ra-core';\nimport { SidebarToggleButton } from './SidebarToggleButton';\nimport LoadingIndicator from './LoadingIndicator';\nimport DefaultUserMenu from './UserMenu';\nimport HideOnScroll from './HideOnScroll';\n/**\n * The AppBar component renders a custom MuiAppBar.\n *\n * @param {Object} props\n * @param {ReactNode} props.children React node/s to be render as children of the AppBar\n * @param {Object} props.classes CSS class names\n * @param {string} props.className CSS class applied to the MuiAppBar component\n * @param {string} props.color The color of the AppBar\n * @param {Component} props.logout The logout button component that will be pass to the UserMenu component\n * @param {boolean} props.open State of the <Admin/> Sidebar\n * @param {Element | boolean} props.userMenu A custom user menu component for the AppBar. <UserMenu/> component by default. Pass false to disable.\n *\n * @example\n *\n * const MyAppBar = props => {\n *   const classes = useStyles();\n *   return (\n *       <AppBar {...props}>\n *           <Typography\n *               variant=\"h6\"\n *               color=\"inherit\"\n *               className={classes.title}\n *               id=\"react-admin-title\"\n *           />\n *       </AppBar>\n *   );\n *};\n *\n * @example Without a user menu\n *\n * const MyAppBar = props => {\n *   const classes = useStyles();\n *   return (\n *       <AppBar {...props} userMenu={false} />\n *   );\n *};\n */\nvar AppBar = function (props) {\n    var children = props.children, classesOverride = props.classes, className = props.className, _a = props.color, color = _a === void 0 ? 'secondary' : _a, logout = props.logout, open = props.open, title = props.title, userMenu = props.userMenu, Container = props.container, rest = __rest(props, [\"children\", \"classes\", \"className\", \"color\", \"logout\", \"open\", \"title\", \"userMenu\", \"container\"]);\n    var classes = useStyles(props);\n    var sidebarToggleButtonClasses = {\n        menuButtonIconClosed: classes.menuButtonIconClosed,\n        menuButtonIconOpen: classes.menuButtonIconOpen,\n    };\n    var isXSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('xs');\n    });\n    return (React.createElement(Container, null,\n        React.createElement(MuiAppBar, __assign({ className: className, color: color }, rest),\n            React.createElement(Toolbar, { disableGutters: true, variant: isXSmall ? 'regular' : 'dense', className: classes.toolbar },\n                React.createElement(SidebarToggleButton, { className: classes.menuButton, classes: sidebarToggleButtonClasses }),\n                Children.count(children) === 0 ? (React.createElement(Typography, { variant: \"h6\", color: \"inherit\", className: classes.title, id: \"react-admin-title\" })) : (children),\n                React.createElement(LoadingIndicator, null),\n                typeof userMenu === 'boolean' ? (userMenu === true ? (React.createElement(DefaultUserMenu, { logout: logout })) : null) : (cloneElement(userMenu, { logout: logout }))))));\n};\nAppBar.propTypes = {\n    children: PropTypes.node,\n    // @ts-ignore\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    color: PropTypes.oneOf([\n        'default',\n        'inherit',\n        'primary',\n        'secondary',\n        'transparent',\n    ]),\n    container: ComponentPropType,\n    logout: PropTypes.element,\n    // @deprecated\n    open: PropTypes.bool,\n    userMenu: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\n};\nAppBar.defaultProps = {\n    userMenu: React.createElement(DefaultUserMenu, null),\n    container: HideOnScroll,\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    toolbar: {\n        paddingRight: 24,\n    },\n    menuButton: {\n        marginLeft: '0.2em',\n        marginRight: '0.2em',\n    },\n    menuButtonIconClosed: {},\n    menuButtonIconOpen: {},\n    title: {\n        flex: 1,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n    },\n}); }, { name: 'RaAppBar' });\nexport default memo(AppBar);\n","import { useContext } from 'react';\nimport { TranslationContext } from './TranslationContext';\n/**\n * Get the current locale from the TranslationContext\n *\n * This hook re-renders when the locale changes.\n *\n * @example\n *\n * import { useLocale } from 'react-admin';\n *\n * const availableLanguages = {\n *     en: 'English',\n *     fr: 'Franais',\n * }\n * const CurrentLanguage = () => {\n *     const locale = useLocale();\n *     return <span>{availableLanguages[locale]}</span>;\n * }\n */\nvar useLocale = function () {\n    var locale = useContext(TranslationContext).locale;\n    return locale;\n};\nexport default useLocale;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Drawer, useMediaQuery } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport lodashGet from 'lodash/get';\nimport { setSidebarVisibility, useLocale } from 'ra-core';\nexport var DRAWER_WIDTH = 240;\nexport var CLOSED_DRAWER_WIDTH = 55;\nvar Sidebar = function (props) {\n    var children = props.children, closedSize = props.closedSize, size = props.size, classesOverride = props.classes, rest = __rest(props, [\"children\", \"closedSize\", \"size\", \"classes\"]);\n    var dispatch = useDispatch();\n    var isXSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('xs');\n    });\n    var isSmall = useMediaQuery(function (theme) { return theme.breakpoints.down('sm'); });\n    var open = useSelector(function (state) { return state.admin.ui.sidebarOpen; });\n    useLocale(); // force redraw on locale change\n    var toggleSidebar = function () { return dispatch(setSidebarVisibility(!open)); };\n    var _a = useStyles(__assign(__assign({}, props), { open: open })), drawerPaper = _a.drawerPaper, fixed = _a.fixed, classes = __rest(_a, [\"drawerPaper\", \"fixed\"]);\n    return isXSmall ? (React.createElement(Drawer, __assign({ variant: \"temporary\", open: open, PaperProps: {\n            className: drawerPaper,\n        }, onClose: toggleSidebar, classes: classes }, rest), children)) : isSmall ? (React.createElement(Drawer, __assign({ variant: \"permanent\", open: open, PaperProps: {\n            className: drawerPaper,\n        }, onClose: toggleSidebar, classes: classes }, rest),\n        React.createElement(\"div\", { className: fixed }, children))) : (React.createElement(Drawer, __assign({ variant: \"permanent\", open: open, PaperProps: {\n            className: drawerPaper,\n        }, onClose: toggleSidebar, classes: classes }, rest),\n        React.createElement(\"div\", { className: fixed }, children)));\n};\nSidebar.propTypes = {\n    children: PropTypes.node.isRequired,\n};\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        root: {\n            height: 'calc(100vh - 3em)',\n        },\n        docked: {},\n        paper: {},\n        paperAnchorLeft: {},\n        paperAnchorRight: {},\n        paperAnchorTop: {},\n        paperAnchorBottom: {},\n        paperAnchorDockedLeft: {},\n        paperAnchorDockedTop: {},\n        paperAnchorDockedRight: {},\n        paperAnchorDockedBottom: {},\n        modal: {},\n        fixed: {\n            position: 'fixed',\n            height: 'calc(100vh - 3em)',\n            overflowX: 'hidden',\n            // hide scrollbar\n            scrollbarWidth: 'none',\n            msOverflowStyle: 'none',\n            '&::-webkit-scrollbar': {\n                display: 'none',\n            },\n        },\n        drawerPaper: (_a = {\n                position: 'relative',\n                width: function (props) {\n                    return props.open\n                        ? lodashGet(theme, 'sidebar.width', DRAWER_WIDTH)\n                        : lodashGet(theme, 'sidebar.closedWidth', CLOSED_DRAWER_WIDTH);\n                },\n                transition: theme.transitions.create('width', {\n                    easing: theme.transitions.easing.sharp,\n                    duration: theme.transitions.duration.leavingScreen,\n                }),\n                backgroundColor: 'transparent',\n                borderRight: 'none'\n            },\n            _a[theme.breakpoints.only('xs')] = {\n                marginTop: 0,\n                height: '100vh',\n                position: 'inherit',\n                backgroundColor: theme.palette.background.default,\n            },\n            _a[theme.breakpoints.up('md')] = {\n                border: 'none',\n            },\n            _a.zIndex = 'inherit',\n            _a),\n    });\n}, { name: 'RaSidebar' });\nexport default Sidebar;\n","import inflection from 'inflection';\nimport { useStore } from 'react-redux';\nimport { getResources } from '../reducer';\nimport { useTranslate } from '../i18n';\n/**\n * A hook which returns function to get a translated resource name. It will use the label option of the `Resource` component if it was provided.\n *\n * @returns {GetResourceLabel} A function which takes a resource name and an optional number indicating the number of items (used for pluralization) and returns a translated string.\n * @example\n * const Menu = () => {\n *     const resources = useSelector(getResources, shallowEqual);\n *     const getResourceLabel = useGetResourceLabel();\n *\n *     return (\n *         <ul>\n *             {resources.map(resource => (\n *                 <li key={resource.name}>\n *                     {getResourceLabel(resource.name, 2)}\n *                 </li>\n *             ))}\n *         </ul>\n *     )\n * }\n */\nexport var useGetResourceLabel = function () {\n    var store = useStore();\n    var translate = useTranslate();\n    return function (resource, count) {\n        if (count === void 0) { count = 2; }\n        var resourceDefinition = getResources(store.getState()).find(function (r) { return (r === null || r === void 0 ? void 0 : r.name) === resource; });\n        var label = translate(\"resources.\" + resource + \".name\", {\n            smart_count: count,\n            _: resourceDefinition &&\n                resourceDefinition.options &&\n                resourceDefinition.options.label\n                ? translate(resourceDefinition.options.label, {\n                    smart_count: count,\n                    _: resourceDefinition.options.label,\n                })\n                : inflection.humanize(count > 1\n                    ? inflection.pluralize(resource)\n                    : inflection.singularize(resource)),\n        });\n        return label;\n    };\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { forwardRef, cloneElement, useCallback, } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { setSidebarVisibility } from 'ra-core';\nimport { MenuItem, ListItemIcon, Tooltip, useMediaQuery, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nvar NavLinkRef = forwardRef(function (props, ref) { return (React.createElement(NavLink, __assign({ innerRef: ref }, props))); });\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        color: theme.palette.text.secondary,\n    },\n    active: {\n        color: theme.palette.text.primary,\n    },\n    icon: { minWidth: theme.spacing(5) },\n}); }, { name: 'RaMenuItemLink' });\n/**\n * Displays a menu item with a label and an icon - or only the icon with a tooltip when the sidebar is minimized.\n * It also handles the automatic closing of the menu on tap on mobile.\n *\n * @typedef {Object} Props the props you can use\n * @prop {string|Location} to The menu item's target. It is passed to a React Router NavLink component.\n * @prop {string|ReactNode} primaryText The menu content, displayed when the menu isn't minimized. |\n * @prop {ReactNode} leftIcon The menu icon\n *\n * Additional props are passed down to the underling material-ui <MenuItem> component\n * @see https://v4.mui.com/api/menu-item/#menuitem-api\n *\n * @example // You can create a custom menu component using the <DashboardMenuItem> and <MenuItemLink> components:\n *\n * // in src/Menu.js\n * import * as React from 'react';\n * import { DashboardMenuItem, MenuItemLink } from 'react-admin';\n * import BookIcon from '@material-ui/icons/Book';\n * import ChatBubbleIcon from '@material-ui/icons/ChatBubble';\n * import PeopleIcon from '@material-ui/icons/People';\n * import LabelIcon from '@material-ui/icons/Label';\n *\n * export const Menu = () => (\n *     <div>\n *         <DashboardMenuItem />\n *         <MenuItemLink to=\"/posts\" primaryText=\"Posts\" leftIcon={<BookIcon />}/>\n *         <MenuItemLink to=\"/comments\" primaryText=\"Comments\" leftIcon={<ChatBubbleIcon />}/>\n *         <MenuItemLink to=\"/users\" primaryText=\"Users\" leftIcon={<PeopleIcon />}/>\n *         <MenuItemLink to=\"/custom-route\" primaryText=\"Miscellaneous\" leftIcon={<LabelIcon />}/>\n *     </div>\n * );\n *\n * // to use this custom menu component, pass it to a custom Layout:\n * // in src/Layout.js\n * import { Layout } from 'react-admin';\n * import { Menu } from './Menu';\n *\n * export const Layout = (props) => <Layout {...props} menu={Menu} />;\n *\n * // then, use this layout in the <Admin layout> prop:\n * // in src/App.js\n * import { Layout }  from './Layout';\n *\n * const App = () => (\n *     <Admin layout={Layout} dataProvider={simpleRestProvider('http://path.to.my.api')}>\n *         // ...\n *     </Admin>\n * );\n */\nvar MenuItemLink = forwardRef(function (props, ref) {\n    var classesOverride = props.classes, className = props.className, primaryText = props.primaryText, leftIcon = props.leftIcon, onClick = props.onClick, sidebarIsOpen = props.sidebarIsOpen, tooltipProps = props.tooltipProps, rest = __rest(props, [\"classes\", \"className\", \"primaryText\", \"leftIcon\", \"onClick\", \"sidebarIsOpen\", \"tooltipProps\"]);\n    var classes = useStyles(props);\n    var dispatch = useDispatch();\n    var isSmall = useMediaQuery(function (theme) { return theme.breakpoints.down('sm'); });\n    var open = useSelector(function (state) { return state.admin.ui.sidebarOpen; });\n    var handleMenuTap = useCallback(function (e) {\n        if (isSmall) {\n            dispatch(setSidebarVisibility(false));\n        }\n        onClick && onClick(e);\n    }, [dispatch, isSmall, onClick]);\n    var renderMenuItem = function () {\n        return (React.createElement(MenuItem, __assign({ className: classnames(classes.root, className), activeClassName: classes.active, component: NavLinkRef, ref: ref, tabIndex: 0 }, rest, { onClick: handleMenuTap }),\n            leftIcon && (React.createElement(ListItemIcon, { className: classes.icon }, cloneElement(leftIcon, {\n                titleAccess: primaryText,\n            }))),\n            primaryText));\n    };\n    return open ? (renderMenuItem()) : (React.createElement(Tooltip, __assign({ title: primaryText, placement: \"right\" }, tooltipProps), renderMenuItem()));\n});\nMenuItemLink.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    leftIcon: PropTypes.element,\n    onClick: PropTypes.func,\n    primaryText: PropTypes.node,\n    staticContext: PropTypes.object,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n    sidebarIsOpen: PropTypes.bool,\n};\nexport default MenuItemLink;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport { useTranslate } from 'ra-core';\nimport MenuItemLink from './MenuItemLink';\nvar DashboardMenuItem = function (props) {\n    var locale = props.locale, rest = __rest(props, [\"locale\"]);\n    var translate = useTranslate();\n    return (React.createElement(MenuItemLink, __assign({ to: \"/\", primaryText: translate('ra.page.dashboard'), leftIcon: React.createElement(DashboardIcon, null), exact: true }, rest)));\n};\nDashboardMenuItem.propTypes = {\n    classes: PropTypes.object,\n    locale: PropTypes.string,\n    onClick: PropTypes.func,\n    dense: PropTypes.bool,\n    sidebarIsOpen: PropTypes.bool,\n};\nexport default DashboardMenuItem;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport lodashGet from 'lodash/get';\n// @ts-ignore\nimport { makeStyles } from '@material-ui/core/styles';\nimport DefaultIcon from '@material-ui/icons/ViewList';\nimport classnames from 'classnames';\nimport { useGetResourceLabel, getResources } from 'ra-core';\nimport DashboardMenuItem from './DashboardMenuItem';\nimport MenuItemLink from './MenuItemLink';\nexport var MENU_WIDTH = 240;\nexport var CLOSED_MENU_WIDTH = 55;\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        main: (_a = {\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'flex-start',\n                marginTop: '0.5em',\n                marginBottom: '1em'\n            },\n            _a[theme.breakpoints.only('xs')] = {\n                marginTop: 0,\n            },\n            _a.transition = theme.transitions.create('width', {\n                easing: theme.transitions.easing.sharp,\n                duration: theme.transitions.duration.leavingScreen,\n            }),\n            _a),\n        open: {\n            width: lodashGet(theme, 'menu.width', MENU_WIDTH),\n        },\n        closed: {\n            width: lodashGet(theme, 'menu.closedWidth', CLOSED_MENU_WIDTH),\n        },\n    });\n}, { name: 'RaMenu' });\nvar Menu = function (props) {\n    var _a;\n    var resources = useSelector(getResources, shallowEqual);\n    var getResourceLabel = useGetResourceLabel();\n    var hasDashboard = props.hasDashboard, dense = props.dense, _b = props.children, children = _b === void 0 ? (React.createElement(React.Fragment, null,\n        hasDashboard && React.createElement(DashboardMenuItem, { dense: dense }),\n        resources\n            .filter(function (r) { return r.hasList; })\n            .map(function (resource) { return (React.createElement(MenuItemLink, { key: resource.name, to: {\n                pathname: \"/\" + resource.name,\n                state: { _scrollToTop: true },\n            }, primaryText: getResourceLabel(resource.name, 2), leftIcon: resource.icon ? (React.createElement(resource.icon, null)) : (React.createElement(DefaultIcon, null)), dense: dense })); }))) : _b, classesOverride = props.classes, className = props.className, onMenuClick = props.onMenuClick, logout = props.logout, rest = __rest(props, [\"hasDashboard\", \"dense\", \"children\", \"classes\", \"className\", \"onMenuClick\", \"logout\"]);\n    var classes = useStyles(props);\n    var open = useSelector(function (state) { return state.admin.ui.sidebarOpen; });\n    return (React.createElement(\"div\", __assign({ className: classnames(classes.main, (_a = {},\n            _a[classes.open] = open,\n            _a[classes.closed] = !open,\n            _a), className) }, rest), children));\n};\nMenu.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    dense: PropTypes.bool,\n    hasDashboard: PropTypes.bool,\n    logout: PropTypes.element,\n    onMenuClick: PropTypes.func,\n};\nMenu.defaultProps = {\n    onMenuClick: function () { return null; },\n};\nexport default Menu;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { hideNotification, getNotification, undo, complete, undoableEventEmitter, useTranslate, } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    success: {\n        backgroundColor: theme.palette.success.main,\n        color: theme.palette.success.contrastText,\n    },\n    error: {\n        backgroundColor: theme.palette.error.dark,\n        color: theme.palette.error.contrastText,\n    },\n    warning: {\n        backgroundColor: theme.palette.error.light,\n        color: theme.palette.error.contrastText,\n    },\n    undo: function (props) { return ({\n        color: props.type === 'success'\n            ? theme.palette.success.contrastText\n            : theme.palette.primary.light,\n    }); },\n    multiLine: {\n        whiteSpace: 'pre-wrap',\n    },\n}); }, { name: 'RaNotification' });\nvar Notification = function (props) {\n    var _a;\n    var classesOverride = props.classes, type = props.type, className = props.className, autoHideDuration = props.autoHideDuration, multiLine = props.multiLine, rest = __rest(props, [\"classes\", \"type\", \"className\", \"autoHideDuration\", \"multiLine\"]);\n    var _b = useState(false), open = _b[0], setOpen = _b[1];\n    var notification = useSelector(getNotification);\n    var dispatch = useDispatch();\n    var translate = useTranslate();\n    var styles = useStyles(props);\n    useEffect(function () {\n        setOpen(!!notification);\n    }, [notification]);\n    var handleRequestClose = useCallback(function () {\n        setOpen(false);\n    }, [setOpen]);\n    var handleExited = useCallback(function () {\n        if (notification && notification.undoable) {\n            dispatch(complete());\n            undoableEventEmitter.emit('end', { isUndo: false });\n        }\n        dispatch(hideNotification());\n    }, [dispatch, notification]);\n    var handleUndo = useCallback(function () {\n        dispatch(undo());\n        undoableEventEmitter.emit('end', { isUndo: true });\n    }, [dispatch]);\n    return (React.createElement(Snackbar, __assign({ open: open, message: notification &&\n            notification.message &&\n            translate(notification.message, notification.messageArgs), autoHideDuration: (notification && notification.autoHideDuration) ||\n            autoHideDuration, disableWindowBlurListener: notification && notification.undoable, TransitionProps: { onExited: handleExited }, onClose: handleRequestClose, ContentProps: {\n            className: classnames(styles[(notification && notification.type) || type], className, (_a = {}, _a[styles['multiLine']] = multiLine, _a)),\n        }, action: notification && notification.undoable ? (React.createElement(Button, { color: \"primary\", className: styles.undo, size: \"small\", onClick: handleUndo }, translate('ra.action.undo'))) : null }, rest)));\n};\nNotification.propTypes = {\n    type: PropTypes.string,\n    autoHideDuration: PropTypes.number,\n    multiLine: PropTypes.bool,\n};\nNotification.defaultProps = {\n    type: 'info',\n    autoHideDuration: 4000,\n    multiLine: false,\n};\nexport default Notification;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { cloneElement } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { useTranslate, warning } from 'ra-core';\nvar Title = function (_a) {\n    var className = _a.className, defaultTitle = _a.defaultTitle, record = _a.record, title = _a.title, rest = __rest(_a, [\"className\", \"defaultTitle\", \"record\", \"title\"]);\n    var translate = useTranslate();\n    var container = typeof document !== 'undefined'\n        ? document.getElementById('react-admin-title')\n        : null;\n    if (!container)\n        return null;\n    warning(!defaultTitle && !title, 'Missing title prop in <Title> element');\n    var titleElement = !title ? (React.createElement(\"span\", __assign({ className: className }, rest), defaultTitle)) : typeof title === 'string' ? (React.createElement(\"span\", __assign({ className: className }, rest), translate(title, { _: title }))) : (cloneElement(title, __assign({ className: className, record: record }, rest)));\n    return createPortal(titleElement, container);\n};\nexport var TitlePropType = PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n]);\nTitle.propTypes = {\n    defaultTitle: PropTypes.string,\n    className: PropTypes.string,\n    record: PropTypes.any,\n    title: TitlePropType,\n};\nexport default Title;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Button, Accordion, AccordionDetails, AccordionSummary, Typography, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ErrorIcon from '@material-ui/icons/Report';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport History from '@material-ui/icons/History';\nimport { useTranslate } from 'ra-core';\nimport Title, { TitlePropType } from './Title';\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        container: (_a = {\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                justifyContent: 'center'\n            },\n            _a[theme.breakpoints.down('sm')] = {\n                padding: '1em',\n            },\n            _a.fontFamily = 'Roboto, sans-serif',\n            _a.opacity = 0.5,\n            _a),\n        title: {\n            display: 'flex',\n            alignItems: 'center',\n        },\n        icon: {\n            width: '2em',\n            height: '2em',\n            marginRight: '0.5em',\n        },\n        panel: {\n            marginTop: '1em',\n            maxWidth: '60em',\n        },\n        panelDetails: {\n            whiteSpace: 'pre-wrap',\n        },\n        toolbar: {\n            marginTop: '2em',\n        },\n        advice: {\n            marginTop: '2em',\n        },\n    });\n}, { name: 'RaError' });\nfunction goBack() {\n    window.history.go(-1);\n}\nvar Error = function (props) {\n    var error = props.error, errorInfo = props.errorInfo, classesOverride = props.classes, className = props.className, title = props.title, rest = __rest(props, [\"error\", \"errorInfo\", \"classes\", \"className\", \"title\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(Fragment, null,\n        title && React.createElement(Title, { defaultTitle: title }),\n        React.createElement(\"div\", __assign({ className: classnames(classes.container, className) }, rest),\n            React.createElement(\"h1\", { className: classes.title, role: \"alert\" },\n                React.createElement(ErrorIcon, { className: classes.icon }),\n                translate('ra.page.error')),\n            React.createElement(\"div\", null, translate('ra.message.error')),\n            process.env.NODE_ENV !== 'production' && (React.createElement(React.Fragment, null,\n                React.createElement(Accordion, { className: classes.panel },\n                    React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, null) }, translate(error.toString(), {\n                        _: error.toString(),\n                    })),\n                    errorInfo && (React.createElement(AccordionDetails, { className: classes.panelDetails }, errorInfo.componentStack))),\n                React.createElement(\"div\", { className: classes.advice },\n                    React.createElement(Typography, { align: \"center\" }, \"Need help with this error? Try the following:\"),\n                    React.createElement(Typography, { component: \"div\" },\n                        React.createElement(\"ul\", null,\n                            React.createElement(\"li\", null,\n                                \"Check the\",\n                                ' ',\n                                React.createElement(\"a\", { href: \"https://marmelab.com/react-admin/Readme.html\" }, \"react-admin documentation\")),\n                            React.createElement(\"li\", null,\n                                \"Search on\",\n                                ' ',\n                                React.createElement(\"a\", { href: \"https://stackoverflow.com/questions/tagged/react-admin\" }, \"StackOverflow\"),\n                                ' ',\n                                \"for community answers\"),\n                            React.createElement(\"li\", null,\n                                \"Get help from the core team via\",\n                                ' ',\n                                React.createElement(\"a\", { href: \"https://marmelab.com/ra-enterprise/#fromsww\" }, \"react-admin Enterprise Edition\"))))))),\n            React.createElement(\"div\", { className: classes.toolbar },\n                React.createElement(Button, { variant: \"contained\", startIcon: React.createElement(History, null), onClick: goBack }, translate('ra.action.back'))))));\n};\nError.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    error: PropTypes.object.isRequired,\n    errorInfo: PropTypes.object,\n    title: TitlePropType,\n};\nexport default Error;\n","export default {\n    palette: {\n        secondary: {\n            light: '#6ec6ff',\n            main: '#2196f3',\n            dark: '#0069c0',\n            contrastText: '#fff',\n        },\n    },\n    typography: {\n        h6: {\n            fontWeight: 400,\n        },\n    },\n    sidebar: {\n        width: 240,\n        closedWidth: 55,\n    },\n    overrides: {\n        MuiFilledInput: {\n            root: {\n                backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                '&$disabled': {\n                    backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                },\n            },\n        },\n        MuiButtonBase: {\n            root: {\n                '&:hover:active::after': {\n                    // recreate a static ripple color\n                    // use the currentColor to make it work both for outlined and contained buttons\n                    // but to dim the background without dimming the text,\n                    // put another element on top with a limited opacity\n                    content: '\"\"',\n                    display: 'block',\n                    width: '100%',\n                    height: '100%',\n                    position: 'absolute',\n                    top: 0,\n                    right: 0,\n                    backgroundColor: 'currentColor',\n                    opacity: 0.3,\n                    borderRadius: 'inherit',\n                },\n            },\n        },\n    },\n    props: {\n        MuiButtonBase: {\n            // disable ripple for perf reasons\n            disableRipple: true,\n        },\n    },\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button as MuiButton, Tooltip, IconButton, useMediaQuery, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { useTranslate } from 'ra-core';\n/**\n * A generic Button with side icon. Only the icon is displayed on small screens.\n *\n * The component translates the label. Pass the icon as child.\n * The icon displays on the left side of the button by default. Set alignIcon prop to 'right' to inverse.\n *\n * @example\n *\n * <Button label=\"Edit\" color=\"secondary\" onClick={doEdit}>\n *   <ContentCreate />\n * </Button>\n *\n */\nvar Button = function (props) {\n    var _a;\n    var _b = props.alignIcon, alignIcon = _b === void 0 ? 'left' : _b, children = props.children, classesOverride = props.classes, className = props.className, color = props.color, disabled = props.disabled, label = props.label, size = props.size, rest = __rest(props, [\"alignIcon\", \"children\", \"classes\", \"className\", \"color\", \"disabled\", \"label\", \"size\"]);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    var isXSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('xs');\n    });\n    var restProps = sanitizeButtonRestProps(rest);\n    return isXSmall ? (label && !disabled ? (React.createElement(Tooltip, { title: translate(label, { _: label }) },\n        React.createElement(IconButton, __assign({ \"aria-label\": translate(label, { _: label }), className: className, color: color }, restProps), children))) : (React.createElement(IconButton, __assign({ className: className, color: color, disabled: disabled }, restProps), children))) : (React.createElement(MuiButton, __assign({ className: classnames(classes.button, className), color: color, size: size, \"aria-label\": label ? translate(label, { _: label }) : undefined, disabled: disabled }, restProps),\n        alignIcon === 'left' &&\n            children &&\n            React.cloneElement(children, {\n                className: classes[size + \"Icon\"],\n            }),\n        label && (React.createElement(\"span\", { className: classnames((_a = {},\n                _a[classes.label] = alignIcon === 'left',\n                _a[classes.labelRightIcon] = alignIcon !== 'left',\n                _a)) }, translate(label, { _: label }))),\n        alignIcon === 'right' &&\n            children &&\n            React.cloneElement(children, {\n                className: classes[size + \"Icon\"],\n            })));\n};\nvar useStyles = makeStyles({\n    button: {\n        display: 'inline-flex',\n        alignItems: 'center',\n    },\n    label: {\n        paddingLeft: '0.5em',\n    },\n    labelRightIcon: {\n        paddingRight: '0.5em',\n    },\n    smallIcon: {\n        fontSize: 20,\n    },\n    mediumIcon: {\n        fontSize: 22,\n    },\n    largeIcon: {\n        fontSize: 24,\n    },\n}, { name: 'RaButton' });\nexport var sanitizeButtonRestProps = function (_a) {\n    var \n    // The next props are injected by Toolbar\n    basePath = _a.basePath, handleSubmit = _a.handleSubmit, handleSubmitWithRedirect = _a.handleSubmitWithRedirect, invalid = _a.invalid, onSave = _a.onSave, pristine = _a.pristine, record = _a.record, redirect = _a.redirect, resource = _a.resource, saving = _a.saving, submitOnEnter = _a.submitOnEnter, undoable = _a.undoable, rest = __rest(_a, [\"basePath\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"onSave\", \"pristine\", \"record\", \"redirect\", \"resource\", \"saving\", \"submitOnEnter\", \"undoable\"]);\n    return rest;\n};\nButton.propTypes = {\n    alignIcon: PropTypes.oneOf(['left', 'right']),\n    children: PropTypes.element,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    color: PropTypes.oneOf(['default', 'inherit', 'primary', 'secondary']),\n    disabled: PropTypes.bool,\n    label: PropTypes.string,\n    size: PropTypes.oneOf(['small', 'medium', 'large']),\n};\nButton.defaultProps = {\n    color: 'primary',\n    size: 'small',\n};\nexport default Button;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from './Button';\nimport { useTranslate } from 'ra-core';\nimport classnames from 'classnames';\nvar skipToContent = function () {\n    if (typeof document === 'undefined')\n        return;\n    var element = document.getElementById('main-content');\n    if (!element) {\n        if (process.env.NODE_ENV !== 'production') {\n            console.warn('No element with id \"main-content\" was found. Ensure the element that contains your main content has an id of \"main-content\".');\n        }\n        return;\n    }\n    element.setAttribute('tabIndex', '-1');\n    element.focus();\n    element.blur();\n    element.removeAttribute('tabIndex');\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    skipToContentButton: {\n        position: 'fixed',\n        padding: theme.spacing(1),\n        backgroundColor: theme.palette.background.default,\n        color: theme.palette.getContrastText(theme.palette.background.default),\n        transition: theme.transitions.create(['top', 'opacity'], {\n            easing: theme.transitions.easing.easeIn,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        left: theme.spacing(2),\n        top: theme.spacing(-10),\n        zIndex: 5000,\n        '&:hover': {\n            opacity: 0.8,\n            backgroundColor: theme.palette.background.default,\n        },\n        '&:focus': {\n            top: theme.spacing(2),\n            transition: theme.transitions.create(['top', 'opacity'], {\n                easing: theme.transitions.easing.easeOut,\n                duration: theme.transitions.duration.enteringScreen,\n            }),\n        },\n    },\n}); }, { name: 'RaSkipToContentButton' });\nvar SkipNavigationButton = function () {\n    var classes = useStyles();\n    var translate = useTranslate();\n    return (React.createElement(Button, { onClick: skipToContent, className: classnames(classes.skipToContentButton, 'skip-nav-button'), label: translate('ra.navigation.skip_nav'), variant: \"contained\" }));\n};\nexport default SkipNavigationButton;\n","import { createTheme as createLegacyModeTheme, unstable_createMuiStrictModeTheme as createStrictModeTheme, } from '@material-ui/core/styles';\n/**\n * Alternative to MUI's createMuiTheme that doesn't log findDomNode warnings in StrictMode\n *\n * @see https://github.com/mui-org/material-ui/issues/13394\n */\nexport var createMuiTheme = process.env.NODE_ENV === 'production'\n    ? createLegacyModeTheme\n    : createStrictModeTheme;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Component, createElement, useEffect, useRef, useState, } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport classnames from 'classnames';\nimport { withRouter } from 'react-router-dom';\nimport { withStyles, createStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { ComponentPropType } from 'ra-core';\nimport compose from 'lodash/flowRight';\nimport DefaultAppBar from './AppBar';\nimport DefaultSidebar from './Sidebar';\nimport DefaultMenu from './Menu';\nimport DefaultNotification from './Notification';\nimport DefaultError from './Error';\nimport defaultTheme from '../defaultTheme';\nimport SkipNavigationButton from '../button/SkipNavigationButton';\nimport { createMuiTheme } from './createMuiTheme';\nvar styles = function (theme) {\n    var _a, _b;\n    return createStyles({\n        root: {\n            display: 'flex',\n            flexDirection: 'column',\n            zIndex: 1,\n            minHeight: '100vh',\n            backgroundColor: theme.palette.background.default,\n            position: 'relative',\n            minWidth: 'fit-content',\n            width: '100%',\n            color: theme.palette.getContrastText(theme.palette.background.default),\n        },\n        appFrame: (_a = {\n                display: 'flex',\n                flexDirection: 'column',\n                flexGrow: 1\n            },\n            _a[theme.breakpoints.up('xs')] = {\n                marginTop: theme.spacing(6),\n            },\n            _a[theme.breakpoints.down('xs')] = {\n                marginTop: theme.spacing(7),\n            },\n            _a),\n        contentWithSidebar: {\n            display: 'flex',\n            flexGrow: 1,\n        },\n        content: (_b = {\n                backgroundColor: theme.palette.background.default,\n                zIndex: 2,\n                display: 'flex',\n                flexDirection: 'column',\n                flexGrow: 1,\n                flexBasis: 0,\n                padding: theme.spacing(3),\n                paddingTop: theme.spacing(1),\n                paddingLeft: 0\n            },\n            _b[theme.breakpoints.up('xs')] = {\n                paddingLeft: 5,\n            },\n            _b[theme.breakpoints.down('sm')] = {\n                padding: 0,\n            },\n            _b),\n    });\n};\nvar LayoutWithoutTheme = /** @class */ (function (_super) {\n    __extends(LayoutWithoutTheme, _super);\n    function LayoutWithoutTheme(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = { hasError: false, error: null, errorInfo: null };\n        /**\n         * Reset the error state upon navigation\n         *\n         * @see https://stackoverflow.com/questions/48121750/browser-navigation-broken-by-use-of-react-error-boundaries\n         */\n        props.history.listen(function () {\n            if (_this.state.hasError) {\n                _this.setState({ hasError: false });\n            }\n        });\n        return _this;\n    }\n    LayoutWithoutTheme.prototype.componentDidCatch = function (error, errorInfo) {\n        this.setState({ hasError: true, error: error, errorInfo: errorInfo });\n    };\n    LayoutWithoutTheme.prototype.render = function () {\n        var _a = this.props, appBar = _a.appBar, children = _a.children, classes = _a.classes, className = _a.className, ErrorComponent = _a.error, dashboard = _a.dashboard, logout = _a.logout, menu = _a.menu, notification = _a.notification, open = _a.open, sidebar = _a.sidebar, title = _a.title, \n        // sanitize react-router props\n        match = _a.match, location = _a.location, history = _a.history, staticContext = _a.staticContext, props = __rest(_a, [\"appBar\", \"children\", \"classes\", \"className\", \"error\", \"dashboard\", \"logout\", \"menu\", \"notification\", \"open\", \"sidebar\", \"title\", \"match\", \"location\", \"history\", \"staticContext\"]);\n        var _b = this.state, hasError = _b.hasError, error = _b.error, errorInfo = _b.errorInfo;\n        return (React.createElement(React.Fragment, null,\n            React.createElement(\"div\", __assign({ className: classnames('layout', classes.root, className) }, props),\n                React.createElement(SkipNavigationButton, null),\n                React.createElement(\"div\", { className: classes.appFrame },\n                    createElement(appBar, { title: title, open: open, logout: logout }),\n                    React.createElement(\"main\", { className: classes.contentWithSidebar },\n                        createElement(sidebar, {\n                            children: createElement(menu, {\n                                logout: logout,\n                                hasDashboard: !!dashboard,\n                            }),\n                        }),\n                        React.createElement(\"div\", { id: \"main-content\", className: classes.content }, hasError ? (React.createElement(ErrorComponent, { error: error, errorInfo: errorInfo, title: title })) : (children))))),\n            createElement(notification)));\n    };\n    LayoutWithoutTheme.propTypes = {\n        appBar: ComponentPropType,\n        children: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n        classes: PropTypes.object,\n        className: PropTypes.string,\n        dashboard: ComponentPropType,\n        error: ComponentPropType,\n        history: PropTypes.object.isRequired,\n        logout: PropTypes.element,\n        menu: ComponentPropType,\n        notification: ComponentPropType,\n        open: PropTypes.bool,\n        sidebar: ComponentPropType,\n        title: PropTypes.node.isRequired,\n    };\n    LayoutWithoutTheme.defaultProps = {\n        appBar: DefaultAppBar,\n        error: DefaultError,\n        menu: DefaultMenu,\n        notification: DefaultNotification,\n        sidebar: DefaultSidebar,\n    };\n    return LayoutWithoutTheme;\n}(Component));\nvar mapStateToProps = function (state) { return ({\n    open: state.admin.ui.sidebarOpen,\n}); };\nvar EnhancedLayout = compose(connect(mapStateToProps, {} // Avoid connect passing dispatch in props\n), withRouter, withStyles(styles, { name: 'RaLayout' }))(LayoutWithoutTheme);\nvar Layout = function (_a) {\n    var themeOverride = _a.theme, props = __rest(_a, [\"theme\"]);\n    var themeProp = useRef(themeOverride);\n    var _b = useState(function () { return createMuiTheme(themeOverride); }), theme = _b[0], setTheme = _b[1];\n    useEffect(function () {\n        if (themeProp.current !== themeOverride) {\n            themeProp.current = themeOverride;\n            setTheme(createMuiTheme(themeOverride));\n        }\n    }, [themeOverride, themeProp, theme, setTheme]);\n    return (React.createElement(ThemeProvider, { theme: theme },\n        React.createElement(EnhancedLayout, __assign({}, props))));\n};\nLayout.propTypes = {\n    theme: PropTypes.object,\n};\nLayout.defaultProps = {\n    theme: defaultTheme,\n};\nexport default Layout;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport HotTub from '@material-ui/icons/HotTub';\nimport History from '@material-ui/icons/History';\nimport classnames from 'classnames';\nimport { useAuthenticated, useTranslate } from 'ra-core';\nimport Title from './Title';\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        container: (_a = {\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'center'\n            },\n            _a[theme.breakpoints.up('md')] = {\n                height: '100%',\n            },\n            _a[theme.breakpoints.down('sm')] = {\n                height: '100vh',\n                marginTop: '-3em',\n            },\n            _a),\n        icon: {\n            width: '9em',\n            height: '9em',\n        },\n        message: {\n            textAlign: 'center',\n            fontFamily: 'Roboto, sans-serif',\n            opacity: 0.5,\n            margin: '0 1em',\n        },\n        toolbar: {\n            textAlign: 'center',\n            marginTop: '2em',\n        },\n    });\n}, { name: 'RaNotFound' });\nfunction goBack() {\n    window.history.go(-1);\n}\nvar NotFound = function (props) {\n    var className = props.className, classesOverride = props.classes, title = props.title, rest = __rest(props, [\"className\", \"classes\", \"title\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    useAuthenticated();\n    return (React.createElement(\"div\", __assign({ className: classnames(classes.container, className) }, sanitizeRestProps(rest)),\n        React.createElement(Title, { defaultTitle: title }),\n        React.createElement(\"div\", { className: classes.message },\n            React.createElement(HotTub, { className: classes.icon }),\n            React.createElement(\"h1\", null, translate('ra.page.not_found')),\n            React.createElement(\"div\", null,\n                translate('ra.message.not_found'),\n                \".\")),\n        React.createElement(\"div\", { className: classes.toolbar },\n            React.createElement(Button, { variant: \"contained\", startIcon: React.createElement(History, null), onClick: goBack }, translate('ra.action.back')))));\n};\nvar sanitizeRestProps = function (_a) {\n    var staticContext = _a.staticContext, history = _a.history, location = _a.location, match = _a.match, rest = __rest(_a, [\"staticContext\", \"history\", \"location\", \"match\"]);\n    return rest;\n};\nNotFound.propTypes = {\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    title: PropTypes.string,\n    location: PropTypes.object,\n};\nexport default NotFound;\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { useTranslate } from 'ra-core';\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        container: (_a = {\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'center'\n            },\n            _a[theme.breakpoints.up('md')] = {\n                height: '100%',\n            },\n            _a[theme.breakpoints.down('lg')] = {\n                height: '100vh',\n                marginTop: '-3em',\n            },\n            _a),\n        icon: {\n            width: '9em',\n            height: '9em',\n        },\n        message: {\n            textAlign: 'center',\n            fontFamily: 'Roboto, sans-serif',\n            opacity: 0.5,\n            margin: '0 1em',\n        },\n    });\n}, { name: 'RaLoading' });\nvar Loading = function (props) {\n    var className = props.className, _a = props.loadingPrimary, loadingPrimary = _a === void 0 ? 'ra.page.loading' : _a, _b = props.loadingSecondary, loadingSecondary = _b === void 0 ? 'ra.message.loading' : _b;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(\"div\", { className: classnames(classes.container, className) },\n        React.createElement(\"div\", { className: classes.message },\n            React.createElement(CircularProgress, { className: classes.icon, color: \"primary\" }),\n            React.createElement(\"h1\", null, translate(loadingPrimary)),\n            React.createElement(\"div\", null,\n                translate(loadingSecondary),\n                \".\"))));\n};\nLoading.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    loadingPrimary: PropTypes.string,\n    loadingSecondary: PropTypes.string,\n};\nLoading.defaultProps = {\n    loadingPrimary: 'ra.page.loading',\n    loadingSecondary: 'ra.message.loading',\n};\nexport default Loading;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { createMuiTheme } from './createMuiTheme';\nimport Loading from './Loading';\nvar LoadingPage = function (_a) {\n    var theme = _a.theme, props = __rest(_a, [\"theme\"]);\n    return (React.createElement(ThemeProvider, { theme: theme },\n        React.createElement(Loading, __assign({}, props))));\n};\nLoadingPage.propTypes = {\n    theme: PropTypes.object,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    loadingPrimary: PropTypes.string,\n    loadingSecondary: PropTypes.string,\n};\nLoadingPage.defaultProps = {\n    theme: createMuiTheme({}),\n    loadingPrimary: 'ra.page.loading',\n    loadingSecondary: 'ra.message.loading',\n};\nexport default LoadingPage;\n","import { useCallback } from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\nimport { resetNotification } from '../actions/notificationActions';\n/**\n * Get a callback for calling the authProvider.login() method\n * and redirect to the previous authenticated page (or the home page) on success.\n *\n * @see useAuthProvider\n *\n * @returns {Function} login callback\n *\n * @example\n *\n * import { useLogin } from 'react-admin';\n *\n * const LoginButton = () => {\n *     const [loading, setLoading] = useState(false);\n *     const login = useLogin();\n *     const handleClick = {\n *         setLoading(true);\n *         login({ username: 'john', password: 'p@ssw0rd' }, '/posts')\n *             .then(() => setLoading(false));\n *     }\n *     return <button onClick={handleClick}>Login</button>;\n * }\n */\nvar useLogin = function () {\n    var authProvider = useAuthProvider();\n    var location = useLocation();\n    var locationState = location.state;\n    var history = useHistory();\n    var dispatch = useDispatch();\n    var nextPathName = locationState && locationState.nextPathname;\n    var nextSearch = locationState && locationState.nextSearch;\n    var login = useCallback(function (params, pathName) {\n        if (params === void 0) { params = {}; }\n        return authProvider.login(params).then(function (ret) {\n            dispatch(resetNotification());\n            var redirectUrl = pathName\n                ? pathName\n                : nextPathName + nextSearch ||\n                    defaultAuthParams.afterLoginUrl;\n            history.push(redirectUrl);\n            return ret;\n        });\n    }, [authProvider, history, nextPathName, nextSearch, dispatch]);\n    var loginWithoutProvider = useCallback(function (_, __) {\n        dispatch(resetNotification());\n        history.push(defaultAuthParams.afterLoginUrl);\n        return Promise.resolve();\n    }, [history, dispatch]);\n    return authProvider ? login : loginWithoutProvider;\n};\nexport default useLogin;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Field, Form } from 'react-final-form';\nimport { Button, CardActions, CircularProgress, TextField, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, useLogin, useNotify, useSafeSetState } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    form: {\n        padding: '0 1em 1em 1em',\n    },\n    input: {\n        marginTop: '1em',\n    },\n    button: {\n        width: '100%',\n    },\n    icon: {\n        marginRight: theme.spacing(1),\n    },\n}); }, { name: 'RaLoginForm' });\nvar Input = function (_a) {\n    var _b = _a.meta, touched = _b.touched, error = _b.error, // eslint-disable-line react/prop-types\n    inputProps = _a.input, // eslint-disable-line react/prop-types\n    props = __rest(_a, [\"meta\", \"input\"]);\n    return (React.createElement(TextField, __assign({ error: !!(touched && error), helperText: touched && error }, inputProps, props, { fullWidth: true })));\n};\nvar LoginForm = function (props) {\n    var redirectTo = props.redirectTo;\n    var _a = useSafeSetState(false), loading = _a[0], setLoading = _a[1];\n    var login = useLogin();\n    var translate = useTranslate();\n    var notify = useNotify();\n    var classes = useStyles(props);\n    var validate = function (values) {\n        var errors = { username: undefined, password: undefined };\n        if (!values.username) {\n            errors.username = translate('ra.validation.required');\n        }\n        if (!values.password) {\n            errors.password = translate('ra.validation.required');\n        }\n        return errors;\n    };\n    var submit = function (values) {\n        setLoading(true);\n        login(values, redirectTo)\n            .then(function () {\n            setLoading(false);\n        })\n            .catch(function (error) {\n            setLoading(false);\n            notify(typeof error === 'string'\n                ? error\n                : typeof error === 'undefined' || !error.message\n                    ? 'ra.auth.sign_in_error'\n                    : error.message, 'warning', {\n                _: typeof error === 'string'\n                    ? error\n                    : error && error.message\n                        ? error.message\n                        : undefined,\n            });\n        });\n    };\n    return (React.createElement(Form, { onSubmit: submit, validate: validate, render: function (_a) {\n            var handleSubmit = _a.handleSubmit;\n            return (React.createElement(\"form\", { onSubmit: handleSubmit, noValidate: true },\n                React.createElement(\"div\", { className: classes.form },\n                    React.createElement(\"div\", { className: classes.input },\n                        React.createElement(Field, { autoFocus: true, id: \"username\", name: \"username\", component: Input, label: translate('ra.auth.username'), disabled: loading })),\n                    React.createElement(\"div\", { className: classes.input },\n                        React.createElement(Field, { id: \"password\", name: \"password\", component: Input, label: translate('ra.auth.password'), type: \"password\", disabled: loading, autoComplete: \"current-password\" }))),\n                React.createElement(CardActions, null,\n                    React.createElement(Button, { variant: \"contained\", type: \"submit\", color: \"primary\", disabled: loading, className: classes.button },\n                        loading && (React.createElement(CircularProgress, { className: classes.icon, size: 18, thickness: 2 })),\n                        translate('ra.auth.sign_in')))));\n        } }));\n};\nLoginForm.propTypes = {\n    redirectTo: PropTypes.string,\n};\nexport default LoginForm;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { createElement, useRef, useEffect, useMemo, } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Card, Avatar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport LockIcon from '@material-ui/icons/Lock';\nimport { useHistory } from 'react-router-dom';\nimport { useCheckAuth } from 'ra-core';\nimport defaultTheme from '../defaultTheme';\nimport { createMuiTheme } from '../layout';\nimport DefaultNotification from '../layout/Notification';\nimport DefaultLoginForm from './LoginForm';\n/**\n * A standalone login page, to serve as authentication gate to the admin\n *\n * Expects the user to enter a login and a password, which will be checked\n * by the `authProvider.login()` method. Redirects to the root page (/)\n * upon success, otherwise displays an authentication error message.\n *\n * Copy and adapt this component to implement your own login logic\n * (e.g. to authenticate via email or facebook or anything else).\n *\n * @example\n *     import MyLoginPage from './MyLoginPage';\n *     const App = () => (\n *         <Admin loginPage={MyLoginPage} authProvider={authProvider}>\n *             ...\n *        </Admin>\n *     );\n */\nvar Login = function (props) {\n    var theme = props.theme, rest = __rest(props, [\"theme\"]);\n    var muiTheme = useMemo(function () { return createMuiTheme(theme); }, [theme]);\n    return (React.createElement(ThemeProvider, { theme: muiTheme },\n        React.createElement(LoginView, __assign({}, rest))));\n};\nLogin.propTypes = {\n    backgroundImage: PropTypes.string,\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    theme: PropTypes.object,\n    staticContext: PropTypes.object,\n};\nLogin.defaultProps = {\n    theme: defaultTheme,\n    children: React.createElement(DefaultLoginForm, null),\n    notification: DefaultNotification,\n};\nexport default Login;\nvar useStyles = makeStyles(function (theme) { return ({\n    main: {\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh',\n        height: '1px',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n        backgroundImage: 'radial-gradient(circle at 50% 14em, #313264 0%, #00023b 60%, #00023b 100%)',\n    },\n    card: {\n        minWidth: 300,\n        marginTop: '6em',\n    },\n    avatar: {\n        margin: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    icon: {\n        backgroundColor: theme.palette.secondary[500],\n    },\n}); }, { name: 'RaLogin' });\nvar LoginView = function (props) {\n    var title = props.title, classesOverride = props.classes, className = props.className, children = props.children, notification = props.notification, staticContext = props.staticContext, backgroundImage = props.backgroundImage, rest = __rest(props, [\"title\", \"classes\", \"className\", \"children\", \"notification\", \"staticContext\", \"backgroundImage\"]);\n    var containerRef = useRef();\n    var classes = useStyles(props);\n    var checkAuth = useCheckAuth();\n    var history = useHistory();\n    useEffect(function () {\n        checkAuth({}, false)\n            .then(function () {\n            // already authenticated, redirect to the home page\n            history.push('/');\n        })\n            .catch(function () {\n            // not authenticated, stay on the login page\n        });\n    }, [checkAuth, history]);\n    var backgroundImageLoaded = false;\n    var updateBackgroundImage = function () {\n        if (!backgroundImageLoaded && containerRef.current) {\n            containerRef.current.style.backgroundImage = \"url(\" + backgroundImage + \")\";\n            backgroundImageLoaded = true;\n        }\n    };\n    // Load background image asynchronously to speed up time to interactive\n    var lazyLoadBackgroundImage = function () {\n        if (backgroundImage) {\n            var img = new Image();\n            img.onload = updateBackgroundImage;\n            img.src = backgroundImage;\n        }\n    };\n    useEffect(function () {\n        if (!backgroundImageLoaded) {\n            lazyLoadBackgroundImage();\n        }\n    });\n    return (React.createElement(\"div\", __assign({ className: classnames(classes.main, className) }, rest, { ref: containerRef }),\n        React.createElement(Card, { className: classes.card },\n            React.createElement(\"div\", { className: classes.avatar },\n                React.createElement(Avatar, { className: classes.icon },\n                    React.createElement(LockIcon, null))),\n            children),\n        notification ? createElement(notification) : null));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { ListItemIcon, MenuItem, useMediaQuery } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ExitIcon from '@material-ui/icons/PowerSettingsNew';\nimport classnames from 'classnames';\nimport { useTranslate, useLogout } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    menuItem: {\n        color: theme.palette.text.secondary,\n    },\n    icon: { minWidth: theme.spacing(5) },\n}); }, { name: 'RaLogout' });\n/**\n * Logout button component, to be passed to the Admin component\n *\n * Used for the Logout Menu item in the sidebar\n */\nvar LogoutWithRef = React.forwardRef(function Logout(props, ref) {\n    var className = props.className, classesOverride = props.classes, redirectTo = props.redirectTo, icon = props.icon, rest = __rest(props, [\"className\", \"classes\", \"redirectTo\", \"icon\"]);\n    var classes = useStyles(props);\n    var isXSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('xs');\n    });\n    var translate = useTranslate();\n    var logout = useLogout();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    var handleClick = useCallback(function () { return logout(null, redirectTo, false); }, [\n        redirectTo,\n        logout,\n    ]);\n    return (React.createElement(MenuItem, __assign({ className: classnames('logout', classes.menuItem, className), onClick: handleClick, ref: ref, component: isXSmall ? 'span' : 'li' }, rest),\n        React.createElement(ListItemIcon, { className: classes.icon }, icon ? icon : React.createElement(ExitIcon, null)),\n        translate('ra.auth.logout')));\n});\nLogoutWithRef.propTypes = {\n    className: PropTypes.string,\n    redirectTo: PropTypes.string,\n    icon: PropTypes.element,\n};\nexport default LogoutWithRef;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { CoreAdminUI } from 'ra-core';\nimport { Layout as DefaultLayout, LoadingPage, Login, Logout, NotFound, } from 'ra-ui-materialui';\nvar AdminUI = function (props) { return React.createElement(CoreAdminUI, __assign({}, props)); };\nAdminUI.defaultProps = {\n    layout: DefaultLayout,\n    catchAll: NotFound,\n    loading: LoadingPage,\n    loginPage: Login,\n    logout: Logout,\n};\nexport default AdminUI;\n","import * as React from 'react';\nimport AdminContext from './AdminContext';\nimport AdminUI from './AdminUI';\n/**\n * Main admin component, entry point to the application.\n *\n * Initializes the various contexts (auth, data, i18n, redux, router)\n * and defines the main routes.\n *\n * Expects a list of resources as children, or a function returning a list of\n * resources based on the permissions.\n *\n * @example\n *\n * // static list of resources\n *\n * import {\n *     Admin,\n *     Resource,\n *     ListGuesser,\n *     useDataProvider,\n * } from 'react-admin';\n *\n * const App = () => (\n *     <Admin dataProvider={myDataProvider}>\n *         <Resource name=\"posts\" list={ListGuesser} />\n *     </Admin>\n * );\n *\n * // dynamic list of resources based on permissions\n *\n * import {\n *     Admin,\n *     Resource,\n *     ListGuesser,\n *     useDataProvider,\n * } from 'react-admin';\n *\n * const App = () => (\n *     <Admin dataProvider={myDataProvider}>\n *         {permissions => [\n *             <Resource name=\"posts\" key=\"posts\" list={ListGuesser} />,\n *         ]}\n *     </Admin>\n * );\n *\n * // If you have to build a dynamic list of resources using a side effect,\n * // you can't use <Admin>. But as it delegates to sub components,\n * // it's relatively straightforward to replace it:\n *\n * import * as React from 'react';\nimport { useEffect, useState } from 'react';\n * import {\n *     AdminContext,\n *     AdminUI,\n *     Resource,\n *     ListGuesser,\n *     useDataProvider,\n * } from 'react-admin';\n *\n * const App = () => (\n *     <AdminContext dataProvider={myDataProvider}>\n *         <Resources />\n *     </AdminContext>\n * );\n *\n * const Resources = () => {\n *     const [resources, setResources] = useState([]);\n *     const dataProvider = useDataProvider();\n *     useEffect(() => {\n *         dataProvider.introspect().then(r => setResources(r));\n *     }, []);\n *\n *     return (\n *         <AdminUI>\n *             {resources.map(resource => (\n *                 <Resource name={resource.name} key={resource.key} list={ListGuesser} />\n *             ))}\n *         </AdminUI>\n *     );\n * };\n */\nvar Admin = function (props) {\n    var appLayout = props.appLayout, authProvider = props.authProvider, catchAll = props.catchAll, children = props.children, customReducers = props.customReducers, _a = props.customRoutes, customRoutes = _a === void 0 ? [] : _a, customSagas = props.customSagas, dashboard = props.dashboard, dataProvider = props.dataProvider, disableTelemetry = props.disableTelemetry, history = props.history, i18nProvider = props.i18nProvider, initialState = props.initialState, layout = props.layout, loading = props.loading, locale = props.locale, loginPage = props.loginPage, logoutButton = props.logoutButton, menu = props.menu, // deprecated, use a custom layout instead\n    ready = props.ready, theme = props.theme, _b = props.title, title = _b === void 0 ? 'React Admin' : _b;\n    if (appLayout && process.env.NODE_ENV !== 'production') {\n        console.warn('You are using deprecated prop \"appLayout\", it was replaced by \"layout\", see https://github.com/marmelab/react-admin/issues/2918');\n    }\n    if (loginPage === true && process.env.NODE_ENV !== 'production') {\n        console.warn('You passed true to the loginPage prop. You must either pass false to disable it or a component class to customize it');\n    }\n    if (locale && process.env.NODE_ENV !== 'production') {\n        console.warn('You are using deprecated prop \"locale\". You must now pass the initial locale to your i18nProvider');\n    }\n    return (React.createElement(AdminContext, { authProvider: authProvider, dataProvider: dataProvider, i18nProvider: i18nProvider, history: history, customReducers: customReducers, customSagas: customSagas, initialState: initialState },\n        React.createElement(AdminUI, { layout: appLayout || layout, customRoutes: customRoutes, dashboard: dashboard, disableTelemetry: disableTelemetry, menu: menu, catchAll: catchAll, theme: theme, title: title, loading: loading, loginPage: loginPage, logout: authProvider ? logoutButton : undefined, ready: ready }, children)));\n};\nexport default Admin;\n","import { createContext } from 'react';\n/**\n * Context to store the current resource information.\n *\n * Use the useResource() hook to read the context. That's what most components do in react-admin.\n *\n * @example\n *\n * import { useResourceContext, useTranslate } from 'ra-core';\n *\n * const MyCustomEditTitle = props => {\n *     const name = useResourceContext(props);\n *\n *     return (\n *         <h1>{translate(`${name}.name`)}</h1>\n *     );\n * };\n */\nexport var ResourceContext = createContext(undefined);\n","import * as React from 'react';\nimport { ResourceContext } from './ResourceContext';\nexport var ResourceContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(ResourceContext.Provider, { value: value }, children));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Switch } from 'react-router-dom';\nimport WithPermissions from '../auth/WithPermissions';\nimport { registerResource, unregisterResource } from '../actions';\nimport { ResourceContextProvider } from './ResourceContextProvider';\nvar defaultOptions = {};\nvar ResourceRegister = function (props) {\n    var name = props.name, list = props.list, create = props.create, edit = props.edit, show = props.show, icon = props.icon, _a = props.options, options = _a === void 0 ? defaultOptions : _a;\n    var dispatch = useDispatch();\n    useEffect(function () {\n        dispatch(registerResource({\n            name: name,\n            options: options,\n            hasList: !!list,\n            hasEdit: !!edit,\n            hasShow: !!show,\n            hasCreate: !!create,\n            icon: icon,\n        }));\n        return function () {\n            dispatch(unregisterResource(name));\n        };\n    }, [dispatch, name, create, edit, icon, list, show, options]);\n    return null;\n};\nvar ResourceRoutes = function (props) {\n    var name = props.name, match = props.match, list = props.list, create = props.create, edit = props.edit, show = props.show, _a = props.options, options = _a === void 0 ? defaultOptions : _a;\n    var isRegistered = useSelector(function (state) { return !!state.admin.resources[name]; });\n    var basePath = match ? match.path : '';\n    var resourceData = useMemo(function () { return ({\n        resource: name,\n        options: options,\n        hasList: !!list,\n        hasEdit: !!edit,\n        hasShow: !!show,\n        hasCreate: !!create,\n    }); }, [name, options, create, edit, list, show]);\n    // match tends to change even on the same route ; using memo to avoid an extra render\n    return useMemo(function () {\n        // if the registration hasn't finished, no need to render\n        if (!isRegistered) {\n            return null;\n        }\n        return (React.createElement(ResourceContextProvider, { value: name },\n            React.createElement(Switch, null,\n                create && (React.createElement(Route, { path: basePath + \"/create\", render: function (routeProps) { return (React.createElement(WithPermissions, __assign({ component: create, basePath: basePath }, routeProps, resourceData))); } })),\n                show && (React.createElement(Route, { path: basePath + \"/:id/show\", render: function (routeProps) { return (React.createElement(WithPermissions, __assign({ component: show, basePath: basePath, id: decodeURIComponent(routeProps.match\n                            .params.id) }, routeProps, resourceData))); } })),\n                edit && (React.createElement(Route, { path: basePath + \"/:id\", render: function (routeProps) { return (React.createElement(WithPermissions, __assign({ component: edit, basePath: basePath, id: decodeURIComponent(routeProps.match\n                            .params.id) }, routeProps, resourceData))); } })),\n                list && (React.createElement(Route, { path: \"\" + basePath, render: function (routeProps) { return (React.createElement(WithPermissions, __assign({ component: list, basePath: basePath }, routeProps, resourceData, { syncWithLocation: true }))); } })))));\n    }, [basePath, name, create, edit, list, show, options, isRegistered]); // eslint-disable-line react-hooks/exhaustive-deps\n};\nvar Resource = function (props) {\n    var _a = props.intent, intent = _a === void 0 ? 'route' : _a, rest = __rest(props, [\"intent\"]);\n    return intent === 'registration' ? (React.createElement(ResourceRegister, __assign({}, rest))) : (React.createElement(ResourceRoutes, __assign({}, rest)));\n};\nexport default Resource;\n","import { AuthProvider } from 'react-admin';\n\nconst authProvider: AuthProvider = {\n    login: ({ username }) => {\n        localStorage.setItem('username', username);\n        // accept all username/password combinations\n        return Promise.resolve();\n    },\n    logout: () => {\n        localStorage.removeItem('username');\n        return Promise.resolve();\n    },\n    checkError: () => Promise.resolve(),\n    checkAuth: () =>\n        localStorage.getItem('username') ? Promise.resolve() : Promise.reject(),\n    getPermissions: () => Promise.reject('Unknown method'),\n    getIdentity: () =>\n        Promise.resolve({\n            id: 'user',\n            fullName: 'Jane Doe',\n            avatar:\n                'data:image/jpeg;base64,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',\n        }),\n};\n\nexport default authProvider;\n","import { ThemeName } from '../types';\n\nexport const CHANGE_THEME = 'CHANGE_THEME';\n\nexport const changeTheme = (theme: ThemeName) => ({\n    type: CHANGE_THEME,\n    payload: theme,\n});\n","import { Reducer } from 'redux';\nimport { CHANGE_THEME, changeTheme } from './configuration/actions';\nimport { ThemeName } from './types';\n\ntype State = ThemeName;\ntype Action =\n    | ReturnType<typeof changeTheme>\n    | { type: 'OTHER_ACTION'; payload?: any };\n\nconst themeReducer: Reducer<State, Action> = (\n    previousState = 'light',\n    action\n) => {\n    if (action.type === CHANGE_THEME) {\n        return action.payload;\n    }\n    return previousState;\n};\n\nexport default themeReducer;\n","import * as React from 'react';\nimport { SVGProps } from 'react';\nimport { useTheme } from '@material-ui/core/styles';\n\nconst Logo = (props: SVGProps<SVGSVGElement>) => {\n    const theme = useTheme();\n    return (\n        <svg\n            width={234.532}\n            height={20.475}\n            viewBox=\"0 0 62.053 5.417\"\n            {...props}\n        >\n            <g\n                aria-label=\"~Posters Galore~\"\n                style={{\n                    lineHeight: 1.25,\n                }}\n                fontWeight={400}\n                fontSize={7.056}\n                fontFamily=\"Permanent Marker\"\n                letterSpacing={0}\n                wordSpacing={0}\n                strokeWidth={0.265}\n                fill={theme.palette.secondary.light}\n            >\n                <path d=\"M.227 3.659Q.124 3.652.062 3.61 0 3.562 0 3.486q0-.068.062-.124.041-.103.083-.165L.24 3.06q.07-.096.138-.193.069-.096.152-.193.04-.034.068-.048.076-.055.152-.103.076-.055.172-.09.173-.062.338-.062.165-.007.282 0 .097.007.18.02.09.008.151.022.103.048.165.09.07.04.131.096.076.04.118.09.048.04.082.089.02.027.083.09.062.061.151.061.083 0 .138-.075.062-.076.124-.131.055-.145.18-.22.055-.028.089-.035l.076-.014q.02-.007.041-.007l.035-.014.075-.007h.09q.117-.034.207-.034.103.007.165.055.062.041.062.117 0 .076-.062.124-.041.11-.09.172-.04.062-.09.131l-.137.193q-.069.097-.158.193-.028.035-.07.048-.068.056-.144.11-.076.049-.172.083-.18.062-.345.07-.158 0-.275-.008l-.186-.013q-.083-.014-.152-.028-.096-.048-.165-.09-.07-.04-.131-.09-.076-.047-.117-.089-.042-.048-.076-.096-.02-.028-.09-.09-.069-.069-.144-.062-.076.007-.145.083-.062.069-.124.124-.041.138-.172.22-.056.028-.097.035l-.069.014-.041.013q-.02 0-.035.007l-.075.007h-.09q-.117.035-.207.035zM4.417 3.225q.007-.028.027-.021.028 0 .048-.007-.055-.055-.068-.145-.014-.096-.07-.158.014-.035.021-.069.014-.034.062-.028-.02-.151.007-.282.028-.131.083-.248.062-.117.138-.228.082-.117.158-.234.062-.014.076.014.014.02.048-.014.11-.076.152-.165.041-.097.041-.207.062-.179.138-.351.083-.18.186-.331.103-.152.22-.262.118-.117.255-.179.097-.083.242-.152.151-.068.316-.103.173-.041.352-.041.179-.007.33.034.035.014.042-.014Q7.228 0 7.255 0q.345.041.614.138.275.096.468.269.131.206.248.447.117.235.18.496.068.255.061.531-.007.276-.117.551-.241.303-.585.49-.345.179-.745.303-.392.117-.82.193-.42.075-.82.165.007.186 0 .4-.006.206-.048.42-.034.207-.11.406-.069.2-.193.372-.138-.006-.29.028-.144.034-.261.069l-.11-.069q-.049-.028-.124-.034.02-.083-.042-.173-.055-.09-.117-.172-.055-.09-.076-.172-.013-.09.083-.159-.055-.048-.055-.151.028.027.069.027-.014-.124.027-.296.049-.172.076-.338.035-.172.014-.31-.02-.144-.165-.206zm1.791-1.613l-.048.138q-.014.055-.035.103-.02.049-.048.097l-.048.11q.014.042.055.062.041.02.055.062.097-.048.193-.069.097-.027.193-.041.096-.014.193-.035.096-.02.2-.068.103-.049.213-.076l.228-.07q.11-.034.213-.075.104-.048.18-.124-.097-.09-.29-.158-.193-.07-.42-.083-.22-.02-.448.028-.22.048-.386.2zM12.506 3.1q-.007.083.013.16.021.075.049.15.034.07.062.145.027.076.041.152.014.096 0 .214-.014.11-.048.22-.035.103-.09.193-.055.083-.13.124-.097.124-.235.193-.138.069-.255.165-.076.048-.172.07l-.186.04q-.076.042-.18.09l-.213.083q-.11.034-.22.055-.11.014-.193.007-.207.076-.407.096-.193.028-.455-.027-.248.034-.461-.021-.207-.055-.372-.172-.159-.124-.283-.29-.117-.172-.193-.358-.055-.393.028-.71.083-.323.234-.592.159-.276.358-.503.2-.234.386-.455.042.014.062 0 .028-.02.048-.048.021-.035.042-.062.027-.028.062-.035.048-.103.138-.151.096-.055.151-.152.062-.014.104-.041.04-.028.075-.062.042-.035.083-.062.041-.035.097-.048v-.076q.124-.055.179-.124l.144-.18q.062-.006.097-.006.041 0 .117-.014.055-.096.096-.145.049-.048.138-.103.083.041.18.055.103.014.178.09.007.069.042.11.034.034.076.069.041.027.075.062.042.034.056.096.027.007.034-.007.014-.013.041-.007.021.097.049.131.027.028.055.117-.035.07-.055.145-.014.07-.083.104-.007.048.027.055.035 0 .042.034.007.062-.02.09.164.268.295.572.131.296.297.565zm-.862.655q.028-.076.07-.124.048-.048.054-.145-.034-.055-.04-.082-.008-.035-.008-.104-.151-.213-.262-.454-.11-.248-.248-.462-.013.028-.048.055-.034.028-.076-.014-.013.055-.048.083-.034.02-.076.02-.041-.006-.09-.02-.04-.02-.075-.048-.2.158-.4.31-.2.151-.358.351-.028.014-.034.014-.007-.007-.042.007-.055.13-.138.241-.075.103-.151.214-.076.11-.131.234-.055.124-.062.29.117.096.276.116.158.021.323.007.173-.013.331-.041.165-.034.303-.034.29-.07.496-.18.207-.117.434-.234zM12.898 2.067q.049-.145.152-.248.11-.103.234-.172.131-.076.269-.124t.262-.083q.275-.117.585-.22.317-.11.641-.193.331-.083.676-.104.344-.027.723.083.02.069.062.13l.083.125q.048.062.082.124.035.055.042.117.069.062.11.138.041.069.014.186-.07.055-.138.103-.062.042-.138.076-.255-.062-.517-.041-.261.02-.468.034-.062-.062-.152-.062-.082 0-.179.028l-.186.055q-.09.027-.172.014-.07.055-.172.075-.097.014-.214.028-.007.034.014.048.02.007.007.042.041.048.103.068l.138.042q.076.02.13.055.056.027.076.096.104 0 .18.049.075.048.124.117.048.069.069.151.027.076.027.138.02.055.048.048.028-.007.062.028.021.09.104.186.082.09.13.2.014.172.021.31.007.13-.048.269-.103.254-.29.454-.178.2-.413.359-.227.151-.489.261-.262.11-.51.186-.027-.006-.055 0-.027.007-.014-.034-.055.048-.124.062-.062.014-.138.007-.075 0-.158-.007-.076-.007-.145.007-.048-.048-.09-.097-.034-.04-.054-.11-.035 0-.035-.034.007-.035-.02-.035.04-.069.034-.076 0-.013-.02-.02l-.028-.014q-.014-.014-.007-.034.027-.056.02-.124l-.013-.152q-.007-.076.007-.145.02-.069.103-.11.234.028.44-.014.215-.048.4-.13.187-.083.352-.18.172-.096.338-.172.02-.062.055-.103.041-.042.082-.076.042-.035.076-.076.035-.041.048-.103.007-.049-.027-.055-.028-.014-.028-.056l-.076-.02q-.13-.076-.296-.124-.165-.055-.282-.117-.076.04-.145.02-.062-.02-.165-.041-.235-.014-.455-.048-.214-.035-.414-.124-.013-.035-.034-.062-.02-.028-.076-.014-.041-.055-.082-.103-.042-.056-.076-.118.014-.082.02-.137.007-.062-.04-.118.027-.09.04-.144.014-.055 0-.145z\" />\n                <path d=\"M19.988 1.853q-.172 0-.372.028-.2.02-.392.048-.138.02-.27.035-.123.013-.226.02-.049.152-.097.27-.048.116-.103.226-.055.118-.104.242-.041.117-.082.255-.07.11-.117.206-.042.09-.07.207-.082.103-.123.22-.042.11-.062.193l-.028.083q-.041.041-.048.069-.007.02-.035.041-.007.076-.048.152-.014.034-.02.069-.007.027-.007.041 0 .069-.035.09.007.034 0 .075l-.014.07q-.02.082-.013.13l.034.049q.02.02.028.055.04.027.062.034.027.02.082.048l.062.07q.035.199-.062.316-.103.131-.351.131h-.083q-.034-.034-.041-.055l-.09-.034q-.034-.014-.062-.056-.09-.04-.144-.068l-.062-.035v-.083q-.049-.062-.076-.137-.02-.076-.035-.152-.013-.062-.034-.117-.014-.055-.041-.097-.014-.4.075-.675.09-.275.186-.53l.11-.276q.056-.145.097-.296l.062-.07.076-.178.069-.152q.02-.048.034-.09l.035-.082q-.042 0-.076.007-.035 0-.069.007l-.076.013h-.069q-.048 0-.069-.006-.075.034-.165.034H17.019q-.014-.007-.028-.007-.069 0-.11.02h-.228q-.013 0-.034.008h-.034q-.049 0-.104-.007-.055-.014-.117-.048-.082-.11-.11-.118l-.062-.082q-.007-.042-.02-.076-.014-.041-.028-.09-.028-.069-.055-.144-.021-.083-.021-.193.007-.055.028-.083l.034-.048.02-.104.09.007h.193q.22 0 .448-.013l.469-.042.275-.027.296-.028q.028-.062.056-.117l.068-.034q.124-.007.173.034.055.034.09.069l.302-.028q.159-.02.317-.048.235-.034.469-.062.241-.027.462-.027.096 0 .186.006.09.007.165.021l.069.048q.02.042.055.076l.083.069q.082.076.165.18.083.103.062.302-.055.083-.083.097l-.062.082-.069-.006q-.04 0-.075.013-.035.007-.07.021l-.054.028-.062.013h-.104q-.034-.007-.076-.007z\" />\n                <path d=\"M23.303 1.288q.007.049 0 .076 0 .02-.007.042v.048q0 .02.014.069-.145.234-.338.324-.186.082-.407.124-.22.034-.454.075-.228.042-.455.18-.09-.035-.166 0-.068.034-.206.02-.042.042-.104.062-.062.014-.124.035.028.062.021.13 0 .063.02.104.242.02.531-.007.297-.028.58-.034.006.034-.008.048-.014.007-.007.034.049.035.097.09l.096.096q.048.049.097.083.055.028.124.02.027.056.034.125.014.062-.014.13-.11.076-.22.159-.11.076-.234.138-.118.062-.255.103-.131.035-.297.028h-.055q-.014 0-.041-.02-.055.034-.159.02-.096-.014-.151.02-.076-.034-.186-.027-.104 0-.186-.028-.11.145-.2.31-.09.166-.159.352.235.034.386.027.159-.007.297-.02.137-.021.282-.035.145-.02.365-.014.138-.075.324-.096.193-.028.352-.083.055.021.096.076.041.048.076.097.041.04.082.075.042.035.104.028.027.027.034.069.014.034.02.069.008.034.022.062.02.02.062.013-.104.228-.242.352-.13.117-.303.179-.172.062-.386.096-.206.035-.461.083-.062.014-.104-.007-.04-.014-.096-.014-.158.035-.379.062-.22.028-.448.021-.227-.007-.434-.062-.207-.048-.338-.179-.055-.048-.075-.11-.014-.07-.09-.104-.007-.09-.027-.2l-.042-.227q-.02-.124-.034-.24-.007-.118.014-.215.02-.103.082-.186.07-.082.048-.179.035-.007.042-.034.007-.035.055-.028.041-.124.09-.234.048-.11.096-.214.055-.103.103-.206.055-.11.104-.241-.097-.09-.145-.193-.041-.11-.062-.214-.02-.11-.035-.22-.013-.118-.048-.235.07-.103.166-.165.103-.069.22-.11.117-.042.255-.07.138-.027.29-.061.275-.09.489-.138.22-.048.427-.076.213-.034.44-.062.228-.027.518-.083.062.062.117.062.027-.062.062-.034.041.02.034-.041.07.117.172.2.11.075.242.13zM24.185 4.451q-.076.276-.138.42-.055.138-.172.29-.09-.014-.125.02-.034.035-.075.062-.062.014-.09 0-.027-.013-.048-.034-.02-.014-.055-.034-.028-.014-.09-.014-.014-.055-.034-.104-.014-.048-.09-.034.014-.055.007-.09-.007-.041-.02-.069l-.014-.062q-.007-.034.007-.082-.035 0-.056-.048-.02-.049-.048-.097.02-.124.042-.234.02-.11.048-.207.034-.096.055-.193.02-.096-.02-.2.027.021.04-.007.014-.034.021-.082.007-.055.007-.104 0-.055-.007-.09.07-.178.11-.364.049-.193.083-.38.041-.185.083-.364.041-.18.11-.331.076-.014.165.02.097.028.118.076.179-.138.317-.33.137-.2.282-.386.145-.186.317-.331.18-.145.448-.172.138.103.303.213.172.104.282.276.056.027.09.062.041.028.097.062v.083q.082.075.13.179.056.096.097.213l.083.228q.04.11.096.213-.014.035-.014.062 0 .021.007.049.014.027.02.055.008.027 0 .076-.02.303-.199.489-.172.186-.42.31-.248.117-.53.2-.283.082-.51.179 0 .027.02.027.028 0 .02.035.166.103.262.165.097.062.18.103.09.042.186.076.103.028.282.07.18.04.276.068.103.02.186.041l.165.028.248.02q.062.063.104.152.048.083.062.172.013.083.006.166-.006.076-.048.124.007.02.028.02.027-.006.055 0-.041.028-.069.07l-.055.082q-.028.041-.062.069-.035.034-.097.041-.213.083-.537.007-.324-.069-.82-.262-.248-.096-.406-.165-.152-.076-.27-.145-.11-.075-.206-.158l-.22-.2zm.985-2.363q-.076.11-.172.2-.09.09-.18.186-.082.09-.151.206-.069.11-.097.262.242-.027.503-.13.262-.111.496-.208-.027-.213-.151-.344-.117-.13-.248-.172zM27.01 2.067q.048-.145.151-.248.11-.103.234-.172.131-.076.27-.124.137-.048.26-.083.277-.117.587-.22.317-.11.64-.193.331-.083.676-.104.344-.027.723.083.02.069.062.13l.083.125q.048.062.082.124.035.055.042.117.069.062.11.138.041.069.014.186-.07.055-.138.103-.062.042-.138.076-.255-.062-.517-.041-.261.02-.468.034-.062-.062-.152-.062-.082 0-.179.028l-.186.055q-.09.027-.172.014-.069.055-.172.075-.097.014-.214.028-.007.034.014.048.02.007.007.042.041.048.103.068l.138.042q.076.02.13.055.056.027.077.096.103 0 .179.049.076.048.124.117t.069.151q.027.076.027.138.02.055.048.048.028-.007.062.028.021.09.104.186.083.09.13.2.015.172.021.31.007.13-.048.269-.103.254-.29.454-.178.2-.413.359-.227.151-.489.261-.262.11-.51.186-.027-.006-.055 0-.027.007-.014-.034-.055.048-.124.062-.062.014-.137.007-.076 0-.159-.007-.076-.007-.145.007-.048-.048-.09-.097-.034-.04-.054-.11-.035 0-.035-.034.007-.035-.02-.035.04-.069.034-.076 0-.013-.02-.02l-.028-.014q-.014-.014-.007-.034.027-.056.02-.124l-.013-.152q-.007-.076.007-.145.02-.069.103-.11.234.028.441-.014.214-.048.4-.13.186-.083.351-.18.172-.096.338-.172.02-.062.055-.103.041-.042.082-.076.042-.035.076-.076.035-.041.048-.103.007-.049-.027-.055-.028-.014-.028-.056l-.075-.02q-.131-.076-.297-.124-.165-.055-.282-.117-.076.04-.145.02-.062-.02-.165-.041-.235-.014-.455-.048-.214-.035-.413-.124-.014-.035-.035-.062-.02-.028-.076-.014-.041-.055-.082-.103-.042-.056-.076-.118.014-.082.02-.137.007-.062-.04-.118.027-.09.04-.144.014-.055 0-.145zM32.797 3.535q0-.076.021-.138.02-.062.007-.159.213-.454.482-.84.276-.393.655-.69.062-.047.096-.096.042-.055.076-.103.041-.048.09-.083.048-.041.124-.055.172-.2.413-.365.241-.165.503-.317t.524-.31q.268-.159.482-.345.076.049.117.035.048-.02.097-.007.062.13.158.186.103.048.207.103.11.049.2.124.096.07.144.193-.048 0-.048.035.007.034.02.076.014.04.014.075 0 .035-.062.035 0 .048.049.048.048 0 .048.048 0 .042-.02.07-.015.02 0 .075-.166.11-.373.214l-.427.206q-.22.11-.455.241-.227.124-.455.29-.227.165-.461.365-.228.2-.441.427-.214.22-.4.462-.186.234-.317.461.014.035.035.062.027.028.041.063.262.013.49 0 .227-.021.454.027.028-.02.034-.055.007-.035.042-.048.468-.049.875-.152.406-.11.827-.22-.124-.049-.22-.076-.042-.041 0-.069.047-.034.075-.069-.11-.062-.186-.165-.069-.104-.083-.269.049-.041.049-.096 0-.056-.049-.09-.034-.014-.041 0l-.014.027q0 .014-.014.028-.007.014-.034 0 .007-.076.034-.124.028-.048.042-.117l.572-.38q.09.07.22.146.131.075.276.151.144.076.296.159.152.075.282.151.125.055.214.138.09.076.172.165l.166.166q.082.082.2.138-.014.11.013.179.028.069.014.165-.13.234-.317.4-.186.158-.42.275-.228.117-.49.2-.261.076-.537.152-.275.069-.558.151-.276.076-.544.18-.117 0-.2.006-.083.007-.159.021l-.151.028q-.076.013-.165.02-.035-.007-.049.014-.007.02-.027.035-.138.02-.248.02h-.186q-.097 0-.2.028-.104.027-.193.02-.62-.027-.972-.44-.351-.414-.385-1.137.006-.035-.014-.042-.02-.014-.035-.027z\" />\n                <path d=\"M42.01 4.589q-.042.117-.125.241-.075.117-.186.214-.103.09-.234.151-.13.062-.275.07-.09-.022-.124-.05-.028-.02-.062-.04-.021-.014-.042-.021-.014-.014-.027-.02l-.083-.035.028-.09q.013-.055-.007-.083-.021-.034-.083-.09l-.041-.04q-.021-.021-.035-.042l-.117-.13.186-.049q.172-.048.227-.124.062-.076.049-.255-.138-.027-.235-.007-.09.02-.186.048-.124.035-.255.062-.124.021-.275.021h-.104l-.103-.014-.069-.013q-.014-.076-.027-.083l-.028-.028q-.034-.034-.076-.09-.034-.061-.013-.15-.035-.063-.042-.125-.041.083-.062.172l-.027.07-.07.013q-.013.007-.02.035-.007.02-.007.034l-.034.117-.028.028q-.014.007-.027.02-.014.062-.035.124-.02.062-.041.118-.035.09-.062.179-.02.082-.014.165l-.028.076q-.034.041-.075.069l-.083.041q-.014.014-.041.028l-.035.013-.02.076-.083.014-.11.02q-.028.008-.07.008l-.068-.007-.117-.097q-.042-.041-.097-.076-.062-.082-.069-.124l-.014-.075q-.013-.042-.013-.07-.007-.027-.021-.04l-.09-.083.076-.062.007-.117q.138-.352.29-.676l.323-.661q.056-.11.104-.22l.11-.221q-.007-.02-.007-.048t.014-.062q.076-.118.124-.207l.096-.193q.055-.117.11-.227.063-.11.152-.228l.11-.048.049-.014q.027-.014.062-.014l.103.014q.193-.09.338-.248.144-.165.296-.393l.069-.096.09.055q.034.02.096.041.062.014.13.035.125.027.235.062.11.034.18.103.04.11.047.166.007.055.021.11.02.117.035.234.02.117.027.262.035.117.055.234.028.11.048.228l.07.323q.034.152.089.29.055 0 .069.007.034-.014.069-.021l.09-.014.075-.007.028.07q.007.034.069.068.09.007.13.042.042.027.076.062.028.027.055.04l.104.042-.055.104q-.07.124-.2.24-.124.111-.283.187.007.041.007.082.007.035.02.076.022.117.035.241.014.124 0 .255zm-1.992-1.192q.207-.014.372-.028.173-.02.38-.062-.049-.206-.104-.427-.055-.227-.117-.448l-.042.07q-.137.144-.268.323-.124.18-.214.338l-.083.124q-.04.062-.075.124.041-.007.075-.007.042 0 .076-.007zM44.29 5.092q-.193.062-.42.124-.228.062-.455.062-.344 0-.544-.172-.035-.076-.062-.104l-.042-.055q-.013-.034-.02-.09-.083-.096-.131-.22-.048-.13-.07-.262-.013-.138-.006-.275.014-.138.048-.262.014-.028.014-.055l.014-.062q.027-.11.055-.214.034-.103.09-.179-.028-.062 0-.138.027-.076.061-.138.097-.261.159-.44.069-.187.138-.366.117-.31.22-.613.104-.303.186-.655.055-.034.083-.048.041-.014.069-.02.124.062.29.124.165.055.275.055.055.034.069.055l.027.027q.076.09.131.186.055.09.035.242-.042.062-.062.062-.035.137-.076.234-.035.096-.076.193-.048.103-.09.206-.04.104-.068.255-.028.035-.042.062-.007.028-.02.062-.014.035-.035.076-.014.035-.048.062-.02.18-.069.29-.041.11-.09.22-.082.2-.151.4-.062.2-.076.454.035-.013.062-.013h.062q.062 0 .145.02.207-.11.448-.13.248-.021.489-.028H45q.096 0 .179-.014.062.035.076.041h.055q.048 0 .083.007.082.076.158.11.076.035.159.063.075.027.144.062.076.027.145.082l.048.297q.048.062.041.082 0 .055-.027.083l.014.076q-.104.02-.145.048-.034.027-.069.062-.055.007-.083.007h-.04q-.097 0-.235.034-.186-.062-.386-.062-.076 0-.159.007l-.165.014q-.083.014-.172.02-.083.008-.172.008zM50.25 3.1q-.007.083.014.16.02.075.048.15.035.07.062.145.028.076.041.152.014.096 0 .214-.013.11-.048.22-.034.103-.09.193-.054.083-.13.124-.097.124-.235.193-.137.069-.254.165-.076.048-.173.07l-.186.04q-.076.042-.179.09l-.213.083q-.11.034-.221.055-.11.014-.193.007-.207.076-.406.096-.193.028-.455-.027-.248.034-.462-.021-.207-.055-.372-.172-.158-.124-.282-.29-.118-.172-.193-.358-.055-.393.027-.71.083-.323.235-.592.158-.276.358-.503.2-.234.386-.455.041.014.062 0 .027-.02.048-.048.02-.035.041-.062.028-.028.062-.035.048-.103.138-.151.097-.055.152-.152.062-.014.103-.041.041-.028.076-.062.041-.035.082-.062.042-.035.097-.048v-.076q.124-.055.18-.124l.144-.18q.062-.006.096-.006.042 0 .117-.014.056-.096.097-.145.048-.048.138-.103.082.041.179.055.103.014.179.09.007.069.041.11.035.034.076.069.041.027.076.062.041.034.055.096.028.007.034-.007.014-.013.042-.007.02.097.048.131.028.028.055.117-.034.07-.055.145-.014.07-.083.104-.007.048.028.055.034 0 .041.034.007.062-.02.09.165.268.296.572.13.296.296.565zm-.861.655q.027-.076.069-.124.048-.048.055-.145-.035-.055-.041-.082-.007-.035-.007-.104-.152-.213-.262-.454-.11-.248-.248-.462-.014.028-.048.055-.035.028-.076-.014-.014.055-.048.083-.035.02-.076.02-.042-.006-.09-.02-.041-.02-.076-.048-.2.158-.4.31-.2.151-.358.351-.027.014-.034.014-.007-.007-.041.007-.055.13-.138.241-.076.103-.152.214-.076.11-.13.234-.056.124-.063.29.118.096.276.116.158.021.324.007.172-.013.33-.041.166-.034.304-.034.29-.07.496-.18.207-.117.434-.234zM51.78 4.451q-.076.276-.138.42-.055.138-.172.29-.09-.014-.124.02-.035.035-.076.062-.062.014-.09 0-.027-.013-.048-.034-.02-.014-.055-.034-.028-.014-.09-.014-.013-.055-.034-.104-.014-.048-.09-.034.014-.055.007-.09-.007-.041-.02-.069l-.014-.062q-.007-.034.007-.082-.034 0-.055-.048-.02-.049-.048-.097.02-.124.04-.234.022-.11.05-.207.034-.096.054-.193.02-.096-.02-.2.027.021.04-.007.015-.034.022-.082.007-.055.007-.104 0-.055-.007-.09.068-.178.11-.364.048-.193.082-.38l.083-.364q.041-.18.11-.331.076-.014.166.02.096.028.117.076.179-.138.317-.33.138-.2.282-.386.145-.186.317-.331.18-.145.448-.172.138.103.303.213.173.104.283.276.055.027.09.062.04.028.096.062v.083q.083.075.13.179.056.096.097.213.042.11.083.228.041.11.097.213-.014.035-.014.062 0 .021.007.049.014.027.02.055.007.027 0 .076-.02.303-.2.489-.172.186-.42.31-.248.117-.53.2-.283.082-.51.179 0 .027.02.027.028 0 .021.035.166.103.262.165.097.062.18.103.089.042.185.076.104.028.283.07.179.04.275.068.104.02.186.041l.166.028.248.02q.062.063.103.152.048.083.062.172.014.083.007.166-.007.076-.048.124.007.02.028.02.027-.006.055 0-.042.028-.07.07l-.054.082q-.028.041-.062.069-.035.034-.097.041-.213.083-.537.007-.324-.069-.82-.262-.248-.096-.407-.165-.151-.076-.268-.145-.11-.075-.207-.158l-.22-.2zm.985-2.363q-.076.11-.172.2-.09.09-.18.186-.082.09-.15.206-.07.11-.097.262.24-.027.503-.13.261-.111.496-.208-.028-.213-.152-.344-.117-.13-.248-.172zM58.332 1.288q.007.049 0 .076 0 .02-.007.042v.048q0 .02.014.069-.145.234-.337.324-.186.082-.407.124-.22.034-.455.075-.227.042-.454.18-.09-.035-.166 0-.069.034-.207.02-.04.042-.103.062-.062.014-.124.035.028.062.02.13 0 .063.021.104.242.02.531-.007.296-.028.579-.034.007.034-.007.048-.014.007-.007.034.048.035.096.09l.097.096q.048.049.096.083.055.028.124.02.028.056.035.125.014.062-.014.13-.11.076-.22.159-.11.076-.235.138-.117.062-.255.103-.13.035-.296.028h-.055q-.014 0-.041-.02-.056.034-.159.02-.096-.014-.152.02-.075-.034-.186-.027-.103 0-.186-.028-.11.145-.2.31-.089.166-.158.352.234.034.386.027.158-.007.296-.02.138-.021.283-.035.144-.02.365-.014.138-.075.324-.096.193-.028.351-.083.055.021.097.076.041.048.075.097.042.04.083.075.041.035.104.028.027.027.034.069.014.034.02.069.008.034.021.062.021.02.062.013-.103.228-.24.352-.132.117-.304.179-.172.062-.386.096-.206.035-.461.083-.062.014-.104-.007-.041-.014-.096-.014-.159.035-.38.062-.22.028-.447.021-.227-.007-.434-.062-.207-.048-.338-.179-.055-.048-.076-.11-.013-.07-.09-.104-.006-.09-.027-.2l-.041-.227q-.02-.124-.035-.24-.007-.118.014-.215.02-.103.083-.186.069-.082.048-.179.035-.007.041-.034.007-.035.056-.028.04-.124.09-.234.047-.11.096-.214.055-.103.103-.206.055-.11.103-.241-.096-.09-.144-.193-.042-.11-.062-.214-.021-.11-.035-.22-.014-.118-.048-.235.069-.103.165-.165.104-.069.22-.11.118-.042.256-.07.138-.027.29-.061.275-.09.488-.138.22-.048.427-.076.214-.034.441-.062.228-.027.517-.083.062.062.117.062.028-.062.062-.034.042.02.035-.041.069.117.172.2.11.075.241.13zM58.394 3.659q-.103-.007-.165-.049-.062-.048-.062-.124 0-.068.062-.124.041-.103.083-.165l.096-.138q.07-.096.138-.193.069-.096.152-.193.04-.034.068-.048.076-.055.152-.103.076-.055.172-.09.173-.062.338-.062.165-.007.282 0 .097.007.18.02.09.008.151.022.104.048.166.09.068.04.13.096.076.04.118.09.048.04.082.089.021.027.083.09.062.061.152.061.082 0 .137-.075.062-.076.124-.131.056-.145.18-.22.055-.028.09-.035l.075-.014q.02-.007.041-.007.021-.007.035-.014l.076-.007h.09q.116-.034.206-.034.103.007.165.055.062.041.062.117 0 .076-.062.124-.041.11-.09.172-.04.062-.089.131l-.138.193q-.069.097-.158.193-.028.035-.07.048-.068.056-.144.11-.076.049-.172.083-.18.062-.345.07-.158 0-.275-.008l-.186-.013q-.083-.014-.152-.028-.096-.048-.165-.09-.07-.04-.131-.09-.076-.047-.117-.089-.042-.048-.076-.096-.02-.028-.09-.09-.069-.069-.144-.062-.076.007-.145.083-.062.069-.124.124-.041.138-.172.22-.055.028-.097.035l-.069.014-.041.013q-.02 0-.035.007l-.075.007h-.09q-.117.035-.207.035z\" />\n            </g>\n        </svg>\n    );\n};\n\nexport default Logo;\n","import * as React from 'react';\nimport { forwardRef } from 'react';\nimport { AppBar, UserMenu, MenuItemLink, useTranslate } from 'react-admin';\nimport Typography from '@material-ui/core/Typography';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Logo from './Logo';\n\nconst useStyles = makeStyles({\n    title: {\n        flex: 1,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n    },\n    spacer: {\n        flex: 1,\n    },\n});\n\nconst ConfigurationMenu = forwardRef<any, any>((props, ref) => {\n    const translate = useTranslate();\n    return (\n        <MenuItemLink\n            ref={ref}\n            to=\"/configuration\"\n            primaryText={translate('pos.configuration')}\n            leftIcon={<SettingsIcon />}\n            onClick={props.onClick}\n            sidebarIsOpen\n        />\n    );\n});\n\nconst CustomUserMenu = (props: any) => (\n    <UserMenu {...props}>\n        <ConfigurationMenu />\n    </UserMenu>\n);\n\nconst CustomAppBar = (props: any) => {\n    const classes = useStyles();\n    return (\n        <AppBar {...props} elevation={1} userMenu={<CustomUserMenu />}>\n            <Typography\n                variant=\"h6\"\n                color=\"inherit\"\n                className={classes.title}\n                id=\"react-admin-title\"\n            />\n            <Logo />\n            <span className={classes.spacer} />\n        </AppBar>\n    );\n};\n\nexport default CustomAppBar;\n","import lodashMemoize from 'lodash/memoize';\n/* eslint-disable no-underscore-dangle */\n/* @link http://stackoverflow.com/questions/46155/validate-email-address-in-javascript */\nvar EMAIL_REGEX = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; // eslint-disable-line no-useless-escape\nvar isEmpty = function (value) {\n    return typeof value === 'undefined' ||\n        value === null ||\n        value === '' ||\n        (Array.isArray(value) && value.length === 0);\n};\n// type predicate, see https://www.typescriptlang.org/docs/handbook/2/narrowing.html#using-type-predicates\nfunction isValidationErrorMessageWithArgs(error) {\n    return error.hasOwnProperty('message');\n}\nvar getMessage = function (message, messageArgs, value, values) {\n    return typeof message === 'function'\n        ? message({\n            args: messageArgs,\n            value: value,\n            values: values,\n        })\n        : messageArgs\n            ? {\n                message: message,\n                args: messageArgs,\n            }\n            : message;\n};\n// If we define validation functions directly in JSX, it will\n// result in a new function at every render, and then trigger infinite re-render.\n// Hence, we memoize every built-in validator to prevent a \"Maximum call stack\" error.\nvar memoize = function (fn) {\n    return lodashMemoize(fn, function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return JSON.stringify(args);\n    });\n};\nvar isFunction = function (value) { return typeof value === 'function'; };\nexport var combine2Validators = function (validator1, validator2) {\n    return function (value, values, meta) {\n        var result1 = validator1(value, values, meta);\n        if (!result1) {\n            return validator2(value, values, meta);\n        }\n        if (typeof result1 === 'string' ||\n            isValidationErrorMessageWithArgs(result1)) {\n            return result1;\n        }\n        return result1.then(function (resolvedResult1) {\n            if (!resolvedResult1) {\n                return validator2(value, values, meta);\n            }\n            return resolvedResult1;\n        });\n    };\n};\n// Compose multiple validators into a single one for use with final-form\nexport var composeValidators = function () {\n    var validators = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        validators[_i] = arguments[_i];\n    }\n    var allValidators = (Array.isArray(validators[0])\n        ? validators[0]\n        : validators).filter(isFunction);\n    return allValidators.reduce(combine2Validators, function () { return null; });\n};\n// Compose multiple validators into a single one for use with final-form\nexport var composeSyncValidators = function () {\n    var validators = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        validators[_i] = arguments[_i];\n    }\n    return function (value, values, meta) {\n        var allValidators = (Array.isArray(validators[0])\n            ? validators[0]\n            : validators).filter(isFunction);\n        for (var _i = 0, allValidators_1 = allValidators; _i < allValidators_1.length; _i++) {\n            var validator = allValidators_1[_i];\n            var error = validator(value, values, meta);\n            if (error) {\n                return error;\n            }\n        }\n    };\n};\n/**\n * Required validator\n *\n * Returns an error if the value is null, undefined, or empty\n *\n * @param {string|Function} message\n *\n * @example\n *\n * const titleValidators = [required('The title is required')];\n * <TextInput name=\"title\" validate={titleValidators} />\n */\nexport var required = memoize(function (message) {\n    if (message === void 0) { message = 'ra.validation.required'; }\n    return Object.assign(function (value, values) {\n        return isEmpty(value)\n            ? getMessage(message, undefined, value, values)\n            : undefined;\n    }, { isRequired: true });\n});\n/**\n * Minimum length validator\n *\n * Returns an error if the value has a length less than the parameter\n *\n * @param {integer} min\n * @param {string|Function} message\n *\n * @example\n *\n * const passwordValidators = [minLength(10, 'Should be at least 10 characters')];\n * <TextInput type=\"password\" name=\"password\" validate={passwordValidators} />\n */\nexport var minLength = memoize(function (min, message) {\n    if (message === void 0) { message = 'ra.validation.minLength'; }\n    return function (value, values) {\n        return !isEmpty(value) && value.length < min\n            ? getMessage(message, { min: min }, value, values)\n            : undefined;\n    };\n});\n/**\n * Maximum length validator\n *\n * Returns an error if the value has a length higher than the parameter\n *\n * @param {integer} max\n * @param {string|Function} message\n *\n * @example\n *\n * const nameValidators = [maxLength(10, 'Should be at most 10 characters')];\n * <TextInput name=\"name\" validate={nameValidators} />\n */\nexport var maxLength = memoize(function (max, message) {\n    if (message === void 0) { message = 'ra.validation.maxLength'; }\n    return function (value, values) {\n        return !isEmpty(value) && value.length > max\n            ? getMessage(message, { max: max }, value, values)\n            : undefined;\n    };\n});\n/**\n * Minimum validator\n *\n * Returns an error if the value is less than the parameter\n *\n * @param {integer} min\n * @param {string|Function} message\n *\n * @example\n *\n * const fooValidators = [minValue(5, 'Should be more than 5')];\n * <NumberInput name=\"foo\" validate={fooValidators} />\n */\nexport var minValue = memoize(function (min, message) {\n    if (message === void 0) { message = 'ra.validation.minValue'; }\n    return function (value, values) {\n        return !isEmpty(value) && value < min\n            ? getMessage(message, { min: min }, value, values)\n            : undefined;\n    };\n});\n/**\n * Maximum validator\n *\n * Returns an error if the value is higher than the parameter\n *\n * @param {integer} max\n * @param {string|Function} message\n *\n * @example\n *\n * const fooValidators = [maxValue(10, 'Should be less than 10')];\n * <NumberInput name=\"foo\" validate={fooValidators} />\n */\nexport var maxValue = memoize(function (max, message) {\n    if (message === void 0) { message = 'ra.validation.maxValue'; }\n    return function (value, values) {\n        return !isEmpty(value) && value > max\n            ? getMessage(message, { max: max }, value, values)\n            : undefined;\n    };\n});\n/**\n * Number validator\n *\n * Returns an error if the value is not a number\n *\n * @param {string|Function} message\n *\n * @example\n *\n * const ageValidators = [number('Must be a number')];\n * <TextInput name=\"age\" validate={ageValidators} />\n */\nexport var number = memoize(function (message) {\n    if (message === void 0) { message = 'ra.validation.number'; }\n    return function (value, values) {\n        return !isEmpty(value) && isNaN(Number(value))\n            ? getMessage(message, undefined, value, values)\n            : undefined;\n    };\n});\n/**\n * Regular expression validator\n *\n * Returns an error if the value does not match the pattern given as parameter\n *\n * @param {RegExp} pattern\n * @param {string|Function} message\n *\n * @example\n *\n * const zipValidators = [regex(/^\\d{5}(?:[-\\s]\\d{4})?$/, 'Must be a zip code')];\n * <TextInput name=\"zip\" validate={zipValidators} />\n */\nexport var regex = lodashMemoize(function (pattern, message) {\n    if (message === void 0) { message = 'ra.validation.regex'; }\n    return function (value, values) {\n        return !isEmpty(value) && typeof value === 'string' && !pattern.test(value)\n            ? getMessage(message, { pattern: pattern }, value, values)\n            : undefined;\n    };\n}, function (pattern, message) {\n    return pattern.toString() + message;\n});\n/**\n * Email validator\n *\n * Returns an error if the value is not a valid email\n *\n * @param {string|Function} message\n *\n * @example\n *\n * const emailValidators = [email('Must be an email')];\n * <TextInput name=\"email\" validate={emailValidators} />\n */\nexport var email = memoize(function (message) {\n    if (message === void 0) { message = 'ra.validation.email'; }\n    return regex(EMAIL_REGEX, message);\n});\nvar oneOfTypeMessage = function (_a) {\n    var args = _a.args;\n    return ({\n        message: 'ra.validation.oneOf',\n        args: args,\n    });\n};\n/**\n * Choices validator\n *\n * Returns an error if the value is not among the list passed as parameter\n *\n * @param {array} list\n * @param {string|Function} message\n *\n * @example\n *\n * const genderValidators = [choices(['male', 'female'], 'Must be either Male or Female')];\n * <TextInput name=\"gender\" validate={genderValidators} />\n */\nexport var choices = memoize(function (list, message) {\n    if (message === void 0) { message = oneOfTypeMessage; }\n    return function (value, values) {\n        return !isEmpty(value) && list.indexOf(value) === -1\n            ? getMessage(message, { list: list }, value, values)\n            : undefined;\n    };\n});\n","var isRequired = function (validate) {\n    if (validate && validate.isRequired) {\n        return true;\n    }\n    if (Array.isArray(validate)) {\n        return validate.some(function (it) { return it.isRequired; });\n    }\n    return false;\n};\nexport default isRequired;\n","import { createContext } from 'react';\n/**\n * Context allowing inputs to register to a specific group.\n * This enables other components in the group to access group properties such as its\n * validation (valid/invalid) or whether its inputs have been updated (dirty/pristine).\n *\n * This should only be used through a FormGroupContextProvider.\n */\nexport var FormGroupContext = createContext(undefined);\n","import { createContext } from 'react';\nexport var FormContext = createContext(undefined);\n","import { useContext } from 'react';\nimport { FormContext } from './FormContext';\n/**\n * Retrieve the form context enabling consumers to alter its save function or to register inputs inside a form group.\n * @returns {FormContext} The form context.\n */\nexport var useFormContext = function () { return useContext(FormContext); };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useCallback, useEffect } from 'react';\nimport { useField as useFinalFormField, } from 'react-final-form';\nimport { composeValidators } from './validate';\nimport isRequired from './isRequired';\nimport { useFormGroupContext } from './useFormGroupContext';\nimport { useFormContext } from './useFormContext';\nvar useInput = function (_a) {\n    var defaultValue = _a.defaultValue, initialValue = _a.initialValue, id = _a.id, name = _a.name, source = _a.source, validate = _a.validate, customOnBlur = _a.onBlur, customOnChange = _a.onChange, customOnFocus = _a.onFocus, isRequiredOption = _a.isRequired, options = __rest(_a, [\"defaultValue\", \"initialValue\", \"id\", \"name\", \"source\", \"validate\", \"onBlur\", \"onChange\", \"onFocus\", \"isRequired\"]);\n    var finalName = name || source;\n    var formGroupName = useFormGroupContext();\n    var formContext = useFormContext();\n    useEffect(function () {\n        if (!formContext || !formGroupName) {\n            return;\n        }\n        formContext.registerField(source, formGroupName);\n        return function () {\n            formContext.unregisterField(source, formGroupName);\n        };\n    }, [formContext, formGroupName, source]);\n    var sanitizedValidate = Array.isArray(validate)\n        ? composeValidators(validate)\n        : validate;\n    var _b = useFinalFormField(finalName, __assign({ initialValue: initialValue, defaultValue: defaultValue, validate: sanitizedValidate }, options)), input = _b.input, meta = _b.meta;\n    // Extract the event handlers so that we can provide ours\n    // allowing users to provide theirs without breaking the form\n    var onBlur = input.onBlur, onChange = input.onChange, onFocus = input.onFocus, inputProps = __rest(input, [\"onBlur\", \"onChange\", \"onFocus\"]);\n    var handleBlur = useCallback(function (event) {\n        onBlur(event);\n        if (typeof customOnBlur === 'function') {\n            customOnBlur(event);\n        }\n    }, [onBlur, customOnBlur]);\n    var handleChange = useCallback(function (event) {\n        onChange(event);\n        if (typeof customOnChange === 'function') {\n            customOnChange(event);\n        }\n    }, [onChange, customOnChange]);\n    var handleFocus = useCallback(function (event) {\n        onFocus(event);\n        if (typeof customOnFocus === 'function') {\n            customOnFocus(event);\n        }\n    }, [onFocus, customOnFocus]);\n    // If there is an input prop, this input has already been enhanced by final-form\n    // This is required in for inputs used inside other inputs (such as the SelectInput inside a ReferenceInput)\n    if (options.input) {\n        return {\n            id: id || source,\n            input: options.input,\n            meta: options.meta,\n            isRequired: isRequiredOption || isRequired(validate),\n        };\n    }\n    return {\n        id: id || source,\n        input: __assign(__assign({}, inputProps), { onBlur: handleBlur, onChange: handleChange, onFocus: handleFocus }),\n        meta: meta,\n        isRequired: isRequiredOption || isRequired(validate),\n    };\n};\nexport default useInput;\n","import { useContext } from 'react';\nimport { FormGroupContext } from './FormGroupContext';\n/**\n * Retrieve the name of the form group the consumer belongs to. May be undefined if the consumer is not inside a form group.\n */\nexport var useFormGroupContext = function () {\n    var context = useContext(FormGroupContext);\n    return context;\n};\n","import inflection from 'inflection';\n/**\n * Returns an array of arguments to use with the translate function for the label of a field.\n * The label will be the one specified by the label prop or one computed from the resource and source props.\n *\n * Usage:\n *  <span>\n *      {translate(...getFieldLabelTranslationArgs({ label, resource, source }))}\n *  </span>\n */\nexport default (function (options) {\n    if (!options) {\n        return [''];\n    }\n    var label = options.label, resource = options.resource, source = options.source;\n    return typeof label !== 'undefined'\n        ? [label, { _: label }]\n        : typeof source !== 'undefined'\n            ? [\n                \"resources.\" + resource + \".fields.\" + source,\n                {\n                    _: inflection.transform(source, ['underscore', 'humanize']),\n                },\n            ]\n            : [''];\n});\n","import * as React from 'react';\nimport { memo } from 'react';\nimport useTranslate from '../i18n/useTranslate';\nimport getFieldLabelTranslationArgs from './getFieldLabelTranslationArgs';\nexport var FieldTitle = function (props) {\n    var resource = props.resource, source = props.source, label = props.label, isRequired = props.isRequired;\n    var translate = useTranslate();\n    if (label === false || label === '') {\n        return null;\n    }\n    if (label && typeof label !== 'string') {\n        return label;\n    }\n    return (React.createElement(\"span\", null,\n        translate.apply(void 0, getFieldLabelTranslationArgs({\n            label: label,\n            resource: resource,\n            source: source,\n        })),\n        isRequired && ' *'));\n};\n// What? TypeScript loses the displayName if we don't set it explicitly\nFieldTitle.displayName = 'FieldTitle';\nexport default memo(FieldTitle);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { InputAdornment, IconButton, TextField as MuiTextField, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport { useTranslate } from 'ra-core';\n/**\n * An override of the default Material-UI TextField which is resettable\n */\nvar ResettableTextField = function (props) {\n    var classesOverride = props.classes, clearAlwaysVisible = props.clearAlwaysVisible, InputProps = props.InputProps, value = props.value, resettable = props.resettable, disabled = props.disabled, _a = props.variant, variant = _a === void 0 ? 'filled' : _a, _b = props.margin, margin = _b === void 0 ? 'dense' : _b, rest = __rest(props, [\"classes\", \"clearAlwaysVisible\", \"InputProps\", \"value\", \"resettable\", \"disabled\", \"variant\", \"margin\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var onChange = props.onChange, onFocus = props.onFocus, onBlur = props.onBlur;\n    var handleClickClearButton = useCallback(function (event) {\n        event.preventDefault();\n        onChange('');\n    }, [onChange]);\n    var handleFocus = useCallback(function (event) {\n        onFocus && onFocus(event);\n    }, [onFocus]);\n    var handleBlur = useCallback(function (event) {\n        onBlur && onBlur(event);\n    }, [onBlur]);\n    var clearButton = classes.clearButton, clearIcon = classes.clearIcon, inputAdornedEnd = classes.inputAdornedEnd, selectAdornment = classes.selectAdornment, visibleClearIcon = classes.visibleClearIcon, restClasses = __rest(classes, [\"clearButton\", \"clearIcon\", \"inputAdornedEnd\", \"selectAdornment\", \"visibleClearIcon\"]);\n    var _c = InputProps || {}, endAdornment = _c.endAdornment, InputPropsWithoutEndAdornment = __rest(_c, [\"endAdornment\"]);\n    if (clearAlwaysVisible && endAdornment) {\n        throw new Error('ResettableTextField cannot display both an endAdornment and a clear button always visible');\n    }\n    var getEndAdornment = function () {\n        var _a;\n        if (!resettable) {\n            return endAdornment;\n        }\n        else if (!value) {\n            if (clearAlwaysVisible) {\n                // show clear button, inactive\n                return (React.createElement(InputAdornment, { position: \"end\", classes: {\n                        root: props.select ? selectAdornment : null,\n                    } },\n                    React.createElement(IconButton, { className: clearButton, \"aria-label\": translate('ra.action.clear_input_value'), title: translate('ra.action.clear_input_value'), disableRipple: true, disabled: true },\n                        React.createElement(ClearIcon, { className: classNames(clearIcon, visibleClearIcon) }))));\n            }\n            else {\n                if (endAdornment) {\n                    return endAdornment;\n                }\n                else {\n                    // show spacer\n                    return (React.createElement(InputAdornment, { position: \"end\", classes: {\n                            root: props.select ? selectAdornment : null,\n                        } },\n                        React.createElement(\"span\", { className: clearButton }, \"\\u00A0\")));\n                }\n            }\n        }\n        else {\n            // show clear\n            return (React.createElement(InputAdornment, { position: \"end\", classes: {\n                    root: props.select ? selectAdornment : null,\n                } },\n                React.createElement(IconButton, { className: clearButton, \"aria-label\": translate('ra.action.clear_input_value'), title: translate('ra.action.clear_input_value'), disableRipple: true, onClick: handleClickClearButton, onMouseDown: handleMouseDownClearButton, disabled: disabled },\n                    React.createElement(ClearIcon, { className: classNames(clearIcon, (_a = {},\n                            _a[visibleClearIcon] = clearAlwaysVisible || value,\n                            _a)) }))));\n        }\n    };\n    return (React.createElement(MuiTextField, __assign({ classes: restClasses, value: value, InputProps: __assign({ classes: props.select && variant === 'filled'\n                ? { adornedEnd: inputAdornedEnd }\n                : {}, endAdornment: getEndAdornment() }, InputPropsWithoutEndAdornment), disabled: disabled, variant: variant, margin: margin }, rest, { onFocus: handleFocus, onBlur: handleBlur })));\n};\nexport var resettableStyles = {\n    clearIcon: {\n        height: 16,\n        width: 0,\n    },\n    visibleClearIcon: {\n        width: 16,\n    },\n    clearButton: {\n        height: 24,\n        width: 24,\n        padding: 0,\n    },\n    selectAdornment: {\n        position: 'absolute',\n        right: 24,\n    },\n    inputAdornedEnd: {\n        paddingRight: 0,\n    },\n};\nvar useStyles = makeStyles(resettableStyles, {\n    name: 'RaResettableTextField',\n});\nvar handleMouseDownClearButton = function (event) {\n    event.preventDefault();\n};\nResettableTextField.propTypes = {\n    classes: PropTypes.object,\n    clearAlwaysVisible: PropTypes.bool,\n    disabled: PropTypes.bool,\n    InputProps: PropTypes.object,\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func.isRequired,\n    onFocus: PropTypes.func,\n    resettable: PropTypes.bool,\n    value: PropTypes.any.isRequired,\n};\nexport default ResettableTextField;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useTranslate } from '../i18n';\nvar ValidationError = function (props) {\n    var error = props.error;\n    var translate = useTranslate();\n    if (error.message) {\n        var _a = error, message = _a.message, args = _a.args;\n        return React.createElement(React.Fragment, null, translate(message, __assign({ _: message }, args)));\n    }\n    return React.createElement(React.Fragment, null, translate(error, { _: error }));\n};\nexport default ValidationError;\n","import * as React from 'react';\nimport { useTranslate, ValidationError } from 'ra-core';\nvar InputHelperText = function (props) {\n    var helperText = props.helperText, touched = props.touched, error = props.error;\n    var translate = useTranslate();\n    return touched && error ? (React.createElement(ValidationError, { error: error })) : typeof helperText === 'string' ? (React.createElement(React.Fragment, null, translate(helperText, { _: helperText }))) : helperText !== false ? (\n    // material-ui's HelperText cannot reserve space unless we pass a single\n    // space as child, which isn't possible when the child is a component.\n    // Therefore, we must reserve the space ourselves by passing the same\n    // markup as material-ui.\n    // @see https://github.com/mui-org/material-ui/blob/62e439b7022d519ab638d65201e204b59b77f8da/packages/material-ui/src/FormHelperText/FormHelperText.js#L85-L90\n    // eslint-disable-next-line react/no-danger\n    React.createElement(\"span\", { dangerouslySetInnerHTML: defaultInnerHTML })) : null;\n};\nvar defaultInnerHTML = { __html: '&#8203;' };\nexport default InputHelperText;\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar sanitizeInputRestProps = function (_a) {\n    var afterSubmit = _a.afterSubmit, allowEmpty = _a.allowEmpty, allowNull = _a.allowNull, alwaysOn = _a.alwaysOn, basePath = _a.basePath, beforeSubmit = _a.beforeSubmit, component = _a.component, data = _a.data, defaultValue = _a.defaultValue, error = _a.error, format = _a.format, formatOnBlur = _a.formatOnBlur, formClassName = _a.formClassName, initialValue = _a.initialValue, initializeForm = _a.initializeForm, input = _a.input, isEqual = _a.isEqual, isRequired = _a.isRequired, label = _a.label, limitChoicesToValue = _a.limitChoicesToValue, locale = _a.locale, meta = _a.meta, multiple = _a.multiple, name = _a.name, options = _a.options, optionText = _a.optionText, optionValue = _a.optionValue, parse = _a.parse, record = _a.record, ref = _a.ref, render = _a.render, resource = _a.resource, source = _a.source, submitError = _a.submitError, subscription = _a.subscription, textAlign = _a.textAlign, translate = _a.translate, translateChoice = _a.translateChoice, type = _a.type, validate = _a.validate, validateFields = _a.validateFields, value = _a.value, rest = __rest(_a, [\"afterSubmit\", \"allowEmpty\", \"allowNull\", \"alwaysOn\", \"basePath\", \"beforeSubmit\", \"component\", \"data\", \"defaultValue\", \"error\", \"format\", \"formatOnBlur\", \"formClassName\", \"initialValue\", \"initializeForm\", \"input\", \"isEqual\", \"isRequired\", \"label\", \"limitChoicesToValue\", \"locale\", \"meta\", \"multiple\", \"name\", \"options\", \"optionText\", \"optionValue\", \"parse\", \"record\", \"ref\", \"render\", \"resource\", \"source\", \"submitError\", \"subscription\", \"textAlign\", \"translate\", \"translateChoice\", \"type\", \"validate\", \"validateFields\", \"value\"]);\n    return rest;\n};\nexport default sanitizeInputRestProps;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { useInput, FieldTitle } from 'ra-core';\nimport ResettableTextField from './ResettableTextField';\nimport InputHelperText from './InputHelperText';\nimport sanitizeInputRestProps from './sanitizeInputRestProps';\n/**\n * An Input component for a string\n *\n * @example\n * <TextInput source=\"first_name\" />\n *\n * You can customize the `type` props (which defaults to \"text\").\n * Note that, due to a React bug, you should use `<NumberField>` instead of using type=\"number\".\n * @example\n * <TextInput source=\"email\" type=\"email\" />\n * <NumberInput source=\"nb_views\" />\n *\n * The object passed as `options` props is passed to the <ResettableTextField> component\n */\nvar TextInput = function (props) {\n    var label = props.label, format = props.format, helperText = props.helperText, onBlur = props.onBlur, onFocus = props.onFocus, onChange = props.onChange, options = props.options, parse = props.parse, resource = props.resource, source = props.source, validate = props.validate, rest = __rest(props, [\"label\", \"format\", \"helperText\", \"onBlur\", \"onFocus\", \"onChange\", \"options\", \"parse\", \"resource\", \"source\", \"validate\"]);\n    var _a = useInput(__assign({ format: format, onBlur: onBlur, onChange: onChange, onFocus: onFocus, parse: parse, resource: resource, source: source, type: 'text', validate: validate }, rest)), id = _a.id, input = _a.input, isRequired = _a.isRequired, _b = _a.meta, error = _b.error, submitError = _b.submitError, touched = _b.touched;\n    return (React.createElement(ResettableTextField, __assign({ id: id }, input, { label: label !== '' &&\n            label !== false && (React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired })), error: !!(touched && (error || submitError)), helperText: React.createElement(InputHelperText, { touched: touched, error: error || submitError, helperText: helperText }) }, options, sanitizeInputRestProps(rest))));\n};\nTextInput.propTypes = {\n    className: PropTypes.string,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    options: PropTypes.object,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n};\nTextInput.defaultProps = {\n    options: {},\n};\nexport default TextInput;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'ra-core';\nimport TextInput from './TextInput';\nvar useStyles = makeStyles({\n    input: {\n        marginTop: 32,\n    },\n}, { name: 'RaSearchInput' });\nvar SearchInput = function (props) {\n    var classesOverride = props.classes, rest = __rest(props, [\"classes\"]);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    if (props.label) {\n        throw new Error(\"<SearchInput> isn't designed to be used with a label prop. Use <TextInput> if you need a label.\");\n    }\n    return (React.createElement(TextInput, __assign({ hiddenLabel: true, label: \"\", resettable: true, placeholder: translate('ra.action.search'), InputProps: {\n            endAdornment: (React.createElement(InputAdornment, { position: \"end\" },\n                React.createElement(SearchIcon, { color: \"disabled\" }))),\n        }, className: classes.input }, rest)));\n};\nSearchInput.propTypes = {\n    classes: PropTypes.object,\n};\nexport default SearchInput;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport { useInput, FieldTitle } from 'ra-core';\nimport sanitizeInputRestProps from './sanitizeInputRestProps';\nimport InputHelperText from './InputHelperText';\n/**\n * Convert Date object to String\n *\n * @param {Date} value value to convert\n * @returns {String} A standardized date (yyyy-MM-dd), to be passed to an <input type=\"date\" />\n */\nvar convertDateToString = function (value) {\n    if (!(value instanceof Date) || isNaN(value.getDate()))\n        return '';\n    var pad = '00';\n    var yyyy = value.getFullYear().toString();\n    var MM = (value.getMonth() + 1).toString();\n    var dd = value.getDate().toString();\n    return yyyy + \"-\" + (pad + MM).slice(-2) + \"-\" + (pad + dd).slice(-2);\n};\nvar dateRegex = /^\\d{4}-\\d{2}-\\d{2}$/;\nvar defaultInputLabelProps = { shrink: true };\nvar getStringFromDate = function (value) {\n    // null, undefined and empty string values should not go through dateFormatter\n    // otherwise, it returns undefined and will make the input an uncontrolled one.\n    if (value == null || value === '') {\n        return '';\n    }\n    if (value instanceof Date) {\n        return convertDateToString(value);\n    }\n    // valid dates should not be converted\n    if (dateRegex.test(value)) {\n        return value;\n    }\n    return convertDateToString(new Date(value));\n};\n/**\n * Form input to edit a Date string value in the \"YYYY-MM-DD\" format (e.g. '2021-06-23').\n *\n * Renders a date picker (the exact UI depends on the browser).\n *\n * @example\n * import { Edit, SimpleForm, DateInput } from 'react-admin';\n *\n * const PostEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <DateInput source=\"published_at\" />\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * @example\n * // If the initial value is a Date object, DateInput converts it to a string\n * // but you must pass a custom parse method to convert the form value\n * // (which is always a date string) back to a Date object.\n * <DateInput source=\"published_at\" parse={val => new Date(val)} />\n */\nvar DateInput = function (_a) {\n    var defaultValue = _a.defaultValue, _b = _a.format, format = _b === void 0 ? getStringFromDate : _b, initialValue = _a.initialValue, label = _a.label, name = _a.name, options = _a.options, source = _a.source, resource = _a.resource, helperText = _a.helperText, _c = _a.margin, margin = _c === void 0 ? 'dense' : _c, onBlur = _a.onBlur, onChange = _a.onChange, onFocus = _a.onFocus, parse = _a.parse, validate = _a.validate, _d = _a.variant, variant = _d === void 0 ? 'filled' : _d, rest = __rest(_a, [\"defaultValue\", \"format\", \"initialValue\", \"label\", \"name\", \"options\", \"source\", \"resource\", \"helperText\", \"margin\", \"onBlur\", \"onChange\", \"onFocus\", \"parse\", \"validate\", \"variant\"]);\n    var _e = useInput(__assign({ defaultValue: defaultValue, format: format, initialValue: initialValue, name: name, onBlur: onBlur, onChange: onChange, onFocus: onFocus, parse: parse, resource: resource, source: source, validate: validate }, rest)), id = _e.id, input = _e.input, isRequired = _e.isRequired, meta = _e.meta;\n    var error = meta.error, submitError = meta.submitError, touched = meta.touched;\n    return (React.createElement(TextField, __assign({ id: id }, input, { \n        // Workaround https://github.com/final-form/react-final-form/issues/529\n        // & https://github.com/final-form/react-final-form/issues/431\n        value: format(input.value) || '', variant: variant, margin: margin, type: \"date\", error: !!(touched && (error || submitError)), helperText: React.createElement(InputHelperText, { touched: touched, error: error || submitError, helperText: helperText }), label: React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired }), InputLabelProps: defaultInputLabelProps }, options, sanitizeInputRestProps(rest))));\n};\nDateInput.propTypes = {\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    options: PropTypes.object,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n};\nDateInput.defaultProps = {\n    options: {},\n};\nexport default DateInput;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { useInput, useTranslate, FieldTitle } from 'ra-core';\nimport sanitizeInputRestProps from './sanitizeInputRestProps';\nimport InputHelperText from './InputHelperText';\nvar useStyles = makeStyles(function (theme) { return ({\n    input: { width: theme.spacing(16) },\n}); }, { name: 'RaNullableBooleanInput' });\nvar getBooleanFromString = function (value) {\n    if (value === 'true')\n        return true;\n    if (value === 'false')\n        return false;\n    return null;\n};\nvar getStringFromBoolean = function (value) {\n    if (value === true)\n        return 'true';\n    if (value === false)\n        return 'false';\n    return '';\n};\nvar NullableBooleanInput = function (props) {\n    var className = props.className, classesOverride = props.classes, _a = props.format, format = _a === void 0 ? getStringFromBoolean : _a, helperText = props.helperText, label = props.label, _b = props.margin, margin = _b === void 0 ? 'dense' : _b, onBlur = props.onBlur, onChange = props.onChange, onFocus = props.onFocus, options = props.options, _c = props.parse, parse = _c === void 0 ? getBooleanFromString : _c, resource = props.resource, source = props.source, validate = props.validate, _d = props.variant, variant = _d === void 0 ? 'filled' : _d, _e = props.nullLabel, nullLabel = _e === void 0 ? 'ra.boolean.null' : _e, _f = props.falseLabel, falseLabel = _f === void 0 ? 'ra.boolean.false' : _f, _g = props.trueLabel, trueLabel = _g === void 0 ? 'ra.boolean.true' : _g, rest = __rest(props, [\"className\", \"classes\", \"format\", \"helperText\", \"label\", \"margin\", \"onBlur\", \"onChange\", \"onFocus\", \"options\", \"parse\", \"resource\", \"source\", \"validate\", \"variant\", \"nullLabel\", \"falseLabel\", \"trueLabel\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var _h = useInput(__assign({ format: format, onBlur: onBlur, onChange: onChange, onFocus: onFocus, parse: parse, resource: resource, source: source, validate: validate }, rest)), id = _h.id, input = _h.input, isRequired = _h.isRequired, _j = _h.meta, error = _j.error, submitError = _j.submitError, touched = _j.touched;\n    return (React.createElement(TextField, __assign({ id: id }, input, { select: true, margin: margin, label: React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired }), error: !!(touched && (error || submitError)), helperText: React.createElement(InputHelperText, { touched: touched, error: error || submitError, helperText: helperText }), className: classnames(classes.input, className), variant: variant }, options, sanitizeInputRestProps(rest)),\n        React.createElement(MenuItem, { value: \"\" }, translate(nullLabel)),\n        React.createElement(MenuItem, { value: \"false\" }, translate(falseLabel)),\n        React.createElement(MenuItem, { value: \"true\" }, translate(trueLabel))));\n};\nNullableBooleanInput.propTypes = {\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    options: PropTypes.object,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n    nullLabel: PropTypes.string,\n    falseLabel: PropTypes.string,\n    trueLabel: PropTypes.string,\n};\nexport default NullableBooleanInput;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nvar checkMinimumRequiredProps = function (displayName, requiredProps) { return function (WrappedComponent) { return function (props) {\n    useCheckMinimumRequiredProps(displayName, requiredProps, props);\n    return React.createElement(WrappedComponent, __assign({}, props));\n}; }; };\nexport default checkMinimumRequiredProps;\n// Not a hook but named that way to avoid conflicts with the old one\nexport var useCheckMinimumRequiredProps = function (displayName, requiredProps, props) {\n    var propNames = Object.keys(props);\n    var missingProps = requiredProps.filter(function (prop) { return !propNames.includes(prop); });\n    if (missingProps.length > 0) {\n        throw new Error(\"<\" + displayName + \"> component is not properly configured, some essential props are missing.\\nBe sure to pass the props from the parent. Example:\\n\\nconst My\" + displayName + \" = props => (\\n    <\" + displayName + \" {...props}></\" + displayName + \">\\n);\\n\\nThe missing props are: \" + missingProps.join(', '));\n    }\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { shallowEqual } from 'react-redux';\nvar isObject = function (obj) {\n    return obj && Object.prototype.toString.call(obj) === '[object Object]';\n};\nvar isEmpty = function (obj) {\n    return obj instanceof Date\n        ? false\n        : obj === '' ||\n            obj === null ||\n            obj === undefined ||\n            shallowEqual(obj, {});\n};\nvar removeEmpty = function (object) {\n    return Object.keys(object).reduce(function (acc, key) {\n        var _a;\n        var child = object[key];\n        if (isObject(object[key])) {\n            child = removeEmpty(object[key]);\n        }\n        return isEmpty(child) ? acc : __assign(__assign({}, acc), (_a = {}, _a[key] = child, _a));\n    }, {});\n};\nexport default removeEmpty;\n","var removeKey = function (target, path) {\n    return Object.keys(target).reduce(function (acc, key) {\n        var _a;\n        if (key !== path) {\n            return Object.assign({}, acc, (_a = {}, _a[key] = target[key], _a));\n        }\n        return acc;\n    }, {});\n};\nvar deepRemoveKey = function (target, path) {\n    var _a;\n    var paths = path.split('.');\n    if (paths.length === 1) {\n        return removeKey(target, path);\n    }\n    var deepKey = paths[0];\n    if (target[deepKey] === undefined) {\n        return target;\n    }\n    var deep = deepRemoveKey(target[deepKey], paths.slice(1).join('.'));\n    if (Object.keys(deep).length === 0) {\n        return removeKey(target, deepKey);\n    }\n    return Object.assign({}, target, (_a = {}, _a[deepKey] = deep, _a));\n};\nexport default deepRemoveKey;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport set from 'lodash/set';\nimport removeEmpty from '../../../../util/removeEmpty';\nimport removeKey from '../../../../util/removeKey';\nexport var SET_SORT = 'SET_SORT';\nexport var SORT_ASC = 'ASC';\nexport var SORT_DESC = 'DESC';\nexport var SET_PAGE = 'SET_PAGE';\nexport var SET_PER_PAGE = 'SET_PER_PAGE';\nexport var SET_FILTER = 'SET_FILTER';\nexport var SHOW_FILTER = 'SHOW_FILTER';\nexport var HIDE_FILTER = 'HIDE_FILTER';\nvar oppositeOrder = function (direction) {\n    return direction === SORT_DESC ? SORT_ASC : SORT_DESC;\n};\n/**\n * This reducer is for the react-router query string, NOT for redux.\n */\nvar queryReducer = function (previousState, action) {\n    var _a;\n    switch (action.type) {\n        case SET_SORT:\n            if (action.payload.sort === previousState.sort) {\n                return __assign(__assign({}, previousState), { order: oppositeOrder(previousState.order), page: 1 });\n            }\n            return __assign(__assign({}, previousState), { sort: action.payload.sort, order: action.payload.order || SORT_ASC, page: 1 });\n        case SET_PAGE:\n            return __assign(__assign({}, previousState), { page: action.payload });\n        case SET_PER_PAGE:\n            return __assign(__assign({}, previousState), { page: 1, perPage: action.payload });\n        case SET_FILTER: {\n            return __assign(__assign({}, previousState), { page: 1, filter: action.payload.filter, displayedFilters: action.payload.displayedFilters\n                    ? action.payload.displayedFilters\n                    : previousState.displayedFilters });\n        }\n        case SHOW_FILTER: {\n            if (previousState.displayedFilters &&\n                previousState.displayedFilters[action.payload.filterName]) {\n                // the filter is already shown\n                return previousState;\n            }\n            return __assign(__assign({}, previousState), { filter: typeof action.payload.defaultValue !== 'undefined'\n                    ? set(previousState.filter, action.payload.filterName, action.payload.defaultValue)\n                    : previousState.filter, \n                // we don't use lodash.set() for displayed filters\n                // to avoid problems with compound filter names (e.g. 'author.name')\n                displayedFilters: __assign(__assign({}, previousState.displayedFilters), (_a = {}, _a[action.payload.filterName] = true, _a)) });\n        }\n        case HIDE_FILTER: {\n            return __assign(__assign({}, previousState), { filter: removeEmpty(removeKey(previousState.filter, action.payload)), \n                // we don't use lodash.set() for displayed filters\n                // to avoid problems with compound filter names (e.g. 'author.name')\n                displayedFilters: previousState.displayedFilters\n                    ? Object.keys(previousState.displayedFilters).reduce(function (filters, filter) {\n                        var _a;\n                        return filter !== action.payload\n                            ? __assign(__assign({}, filters), (_a = {}, _a[filter] = true, _a)) : filters;\n                    }, {})\n                    : previousState.displayedFilters });\n        }\n        default:\n            return previousState;\n    }\n};\nexport default queryReducer;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useCallback, useMemo, useEffect, useState, useRef } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { parse, stringify } from 'query-string';\nimport lodashDebounce from 'lodash/debounce';\nimport pickBy from 'lodash/pickBy';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport queryReducer, { SET_FILTER, HIDE_FILTER, SHOW_FILTER, SET_PAGE, SET_PER_PAGE, SET_SORT, SORT_ASC, } from '../reducer/admin/resource/list/queryReducer';\nimport { changeListParams } from '../actions/listActions';\nimport removeEmpty from '../util/removeEmpty';\nvar emptyObject = {};\nvar defaultSort = {\n    field: 'id',\n    order: SORT_ASC,\n};\nvar defaultParams = {};\n/**\n * Get the list parameters (page, sort, filters) and modifiers.\n *\n * These parameters are merged from 3 sources:\n *   - the query string from the URL\n *   - the params stored in the state (from previous navigation)\n *   - the options passed to the hook (including the filter defaultValues)\n *\n * @returns {Array} A tuple [parameters, modifiers].\n * Destructure as [\n *    { page, perPage, sort, order, filter, filterValues, displayedFilters, requestSignature },\n *    { setFilters, hideFilter, showFilter, setPage, setPerPage, setSort }\n * ]\n *\n * @example\n *\n * const [listParams, listParamsActions] = useListParams({\n *      resource: 'posts',\n *      location: location // From react-router. Injected to your component by react-admin inside a List\n *      filterDefaultValues: {\n *          published: true\n *      },\n *      sort: {\n *          field: 'published_at',\n *          order: 'DESC'\n *      },\n *      perPage: 25\n * });\n *\n * const {\n *      page,\n *      perPage,\n *      sort,\n *      order,\n *      filter,\n *      filterValues,\n *      displayedFilters,\n *      requestSignature\n * } = listParams;\n *\n * const {\n *      setFilters,\n *      hideFilter,\n *      showFilter,\n *      setPage,\n *      setPerPage,\n *      setSort,\n * } = listParamsActions;\n */\nvar useListParams = function (_a) {\n    var resource = _a.resource, filterDefaultValues = _a.filterDefaultValues, _b = _a.sort, sort = _b === void 0 ? defaultSort : _b, _c = _a.perPage, perPage = _c === void 0 ? 10 : _c, _d = _a.debounce, debounce = _d === void 0 ? 500 : _d, _e = _a.syncWithLocation, syncWithLocation = _e === void 0 ? false : _e;\n    var dispatch = useDispatch();\n    var location = useLocation();\n    var history = useHistory();\n    var _f = useState(defaultParams), localParams = _f[0], setLocalParams = _f[1];\n    var params = useSelector(function (reduxState) {\n        return reduxState.admin.resources[resource]\n            ? reduxState.admin.resources[resource].list.params\n            : defaultParams;\n    }, shallowEqual);\n    var tempParams = useRef();\n    var requestSignature = [\n        location.search,\n        resource,\n        syncWithLocation ? params : localParams,\n        filterDefaultValues,\n        JSON.stringify(sort),\n        perPage,\n        syncWithLocation,\n    ];\n    var queryFromLocation = syncWithLocation\n        ? parseQueryFromLocation(location)\n        : {};\n    var query = useMemo(function () {\n        return getQuery({\n            queryFromLocation: queryFromLocation,\n            params: syncWithLocation ? params : localParams,\n            filterDefaultValues: filterDefaultValues,\n            sort: sort,\n            perPage: perPage,\n        });\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    // if the location includes params (for example from a link like\n    // the categories products on the demo), we need to persist them in the\n    // redux state as well so that we don't lose them after a redirection back\n    // to the list\n    useEffect(function () {\n        if (Object.keys(queryFromLocation).length > 0) {\n            dispatch(changeListParams(resource, query));\n        }\n    }, [location.search]); // eslint-disable-line\n    var changeParams = useCallback(function (action) {\n        if (!tempParams.current) {\n            // no other changeParams action dispatched this tick\n            tempParams.current = queryReducer(query, action);\n            // schedule side effects for next tick\n            setTimeout(function () {\n                if (syncWithLocation) {\n                    history.push({\n                        search: \"?\" + stringify(__assign(__assign({}, tempParams.current), { filter: JSON.stringify(tempParams.current.filter), displayedFilters: JSON.stringify(tempParams.current.displayedFilters) })),\n                        state: { _scrollToTop: action.type === SET_PAGE },\n                    });\n                    // the useEffect above will apply the changes to the params in the redux state\n                }\n                else {\n                    setLocalParams(tempParams.current);\n                }\n                tempParams.current = undefined;\n            }, 0);\n        }\n        else {\n            // side effects already scheduled, just change the params\n            tempParams.current = queryReducer(tempParams.current, action);\n        }\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n    var setSort = useCallback(function (sort, order) {\n        return changeParams({\n            type: SET_SORT,\n            payload: { sort: sort, order: order },\n        });\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var setPage = useCallback(function (newPage) { return changeParams({ type: SET_PAGE, payload: newPage }); }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var setPerPage = useCallback(function (newPerPage) {\n        return changeParams({ type: SET_PER_PAGE, payload: newPerPage });\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var filterValues = query.filter || emptyObject;\n    var displayedFilterValues = query.displayedFilters || emptyObject;\n    var debouncedSetFilters = lodashDebounce(function (filter, displayedFilters) {\n        changeParams({\n            type: SET_FILTER,\n            payload: {\n                filter: removeEmpty(filter),\n                displayedFilters: displayedFilters,\n            },\n        });\n    }, debounce);\n    var setFilters = useCallback(function (filter, displayedFilters, debounce) {\n        if (debounce === void 0) { debounce = true; }\n        return debounce\n            ? debouncedSetFilters(filter, displayedFilters)\n            : changeParams({\n                type: SET_FILTER,\n                payload: {\n                    filter: removeEmpty(filter),\n                    displayedFilters: displayedFilters,\n                },\n            });\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var hideFilter = useCallback(function (filterName) {\n        changeParams({\n            type: HIDE_FILTER,\n            payload: filterName,\n        });\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n    var showFilter = useCallback(function (filterName, defaultValue) {\n        changeParams({\n            type: SHOW_FILTER,\n            payload: {\n                filterName: filterName,\n                defaultValue: defaultValue,\n            },\n        });\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n    return [\n        __assign({ displayedFilters: displayedFilterValues, filterValues: filterValues, requestSignature: requestSignature }, query),\n        {\n            changeParams: changeParams,\n            setPage: setPage,\n            setPerPage: setPerPage,\n            setSort: setSort,\n            setFilters: setFilters,\n            hideFilter: hideFilter,\n            showFilter: showFilter,\n        },\n    ];\n};\nexport var validQueryParams = [\n    'page',\n    'perPage',\n    'sort',\n    'order',\n    'filter',\n    'displayedFilters',\n];\nvar parseObject = function (query, field) {\n    if (query[field] && typeof query[field] === 'string') {\n        try {\n            query[field] = JSON.parse(query[field]);\n        }\n        catch (err) {\n            delete query[field];\n        }\n    }\n};\nexport var parseQueryFromLocation = function (_a) {\n    var search = _a.search;\n    var query = pickBy(parse(search), function (v, k) { return validQueryParams.indexOf(k) !== -1; });\n    parseObject(query, 'filter');\n    parseObject(query, 'displayedFilters');\n    return query;\n};\n/**\n * Check if user has already set custom sort, page, or filters for this list\n *\n * User params come from the Redux store as the params props. By default,\n * this object is:\n *\n * { filter: {}, order: null, page: 1, perPage: null, sort: null }\n *\n * To check if the user has custom params, we must compare the params\n * to these initial values.\n *\n * @param {Object} params\n */\nexport var hasCustomParams = function (params) {\n    return (params &&\n        params.filter &&\n        (Object.keys(params.filter).length > 0 ||\n            params.order != null ||\n            params.page !== 1 ||\n            params.perPage != null ||\n            params.sort != null));\n};\n/**\n * Merge list params from 3 different sources:\n *   - the query string\n *   - the params stored in the state (from previous navigation)\n *   - the props passed to the List component (including the filter defaultValues)\n */\nexport var getQuery = function (_a) {\n    var queryFromLocation = _a.queryFromLocation, params = _a.params, filterDefaultValues = _a.filterDefaultValues, sort = _a.sort, perPage = _a.perPage;\n    var query = Object.keys(queryFromLocation).length > 0\n        ? queryFromLocation\n        : hasCustomParams(params)\n            ? __assign({}, params) : { filter: filterDefaultValues || {} };\n    if (!query.sort) {\n        query.sort = sort.field;\n        query.order = sort.order;\n    }\n    if (query.perPage == null) {\n        query.perPage = perPage;\n    }\n    if (query.page == null) {\n        query.page = 1;\n    }\n    return __assign(__assign({}, query), { page: getNumberOrDefault(query.page, 1), perPage: getNumberOrDefault(query.perPage, 10) });\n};\nexport var getNumberOrDefault = function (possibleNumber, defaultValue) {\n    var parsedNumber = typeof possibleNumber === 'string'\n        ? parseInt(possibleNumber, 10)\n        : possibleNumber;\n    return isNaN(parsedNumber) ? defaultValue : parsedNumber;\n};\nexport default useListParams;\n","import { useMemo } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { setListSelectedIds, toggleListItem } from '../actions/listActions';\nvar defaultRecords = [];\n/**\n * Get the list of selected items for a resource, and callbacks to change the selection\n *\n * @param resource The resource name, e.g. 'posts'\n *\n * @returns {Object} Destructure as [selectedIds, { select, toggle, clearSelection }].\n */\nvar useRecordSelection = function (resource) {\n    var dispatch = useDispatch();\n    var selectedIds = useSelector(function (reduxState) {\n        return reduxState.admin.resources[resource]\n            ? reduxState.admin.resources[resource].list.selectedIds\n            : defaultRecords;\n    }, shallowEqual);\n    var selectionModifiers = useMemo(function () { return ({\n        select: function (newIds) {\n            dispatch(setListSelectedIds(resource, newIds));\n        },\n        toggle: function (id) {\n            dispatch(toggleListItem(resource, id));\n        },\n        clearSelection: function () {\n            dispatch(setListSelectedIds(resource, []));\n        },\n    }); }, [dispatch, resource]);\n    return [selectedIds, selectionModifiers];\n};\nexport default useRecordSelection;\n","import jsonExport from 'jsonexport/dist';\nimport downloadCSV from './downloadCSV';\nvar defaultExporter = function (data, _, __, resource) {\n    return jsonExport(data, function (err, csv) { return downloadCSV(csv, resource); });\n};\nexport default defaultExporter;\n","export default (function (csv, filename) {\n    var fakeLink = document.createElement('a');\n    fakeLink.style.display = 'none';\n    document.body.appendChild(fakeLink);\n    var blob = new Blob([csv], { type: 'text/csv;charset=utf-8' });\n    // @ts-ignore\n    if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n        // Manage IE11+ & Edge\n        // @ts-ignore\n        window.navigator.msSaveOrOpenBlob(blob, filename + \".csv\");\n    }\n    else {\n        fakeLink.setAttribute('href', URL.createObjectURL(blob));\n        fakeLink.setAttribute('download', filename + \".csv\");\n        fakeLink.click();\n    }\n});\n","import { useContext } from 'react';\nimport { ResourceContext } from './ResourceContext';\n/**\n * Hook to read the resource from the ResourceContext.\n *\n * Must be used within a <ResourceContextProvider> (e.g. as a descendent of <Resource>\n * or any reference related components), or called with a resource prop.\n *\n * @example\n *\n * const ResourceName = (props) => {\n *   const resource = useResourceContext(props);\n *   const getResourceLabel = useGetResourceLabel();\n *   return <>{getResourceLabel(resource, 1)}</>;\n * }\n *\n * // use it in a resource context\n * const MyComponent = () => (\n *   <ResourceContextProvider value=\"posts\">\n *     <ResourceName />\n *     ...\n *   </ResourceContextProvider>\n * );\n *\n * // override resource via props\n * const MyComponent = () => (\n *   <>\n *     <ResourceName resource=\"posts\"/>\n *     ...\n *   </>\n * );\n *\n * @returns {ResourceContextValue} The resource name, e.g. 'posts'\n */\nexport var useResourceContext = function (props) {\n    var context = useContext(ResourceContext);\n    return (props && props.resource) || context;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isValidElement, useEffect, useMemo } from 'react';\nimport { useCheckMinimumRequiredProps } from './checkMinimumRequiredProps';\nimport useListParams from './useListParams';\nimport useRecordSelection from './useRecordSelection';\nimport useTranslate from '../i18n/useTranslate';\nimport useNotify from '../sideEffect/useNotify';\nimport { useGetMainList } from '../dataProvider/useGetMainList';\nimport { SORT_ASC } from '../reducer/admin/resource/list/queryReducer';\nimport { CRUD_GET_LIST } from '../actions';\nimport defaultExporter from '../export/defaultExporter';\nimport { useResourceContext, useGetResourceLabel } from '../core';\nvar defaultSort = {\n    field: 'id',\n    order: SORT_ASC,\n};\n/**\n * Prepare data for the List view\n *\n * @param {Object} props The props passed to the List component.\n *\n * @return {Object} controllerProps Fetched and computed data for the List view\n *\n * @example\n *\n * import { useListController } from 'react-admin';\n * import ListView from './ListView';\n *\n * const MyList = props => {\n *     const controllerProps = useListController(props);\n *     return <ListView {...controllerProps} {...props} />;\n * }\n */\nvar useListController = function (props) {\n    useCheckMinimumRequiredProps('List', ['basePath'], props);\n    var basePath = props.basePath, _a = props.exporter, exporter = _a === void 0 ? defaultExporter : _a, filterDefaultValues = props.filterDefaultValues, hasCreate = props.hasCreate, _b = props.sort, sort = _b === void 0 ? defaultSort : _b, _c = props.perPage, perPage = _c === void 0 ? 10 : _c, filter = props.filter, _d = props.debounce, debounce = _d === void 0 ? 500 : _d, syncWithLocation = props.syncWithLocation;\n    var resource = useResourceContext(props);\n    if (!resource) {\n        throw new Error(\"<List> was called outside of a ResourceContext and without a resource prop. You must set the resource prop.\");\n    }\n    if (filter && isValidElement(filter)) {\n        throw new Error('<List> received a React element as `filter` props. If you intended to set the list filter elements, use the `filters` (with an s) prop instead. The `filter` prop is internal and should not be set by the developer.');\n    }\n    var translate = useTranslate();\n    var notify = useNotify();\n    var _e = useListParams({\n        resource: resource,\n        filterDefaultValues: filterDefaultValues,\n        sort: sort,\n        perPage: perPage,\n        debounce: debounce,\n        syncWithLocation: syncWithLocation,\n    }), query = _e[0], queryModifiers = _e[1];\n    var _f = useRecordSelection(resource), selectedIds = _f[0], selectionModifiers = _f[1];\n    /**\n     * We want the list of ids to be always available for optimistic rendering,\n     * and therefore we need a custom action (CRUD_GET_LIST) that will be used.\n     */\n    var _g = useGetMainList(resource, {\n        page: query.page,\n        perPage: query.perPage,\n    }, { field: query.sort, order: query.order }, __assign(__assign({}, query.filter), filter), {\n        action: CRUD_GET_LIST,\n        onFailure: function (error) {\n            return notify(typeof error === 'string'\n                ? error\n                : error.message || 'ra.notification.http_error', 'warning', {\n                _: typeof error === 'string'\n                    ? error\n                    : error && error.message\n                        ? error.message\n                        : undefined,\n            });\n        },\n    }), ids = _g.ids, data = _g.data, total = _g.total, error = _g.error, loading = _g.loading, loaded = _g.loaded, refetch = _g.refetch;\n    var totalPages = Math.ceil(total / query.perPage) || 1;\n    useEffect(function () {\n        if (query.page <= 0 ||\n            (!loading && query.page > 1 && ids.length === 0)) {\n            // Query for a page that doesn't exist, set page to 1\n            queryModifiers.setPage(1);\n        }\n        else if (!loading && query.page > totalPages) {\n            // Query for a page out of bounds, set page to the last existing page\n            // It occurs when deleting the last element of the last page\n            queryModifiers.setPage(totalPages);\n        }\n    }, [loading, query.page, ids, queryModifiers, total, totalPages]);\n    var currentSort = useMemo(function () { return ({\n        field: query.sort,\n        order: query.order,\n    }); }, [query.sort, query.order]);\n    var getResourceLabel = useGetResourceLabel();\n    var defaultTitle = translate('ra.page.list', {\n        name: getResourceLabel(resource, 2),\n    });\n    return {\n        basePath: basePath,\n        currentSort: currentSort,\n        data: data,\n        defaultTitle: defaultTitle,\n        displayedFilters: query.displayedFilters,\n        error: error,\n        exporter: exporter,\n        filter: filter,\n        filterValues: query.filterValues,\n        hasCreate: hasCreate,\n        hideFilter: queryModifiers.hideFilter,\n        ids: ids,\n        loaded: loaded || ids.length > 0,\n        loading: loading,\n        onSelect: selectionModifiers.select,\n        onToggleItem: selectionModifiers.toggle,\n        onUnselectItems: selectionModifiers.clearSelection,\n        page: query.page,\n        perPage: query.perPage,\n        refetch: refetch,\n        resource: resource,\n        selectedIds: selectedIds,\n        setFilters: queryModifiers.setFilters,\n        setPage: queryModifiers.setPage,\n        setPerPage: queryModifiers.setPerPage,\n        setSort: queryModifiers.setSort,\n        showFilter: queryModifiers.showFilter,\n        total: total,\n    };\n};\nexport var injectedProps = [\n    'basePath',\n    'currentSort',\n    'data',\n    'defaultTitle',\n    'displayedFilters',\n    'error',\n    'exporter',\n    'filterValues',\n    'hasCreate',\n    'hideFilter',\n    'ids',\n    'loading',\n    'loaded',\n    'onSelect',\n    'onToggleItem',\n    'onUnselectItems',\n    'page',\n    'perPage',\n    'refetch',\n    'refresh',\n    'resource',\n    'selectedIds',\n    'setFilters',\n    'setPage',\n    'setPerPage',\n    'setSort',\n    'showFilter',\n    'total',\n    'totalPages',\n    'version',\n];\n/**\n * Select the props injected by the useListController hook\n * to be passed to the List children need\n * This is an implementation of pick()\n */\nexport var getListControllerProps = function (props) {\n    return injectedProps.reduce(function (acc, key) {\n        var _a;\n        return (__assign(__assign({}, acc), (_a = {}, _a[key] = props[key], _a)));\n    }, {});\n};\n/**\n * Select the props not injected by the useListController hook\n * to be used inside the List children to sanitize props injected by List\n * This is an implementation of omit()\n */\nexport var sanitizeListRestProps = function (props) {\n    return Object.keys(props)\n        .filter(function (propName) { return !injectedProps.includes(propName); })\n        .reduce(function (acc, key) {\n        var _a;\n        return (__assign(__assign({}, acc), (_a = {}, _a[key] = props[key], _a)));\n    }, {});\n};\nexport default useListController;\n","import { createContext } from 'react';\n/**\n * Context to store the result of the useListController() hook.\n *\n * Use the useListContext() hook to read the context. That's what many\n * List components do in react-admin (e.g. <Datagrid>, <FilterForm>, <Pagination>).\n *\n * @typedef {Object} ListControllerProps\n * @prop {Object}   data an id-based dictionary of the list data, e.g. { 123: { id: 123, title: 'hello world' }, 456: { ... } }\n * @prop {Array}    ids an array listing the ids of the records in the list, e.g. [123, 456, ...]\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\n * @prop {boolean}  loaded boolean that is false until the data is available\n * @prop {boolean}  loading boolean that is true on mount, and false once the data was fetched\n * @prop {integer}  page the current page. Starts at 1\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\n * @prop {integer}  perPage the number of results per page. Defaults to 25\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\n * @prop {Object}   currentSort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\n * @prop {Function} setSort a callback to change the sort, e.g. setSort('name', 'ASC')\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\n * @prop {Array}    selectedIds an array listing the ids of the selected rows, e.g. [123, 456]\n * @prop {Function} onSelect callback to change the list of selected rows, e.g. onSelect([456, 789])\n * @prop {Function} onToggleItem callback to toggle the selection of a given record based on its id, e.g. onToggleItem(456)\n * @prop {Function} onUnselectItems callback to clear the selection, e.g. onUnselectItems();\n * @prop {string}   basePath deduced from the location, useful for action buttons\n * @prop {string}   defaultTitle the translated title based on the resource, e.g. 'Posts'\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n * @prop {Function} refetch a function for triggering a refetch of the list data\n *\n * @typedef Props\n * @prop {ListControllerProps} value\n *\n * @param {Props}\n *\n * @see useListController\n * @see useListContext\n *\n * @example\n *\n * import { useListController, ListContext } from 'ra-core';\n *\n * const List = props => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListContext.Provider value={controllerProps}>\n *             ...\n *         </ListContext.Provider>\n *     );\n * };\n */\nvar ListContext = createContext({\n    basePath: null,\n    currentSort: null,\n    data: null,\n    defaultTitle: null,\n    displayedFilters: null,\n    filterValues: null,\n    hasCreate: null,\n    hideFilter: null,\n    ids: null,\n    loaded: null,\n    loading: null,\n    onSelect: null,\n    onToggleItem: null,\n    onUnselectItems: null,\n    page: null,\n    perPage: null,\n    refetch: null,\n    resource: null,\n    selectedIds: null,\n    setFilters: null,\n    setPage: null,\n    setPerPage: null,\n    setSort: null,\n    showFilter: null,\n    total: null,\n});\nListContext.displayName = 'ListContext';\nexport default ListContext;\n","import { createContext, useMemo } from 'react';\nimport pick from 'lodash/pick';\n/**\n * Context to store the filter part of the useListController() result.\n *\n * Use the useListFilterContext() hook to read the context. That's what many\n * List components do in react-admin (e.g. <FilterForm>, <FilterListItem>).\n *\n * @typedef {Object} ListFilterContextValue\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @typedef Props\n * @prop {ListFilterContextValue} value\n *\n * @param {Props}\n *\n * @see useListController\n * @see useListFilterContext\n *\n * @example\n *\n * import { useListController, usePickFilterContext, ListFilterContext } from 'ra-core';\n *\n * const List = props => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListFilterContext.Provider value={usePickFilterContext(controllerProps)}>\n *             ...\n *         </ListFilterContext.Provider>\n *     );\n * };\n */\nvar ListFilterContext = createContext({\n    displayedFilters: null,\n    filterValues: null,\n    hideFilter: null,\n    setFilters: null,\n    showFilter: null,\n    resource: null,\n});\nexport var usePickFilterContext = function (context) {\n    return useMemo(function () {\n        return pick(context, [\n            'displayedFilters',\n            'filterValues',\n            'hideFilter',\n            'setFilters',\n            'showFilter',\n            'resource',\n        ]);\n    }, \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        context.displayedFilters,\n        context.filterValues,\n        context.hideFilter,\n        context.setFilters,\n        context.showFilter,\n    ]);\n};\nListFilterContext.displayName = 'ListFilterContext';\nexport default ListFilterContext;\n","import { createContext, useMemo } from 'react';\nimport pick from 'lodash/pick';\n/**\n * Context to store the sort part of the useListController() result.\n *\n * Use the useListSortContext() hook to read the context. That's what many\n * List components do in react-admin (e.g. <SortButton>).\n *\n * @typedef {Object} ListSortContextValue\n * @prop {Object}   currentSort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\n * @prop {Function} setSort a callback to change the sort, e.g. setSort('name', 'ASC')\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @typedef Props\n * @prop {ListSortContextValue} value\n *\n * @param {Props}\n *\n * @see useListController\n * @see useListSortContext\n *\n * @example\n *\n * import { useListController, usePickSortContext, ListSortContext } from 'ra-core';\n *\n * const List = props => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListSortContext.Provider value={usePickSortContext(controllerProps)}>\n *             ...\n *         </ListSortContext.Provider>\n *     );\n * };\n */\nvar ListSortContext = createContext({\n    currentSort: null,\n    setSort: null,\n    resource: null,\n});\nexport var usePickSortContext = function (context) {\n    return useMemo(function () { return pick(context, ['currentSort', 'setSort', 'resource']); }, \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [context.currentSort, context.setSort]);\n};\nListSortContext.displayName = 'ListSortContext';\nexport default ListSortContext;\n","import { createContext, useMemo } from 'react';\nimport pick from 'lodash/pick';\n/**\n * Context to store the pagination part of the useListController() result.\n *\n * Use the useListPaginationContext() hook to read the pagination information.\n * That's what List components do in react-admin (e.g. <Pagination>).\n *\n * @typedef {Object} ListPaginationContextValue\n * @prop {boolean}  loading boolean that is true on mount, and false once the data was fetched\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\n * @prop {integer}  page the current page. Starts at 1\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\n * @prop {integer}  perPage the number of results per page. Defaults to 25\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @typedef Props\n * @prop {ListPaginationContextValue} value\n *\n * @param {Props}\n *\n * @see useListController\n * @see useListContext\n *\n * @example\n *\n * import { useListController, ListPaginationContext } from 'ra-core';\n *\n * const List = props => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListPaginationContext.Provider value={controllerProps}>\n *             ...\n *         </ListPaginationContext.Provider>\n *     );\n * };\n */\nvar ListPaginationContext = createContext({\n    loading: null,\n    page: null,\n    perPage: null,\n    setPage: null,\n    setPerPage: null,\n    total: null,\n    resource: null,\n});\nListPaginationContext.displayName = 'ListPaginationContext';\nexport var usePickPaginationContext = function (context) {\n    return useMemo(function () {\n        return pick(context, [\n            'loading',\n            'page',\n            'perPage',\n            'setPage',\n            'setPerPage',\n            'total',\n            'resource',\n        ]);\n    }, \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        context.loading,\n        context.page,\n        context.perPage,\n        context.setPage,\n        context.setPerPage,\n        context.total,\n    ]);\n};\nexport default ListPaginationContext;\n","import * as React from 'react';\nimport ListContext from './ListContext';\nimport ListFilterContext, { usePickFilterContext } from './ListFilterContext';\nimport ListSortContext, { usePickSortContext } from './ListSortContext';\nimport ListPaginationContext, { usePickPaginationContext, } from './ListPaginationContext';\n/**\n * Create a List Context and several thematic List subcontext.\n *\n * Allows children to subscribe to part of the ListContext, and bail out of\n * rendering when some parts of the context that they don't depend on change\n * (because unfortunately React doesn't allow to use context selectors yet).\n *\n * @example\n *\n * const MyList = (props) => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListContextProvider value={controllerProps}>\n *             <MyListView>\n *         </ListContextProvider>\n *     );\n * };\n *\n * const MyListView = () => {\n *     const { data, ids, filterValues, setFilters } = useListContext();\n *     // or, to rerender only when filters change but not data\n *     const { filterValues, setFilters } = useListFilterContext();\n * }\n *\n * @see ListContext\n * @see ListFilterContext\n */\nvar ListContextProvider = function (_a) {\n    var value = _a.value, children = _a.children;\n    return (React.createElement(ListContext.Provider, { value: value },\n        React.createElement(ListFilterContext.Provider, { value: usePickFilterContext(value) },\n            React.createElement(ListSortContext.Provider, { value: usePickSortContext(value) },\n                React.createElement(ListPaginationContext.Provider, { value: usePickPaginationContext(value) }, children)))));\n};\nexport default ListContextProvider;\n","import { useContext, useMemo } from 'react';\nimport defaults from 'lodash/defaults';\nimport ListContext from './ListContext';\n/**\n * Hook to read the list controller props from the ListContext.\n *\n * Mostly used within a <ListContext.Provider> (e.g. as a descendent of <List>\n * or <ListBase>).\n *\n * But you can also use it without a <ListContext.Provider>. In this case, it is up to you\n * to pass all the necessary props (see the list below).\n *\n * The given props will take precedence over context values.\n *\n * @typedef {Object} ListControllerProps\n * @prop {Object}   data an id-based dictionary of the list data, e.g. { 123: { id: 123, title: 'hello world' }, 456: { ... } }\n * @prop {Array}    ids an array listing the ids of the records in the list, e.g. [123, 456, ...]\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\n * @prop {boolean}  loaded boolean that is false until the data is available\n * @prop {boolean}  loading boolean that is true on mount, and false once the data was fetched\n * @prop {integer}  page the current page. Starts at 1\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\n * @prop {integer}  perPage the number of results per page. Defaults to 25\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\n * @prop {Object}   currentSort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\n * @prop {Function} setSort a callback to change the sort, e.g. setSort('name', 'ASC')\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\n * @prop {Array}    selectedIds an array listing the ids of the selected rows, e.g. [123, 456]\n * @prop {Function} onSelect callback to change the list of selected rows, e.g. onSelect([456, 789])\n * @prop {Function} onToggleItem callback to toggle the selection of a given record based on its id, e.g. onToggleItem(456)\n * @prop {Function} onUnselectItems callback to clear the selection, e.g. onUnselectItems();\n * @prop {string}   basePath deduced from the location, useful for action buttons\n * @prop {string}   defaultTitle the translated title based on the resource, e.g. 'Posts'\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @returns {ListControllerProps} list controller props\n *\n * @see useListController for how it is filled\n *\n * @example // custom list view\n *\n * import { useListContext } from 'react-admin';\n *\n * const MyList = () => {\n *     const { data, ids, loaded } = useListContext();\n *     if (!loaded) {\n *         return <>Loading...</>;\n *     }\n *     const records = ids.map(id => data[id]);\n *     return (\n *         <ul>\n *             {records.map(record => (\n *                 <li key={record.id}>{record.name}</li>\n *             ))}\n *         </ul>\n *     );\n * }\n *\n * @example // custom pagination\n *\n * import { useListContext } from 'react-admin';\n * import { Button, Toolbar } from '@material-ui/core';\n * import ChevronLeft from '@material-ui/icons/ChevronLeft';\n * import ChevronRight from '@material-ui/icons/ChevronRight';\n *\n * const PrevNextPagination = () => {\n *     const { page, perPage, total, setPage } = useListContext();\n *     const nbPages = Math.ceil(total / perPage) || 1;\n *     return (\n *         nbPages > 1 &&\n *             <Toolbar>\n *                 {page > 1 &&\n *                     <Button color=\"primary\" key=\"prev\" onClick={() => setPage(page - 1)}>\n *                         <ChevronLeft />\n *                         Prev\n *                     </Button>\n *                 }\n *                 {page !== nbPages &&\n *                     <Button color=\"primary\" key=\"next\" onClick={() => setPage(page + 1)}>\n *                         Next\n *                         <ChevronRight />\n *                     </Button>\n *                 }\n *             </Toolbar>\n *     );\n * }\n */\nvar useListContext = function (props) {\n    var context = useContext(ListContext);\n    // Props take precedence over the context\n    // @ts-ignore\n    return useMemo(function () {\n        return defaults({}, props != null ? extractListContextProps(props) : {}, context);\n    }, [context, props]);\n};\nexport default useListContext;\n/**\n * Extract only the list controller props\n *\n * @param {Object} props Props passed to the useListContext hook\n *\n * @returns {ListControllerProps} List controller props\n */\nvar extractListContextProps = function (_a) {\n    var basePath = _a.basePath, currentSort = _a.currentSort, data = _a.data, defaultTitle = _a.defaultTitle, displayedFilters = _a.displayedFilters, filterValues = _a.filterValues, hasCreate = _a.hasCreate, hideFilter = _a.hideFilter, ids = _a.ids, loaded = _a.loaded, loading = _a.loading, onSelect = _a.onSelect, onToggleItem = _a.onToggleItem, onUnselectItems = _a.onUnselectItems, page = _a.page, perPage = _a.perPage, refetch = _a.refetch, resource = _a.resource, selectedIds = _a.selectedIds, setFilters = _a.setFilters, setPage = _a.setPage, setPerPage = _a.setPerPage, setSort = _a.setSort, showFilter = _a.showFilter, total = _a.total;\n    return ({\n        basePath: basePath,\n        currentSort: currentSort,\n        data: data,\n        defaultTitle: defaultTitle,\n        displayedFilters: displayedFilters,\n        filterValues: filterValues,\n        hasCreate: hasCreate,\n        hideFilter: hideFilter,\n        ids: ids,\n        loaded: loaded,\n        loading: loading,\n        onSelect: onSelect,\n        onToggleItem: onToggleItem,\n        onUnselectItems: onUnselectItems,\n        page: page,\n        perPage: perPage,\n        refetch: refetch,\n        resource: resource,\n        selectedIds: selectedIds,\n        setFilters: setFilters,\n        setPage: setPage,\n        setPerPage: setPerPage,\n        setSort: setSort,\n        showFilter: showFilter,\n        total: total,\n    });\n};\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '@material-ui/core/IconButton';\nimport ActionHide from '@material-ui/icons/HighlightOff';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { useResourceContext, useTranslate } from 'ra-core';\nvar emptyRecord = {};\nvar useStyles = makeStyles(function (theme) { return ({\n    body: {\n        display: 'flex',\n        alignItems: 'flex-end',\n        pointerEvents: 'auto',\n    },\n    spacer: { width: theme.spacing(2) },\n    hideButton: {},\n}); }, { name: 'RaFilterFormInput' });\nvar FilterFormInput = function (props) {\n    var filterElement = props.filterElement, handleHide = props.handleHide, variant = props.variant, margin = props.margin;\n    var resource = useResourceContext(props);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    return (React.createElement(\"div\", { \"data-source\": filterElement.props.source, className: classnames('filter-field', classes.body) },\n        !filterElement.props.alwaysOn && (React.createElement(IconButton, { className: classnames('hide-filter', classes.hideButton), onClick: handleHide, \"data-key\": filterElement.props.source, title: translate('ra.action.remove_filter') },\n            React.createElement(ActionHide, null))),\n        React.cloneElement(filterElement, {\n            allowEmpty: filterElement.props.allowEmpty === undefined\n                ? true\n                : filterElement.props.allowEmpty,\n            resource: resource,\n            record: emptyRecord,\n            variant: variant,\n            margin: margin,\n            helperText: false,\n            // ignore defaultValue in Field because it was already set in Form (via mergedInitialValuesWithDefaultValues)\n            defaultValue: undefined,\n        }),\n        React.createElement(\"div\", { className: classes.spacer }, \"\\u00A0\")));\n};\nFilterFormInput.propTypes = {\n    filterElement: PropTypes.node,\n    handleHide: PropTypes.func,\n    classes: PropTypes.object,\n    resource: PropTypes.string,\n    margin: PropTypes.string,\n    variant: PropTypes.string,\n};\nexport default FilterFormInput;\n","import * as React from 'react';\n/**\n * Make filters accessible to sub components\n */\nexport var FilterContext = React.createContext(undefined);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useEffect, useCallback, useContext, } from 'react';\nimport PropTypes from 'prop-types';\nimport { useListContext, useResourceContext } from 'ra-core';\nimport { Form, FormSpy } from 'react-final-form';\nimport arrayMutators from 'final-form-arrays';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport lodashSet from 'lodash/set';\nimport lodashGet from 'lodash/get';\nimport FilterFormInput from './FilterFormInput';\nimport { FilterContext } from '../FilterContext';\nexport var FilterForm = function (props) {\n    var _a = props.classes, classes = _a === void 0 ? {} : _a, className = props.className, margin = props.margin, filters = props.filters, variant = props.variant, initialValues = props.initialValues, rest = __rest(props, [\"classes\", \"className\", \"margin\", \"filters\", \"variant\", \"initialValues\"]);\n    var resource = useResourceContext(props);\n    var _b = useListContext(props), _c = _b.displayedFilters, displayedFilters = _c === void 0 ? {} : _c, hideFilter = _b.hideFilter;\n    useEffect(function () {\n        filters.forEach(function (filter) {\n            if (filter.props.alwaysOn && filter.props.defaultValue) {\n                throw new Error('Cannot use alwaysOn and defaultValue on a filter input. Please set the filterDefaultValues props on the <List> element instead.');\n            }\n        });\n    }, [filters]);\n    var getShownFilters = function () {\n        return filters.filter(function (filterElement) {\n            return filterElement.props.alwaysOn ||\n                displayedFilters[filterElement.props.source] ||\n                typeof lodashGet(initialValues, filterElement.props.source) !==\n                    'undefined';\n        });\n    };\n    var handleHide = useCallback(function (event) { return hideFilter(event.currentTarget.dataset.key); }, [hideFilter]);\n    return (React.createElement(\"form\", __assign({ className: classnames(className, classes.form) }, sanitizeRestProps(rest), { onSubmit: handleSubmit }),\n        getShownFilters().map(function (filterElement) { return (React.createElement(FilterFormInput, { key: filterElement.props.source, filterElement: filterElement, handleHide: handleHide, resource: resource, variant: filterElement.props.variant || variant, margin: filterElement.props.margin || margin })); }),\n        React.createElement(\"div\", { className: classes.clearFix })));\n};\nvar handleSubmit = function (event) {\n    event.preventDefault();\n    return false;\n};\nFilterForm.propTypes = {\n    resource: PropTypes.string,\n    filters: PropTypes.arrayOf(PropTypes.node).isRequired,\n    displayedFilters: PropTypes.object,\n    hideFilter: PropTypes.func,\n    initialValues: PropTypes.object,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    form: {\n        marginTop: -theme.spacing(2),\n        paddingTop: 0,\n        display: 'flex',\n        alignItems: 'flex-end',\n        flexWrap: 'wrap',\n        minHeight: theme.spacing(10),\n        pointerEvents: 'none',\n    },\n    clearFix: { clear: 'right' },\n}); }, { name: 'RaFilterForm' });\nvar sanitizeRestProps = function (_a) {\n    var active = _a.active, dirty = _a.dirty, dirtyFields = _a.dirtyFields, dirtyFieldsSinceLastSubmit = _a.dirtyFieldsSinceLastSubmit, dirtySinceLastSubmit = _a.dirtySinceLastSubmit, displayedFilters = _a.displayedFilters, error = _a.error, errors = _a.errors, filterValues = _a.filterValues, form = _a.form, handleSubmit = _a.handleSubmit, hasSubmitErrors = _a.hasSubmitErrors, hasValidationErrors = _a.hasValidationErrors, hideFilter = _a.hideFilter, invalid = _a.invalid, modified = _a.modified, modifiedSinceLastSubmit = _a.modifiedSinceLastSubmit, pristine = _a.pristine, resource = _a.resource, setFilters = _a.setFilters, submitError = _a.submitError, submitErrors = _a.submitErrors, submitFailed = _a.submitFailed, submitSucceeded = _a.submitSucceeded, submitting = _a.submitting, touched = _a.touched, valid = _a.valid, validating = _a.validating, values = _a.values, visited = _a.visited, props = __rest(_a, [\"active\", \"dirty\", \"dirtyFields\", \"dirtyFieldsSinceLastSubmit\", \"dirtySinceLastSubmit\", \"displayedFilters\", \"error\", \"errors\", \"filterValues\", \"form\", \"handleSubmit\", \"hasSubmitErrors\", \"hasValidationErrors\", \"hideFilter\", \"invalid\", \"modified\", \"modifiedSinceLastSubmit\", \"pristine\", \"resource\", \"setFilters\", \"submitError\", \"submitErrors\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touched\", \"valid\", \"validating\", \"values\", \"visited\"]);\n    return props;\n};\nexport var mergeInitialValuesWithDefaultValues = function (initialValues, filters) { return (__assign(__assign({}, filters\n    .filter(function (filterElement) {\n    return filterElement.props.alwaysOn && filterElement.props.defaultValue;\n})\n    .reduce(function (acc, filterElement) {\n    return lodashSet(__assign({}, acc), filterElement.props.source, filterElement.props.defaultValue);\n}, {})), initialValues)); };\nvar EnhancedFilterForm = function (props) {\n    var classesOverride = props.classes, filtersProps = props.filters, initialValues = props.initialValues, rest = __rest(props, [\"classes\", \"filters\", \"initialValues\"]);\n    var classes = useStyles(props);\n    var _a = useListContext(props), setFilters = _a.setFilters, displayedFilters = _a.displayedFilters, filterValues = _a.filterValues;\n    var filters = useContext(FilterContext) || filtersProps;\n    var mergedInitialValuesWithDefaultValues = mergeInitialValuesWithDefaultValues(initialValues || filterValues, filters);\n    return (React.createElement(Form, { onSubmit: handleFinalFormSubmit, initialValues: mergedInitialValuesWithDefaultValues, mutators: __assign({}, arrayMutators), render: function (formProps) { return (React.createElement(React.Fragment, null,\n            React.createElement(FormSpy, { subscription: FormSpySubscription, onChange: function (_a) {\n                    var pristine = _a.pristine, values = _a.values, invalid = _a.invalid;\n                    if (pristine || invalid) {\n                        return;\n                    }\n                    setFilters(values, displayedFilters);\n                } }),\n            React.createElement(FilterForm, __assign({ classes: classes }, formProps, rest, { filters: filters })))); } }));\n};\nvar handleFinalFormSubmit = function () { };\n// Options to instruct the FormSpy that it should only listen to the values and pristine changes\nvar FormSpySubscription = { values: true, pristine: true, invalid: true };\nexport default EnhancedFilterForm;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Toolbar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FilterForm } from './filter';\nimport { FilterContext } from './FilterContext';\nvar useStyles = makeStyles(function (theme) {\n    var _a, _b;\n    return ({\n        toolbar: (_a = {\n                justifyContent: 'space-between',\n                alignItems: 'flex-start',\n                paddingRight: 0\n            },\n            _a[theme.breakpoints.up('xs')] = {\n                paddingLeft: 0,\n            },\n            _a[theme.breakpoints.down('xs')] = {\n                paddingLeft: theme.spacing(2),\n                backgroundColor: theme.palette.background.paper,\n            },\n            _a),\n        actions: (_b = {\n                paddingTop: theme.spacing(3),\n                minHeight: theme.spacing(5)\n            },\n            _b[theme.breakpoints.down('xs')] = {\n                padding: theme.spacing(1),\n                backgroundColor: theme.palette.background.paper,\n            },\n            _b),\n    });\n}, { name: 'RaListToolbar' });\nvar ListToolbar = function (props) {\n    var classesOverride = props.classes, filters = props.filters, actions = props.actions, rest = __rest(props, [\"classes\", \"filters\", \"actions\"]);\n    var classes = useStyles(props);\n    return Array.isArray(filters) ? (React.createElement(FilterContext.Provider, { value: filters },\n        React.createElement(Toolbar, { className: classes.toolbar },\n            React.createElement(FilterForm, null),\n            React.createElement(\"span\", null),\n            actions &&\n                React.cloneElement(actions, __assign(__assign(__assign({}, rest), { className: classes.actions }), actions.props))))) : (React.createElement(Toolbar, { className: classes.toolbar },\n        filters &&\n            React.cloneElement(filters, __assign(__assign({}, rest), { context: 'form' })),\n        React.createElement(\"span\", null),\n        actions &&\n            React.cloneElement(actions, __assign(__assign(__assign({}, rest), { className: classes.actions, filters: filters }), actions.props))));\n};\nListToolbar.propTypes = {\n    classes: PropTypes.object,\n    filters: PropTypes.oneOfType([\n        PropTypes.element,\n        PropTypes.arrayOf(PropTypes.element),\n    ]),\n    // @ts-ignore\n    actions: PropTypes.oneOfType([PropTypes.bool, PropTypes.element]),\n    // @ts-ignore\n    exporter: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n};\nexport default React.memo(ListToolbar);\n","import { useContext } from 'react';\nimport ListPaginationContext from './ListPaginationContext';\n/**\n * Hook to read the list controller props from the ListContext.\n *\n * Must be used within a <ListContextProvider> (e.g. as a descendent of <List>\n * or <ListBase>).\n *\n * @typedef {Object} ListPaginationContextValue\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\n * @prop {integer}  page the current page. Starts at 1\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\n * @prop {integer}  perPage the number of results per page. Defaults to 25\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @returns {ListPaginationContextValue} list controller props\n *\n * @see useListController for how it is filled\n */\nvar useListPaginationContext = function (props) {\n    var context = useContext(ListPaginationContext);\n    if (!context.setPage) {\n        /**\n         * The element isn't inside a <ListPaginationContext.Provider>\n         *\n         * This may only happen when using Datagrid / SimpleList / SingleFieldList components\n         * outside of a List / ReferenceManyField / ReferenceArrayField -\n         * which isn't documented but tolerated.\n         * To avoid breakage in that case, fallback to props\n         *\n         * @deprecated - to be removed in 4.0\n         */\n        if (process.env.NODE_ENV !== 'production') {\n            console.log(\"List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin.\");\n        }\n        return props;\n    }\n    return context;\n};\nexport default useListPaginationContext;\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport { useTranslate } from 'ra-core';\nimport classnames from 'classnames';\nvar useStyles = makeStyles(function (theme) { return ({\n    actions: {\n        flexShrink: 0,\n        color: theme.palette.text.secondary,\n        marginLeft: 20,\n    },\n    button: {},\n    currentPageButton: {},\n    hellip: { padding: '1.2em' },\n}); }, { name: 'RaPaginationActions' });\nvar PaginationActions = function (props) {\n    var page = props.page, rowsPerPage = props.rowsPerPage, count = props.count, onPageChange = props.onPageChange, color = props.color, size = props.size;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var theme = useTheme();\n    /**\n     * Warning: material-ui's page is 0-based\n     */\n    var range = function () {\n        var nbPages = Math.ceil(count / rowsPerPage) || 1;\n        if (isNaN(page) || nbPages === 1) {\n            return [];\n        }\n        var input = [];\n        // display page links around the current page\n        if (page > 1) {\n            input.push(1);\n        }\n        if (page === 3) {\n            input.push(2);\n        }\n        if (page > 3) {\n            input.push('.');\n        }\n        if (page > 0) {\n            input.push(page);\n        }\n        input.push(page + 1);\n        if (page < nbPages - 1) {\n            input.push(page + 2);\n        }\n        if (page === nbPages - 4) {\n            input.push(nbPages - 1);\n        }\n        if (page < nbPages - 4) {\n            input.push('.');\n        }\n        if (page < nbPages - 2) {\n            input.push(nbPages);\n        }\n        return input;\n    };\n    var getNbPages = function () { return Math.ceil(count / rowsPerPage) || 1; };\n    var prevPage = function (event) {\n        if (page === 0) {\n            throw new Error(translate('ra.navigation.page_out_from_begin'));\n        }\n        onPageChange(event, page - 1);\n    };\n    var nextPage = function (event) {\n        if (page > getNbPages() - 1) {\n            throw new Error(translate('ra.navigation.page_out_from_end'));\n        }\n        onPageChange(event, page + 1);\n    };\n    var gotoPage = function (event) {\n        var page = parseInt(event.currentTarget.dataset.page, 10);\n        if (page < 0 || page > getNbPages() - 1) {\n            throw new Error(translate('ra.navigation.page_out_of_boundaries', {\n                page: page + 1,\n            }));\n        }\n        onPageChange(event, page);\n    };\n    var renderPageNums = function () {\n        return range().map(function (pageNum, index) {\n            var _a;\n            return pageNum === '.' ? (React.createElement(\"span\", { key: \"hyphen_\" + index, className: classes.hellip }, \"\\u2026\")) : (React.createElement(Button, { size: size, className: classnames('page-number', classes.button, (_a = {},\n                    _a[classes.currentPageButton] = pageNum === page + 1,\n                    _a)), color: pageNum === page + 1 ? 'default' : color, key: pageNum, \"data-page\": pageNum - 1, onClick: gotoPage }, pageNum));\n        });\n    };\n    var nbPages = getNbPages();\n    if (nbPages === 1) {\n        return React.createElement(\"div\", { className: classes.actions });\n    }\n    return (React.createElement(\"div\", { className: classes.actions },\n        page > 0 && (React.createElement(Button, { color: color, size: size, key: \"prev\", onClick: prevPage, className: \"previous-page\" },\n            theme.direction === 'rtl' ? (React.createElement(ChevronRight, null)) : (React.createElement(ChevronLeft, null)),\n            translate('ra.navigation.prev'))),\n        renderPageNums(),\n        page !== nbPages - 1 && (React.createElement(Button, { color: color, size: size, key: \"next\", onClick: nextPage, className: \"next-page\" },\n            translate('ra.navigation.next'),\n            theme.direction === 'rtl' ? (React.createElement(ChevronLeft, null)) : (React.createElement(ChevronRight, null))))));\n};\n/**\n * PaginationActions propTypes are copied over from material-uis\n * TablePaginationActions propTypes. See\n * https://github.com/mui-org/material-ui/blob/869692ecf3812bc4577ed4dde81a9911c5949695/packages/material-ui/src/TablePaginationActions/TablePaginationActions.js#L53-L85\n * for reference.\n */\nPaginationActions.propTypes = {\n    backIconButtonProps: PropTypes.object,\n    count: PropTypes.number.isRequired,\n    classes: PropTypes.object,\n    nextIconButtonProps: PropTypes.object,\n    onPageChange: PropTypes.func.isRequired,\n    page: PropTypes.number.isRequired,\n    rowsPerPage: PropTypes.number.isRequired,\n    color: PropTypes.oneOf(['primary', 'secondary']),\n    size: PropTypes.oneOf(['small', 'medium', 'large']),\n    theme: PropTypes.object,\n};\nPaginationActions.defaultProps = {\n    color: 'primary',\n    size: 'small',\n};\nexport default React.memo(PaginationActions);\n","import * as React from 'react';\nimport { memo } from 'react';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslate } from 'ra-core';\nvar PaginationLimit = function () {\n    var translate = useTranslate();\n    return (React.createElement(CardContent, null,\n        React.createElement(Typography, { variant: \"body2\" }, translate('ra.navigation.no_results'))));\n};\nexport default memo(PaginationLimit);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { TablePagination, Toolbar, useMediaQuery, } from '@material-ui/core';\nimport { useTranslate, useListPaginationContext, sanitizeListRestProps, ComponentPropType, } from 'ra-core';\nimport DefaultPaginationActions from './PaginationActions';\nimport DefaultPaginationLimit from './PaginationLimit';\nvar emptyArray = [];\nvar Pagination = function (props) {\n    var rowsPerPageOptions = props.rowsPerPageOptions, actions = props.actions, limit = props.limit, rest = __rest(props, [\"rowsPerPageOptions\", \"actions\", \"limit\"]);\n    var _a = useListPaginationContext(props), loading = _a.loading, page = _a.page, perPage = _a.perPage, total = _a.total, setPage = _a.setPage, setPerPage = _a.setPerPage;\n    var translate = useTranslate();\n    var isSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('sm');\n    });\n    var totalPages = useMemo(function () {\n        return Math.ceil(total / perPage) || 1;\n    }, [perPage, total]);\n    /**\n     * Warning: material-ui's page is 0-based\n     */\n    var handlePageChange = useCallback(function (event, page) {\n        event && event.stopPropagation();\n        if (page < 0 || page > totalPages - 1) {\n            throw new Error(translate('ra.navigation.page_out_of_boundaries', {\n                page: page + 1,\n            }));\n        }\n        setPage(page + 1);\n    }, [totalPages, setPage, translate]);\n    var handlePerPageChange = useCallback(function (event) {\n        setPerPage(event.target.value);\n    }, [setPerPage]);\n    var labelDisplayedRows = useCallback(function (_a) {\n        var from = _a.from, to = _a.to, count = _a.count;\n        return translate('ra.navigation.page_range_info', {\n            offsetBegin: from,\n            offsetEnd: to,\n            total: count,\n        });\n    }, [translate]);\n    // Avoid rendering TablePagination if \"page\" value is invalid\n    if (total === null || total === 0 || page < 1 || page > totalPages) {\n        return loading ? React.createElement(Toolbar, { variant: \"dense\" }) : limit;\n    }\n    if (isSmall) {\n        return (React.createElement(TablePagination, __assign({ count: total, rowsPerPage: perPage, page: page - 1, onPageChange: handlePageChange, rowsPerPageOptions: emptyArray, component: \"span\", labelDisplayedRows: labelDisplayedRows }, sanitizeListRestProps(rest))));\n    }\n    return (React.createElement(TablePagination, __assign({ count: total, rowsPerPage: perPage, page: page - 1, onPageChange: handlePageChange, onRowsPerPageChange: handlePerPageChange, ActionsComponent: actions, component: \"span\", labelRowsPerPage: translate('ra.navigation.page_rows_per_page'), labelDisplayedRows: labelDisplayedRows, rowsPerPageOptions: rowsPerPageOptions }, sanitizeListRestProps(rest))));\n};\nPagination.propTypes = {\n    actions: ComponentPropType,\n    limit: PropTypes.element,\n    rowsPerPageOptions: PropTypes.arrayOf(PropTypes.number),\n};\nPagination.defaultProps = {\n    actions: DefaultPaginationActions,\n    limit: React.createElement(DefaultPaginationLimit, null),\n    rowsPerPageOptions: [5, 10, 25],\n};\nexport default React.memo(Pagination);\n","import { DELETE_MANY } from '../../core';\nexport var crudDeleteMany = function (resource, ids, basePath, refresh) {\n    if (refresh === void 0) { refresh = true; }\n    return ({\n        type: CRUD_DELETE_MANY,\n        payload: { ids: ids },\n        meta: {\n            resource: resource,\n            fetch: DELETE_MANY,\n            onSuccess: {\n                notification: {\n                    body: 'ra.notification.deleted',\n                    level: 'info',\n                    messageArgs: {\n                        smart_count: ids.length,\n                    },\n                },\n                basePath: basePath,\n                refresh: refresh,\n                unselectAll: true,\n            },\n            onFailure: {\n                notification: {\n                    body: 'ra.notification.http_error',\n                    level: 'warning',\n                },\n            },\n        },\n    });\n};\nexport var CRUD_DELETE_MANY = 'RA/CRUD_DELETE_MANY';\nexport var CRUD_DELETE_MANY_LOADING = 'RA/CRUD_DELETE_MANY_LOADING';\nexport var CRUD_DELETE_MANY_FAILURE = 'RA/CRUD_DELETE_MANY_FAILURE';\nexport var CRUD_DELETE_MANY_SUCCESS = 'RA/CRUD_DELETE_MANY_SUCCESS';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { alpha } from '@material-ui/core/styles/colorManipulator';\nimport ActionCheck from '@material-ui/icons/CheckCircle';\nimport AlertError from '@material-ui/icons/ErrorOutline';\nimport classnames from 'classnames';\nimport { useTranslate } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    confirmPrimary: {\n        color: theme.palette.primary.main,\n    },\n    confirmWarning: {\n        color: theme.palette.error.main,\n        '&:hover': {\n            backgroundColor: alpha(theme.palette.error.main, 0.12),\n            // Reset on mouse devices\n            '@media (hover: none)': {\n                backgroundColor: 'transparent',\n            },\n        },\n    },\n    iconPaddingStyle: {\n        paddingRight: '0.5em',\n    },\n}); }, { name: 'RaConfirm' });\n/**\n * Confirmation dialog\n *\n * @example\n * <Confirm\n *     isOpen={true}\n *     title=\"Delete Item\"\n *     content=\"Are you sure you want to delete this item?\"\n *     confirm=\"Yes\"\n *     confirmColor=\"primary\"\n *     ConfirmIcon=ActionCheck\n *     CancelIcon=AlertError\n *     cancel=\"Cancel\"\n *     onConfirm={() => { // do something }}\n *     onClose={() => { // do something }}\n * />\n */\nvar Confirm = function (props) {\n    var _a;\n    var isOpen = props.isOpen, loading = props.loading, title = props.title, content = props.content, confirm = props.confirm, cancel = props.cancel, confirmColor = props.confirmColor, ConfirmIcon = props.ConfirmIcon, CancelIcon = props.CancelIcon, onClose = props.onClose, onConfirm = props.onConfirm, _b = props.translateOptions, translateOptions = _b === void 0 ? {} : _b;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var handleConfirm = useCallback(function (e) {\n        e.stopPropagation();\n        onConfirm(e);\n    }, [onConfirm]);\n    var handleClick = useCallback(function (e) {\n        e.stopPropagation();\n    }, []);\n    return (React.createElement(Dialog, { open: isOpen, onClose: onClose, onClick: handleClick, \"aria-labelledby\": \"alert-dialog-title\" },\n        React.createElement(DialogTitle, { id: \"alert-dialog-title\" }, translate(title, __assign({ _: title }, translateOptions))),\n        React.createElement(DialogContent, null, typeof content === 'string' ? (React.createElement(DialogContentText, null, translate(content, __assign({ _: content }, translateOptions)))) : (content)),\n        React.createElement(DialogActions, null,\n            React.createElement(Button, { disabled: loading, onClick: onClose },\n                React.createElement(CancelIcon, { className: classes.iconPaddingStyle }),\n                translate(cancel, { _: cancel })),\n            React.createElement(Button, { disabled: loading, onClick: handleConfirm, className: classnames('ra-confirm', (_a = {},\n                    _a[classes.confirmWarning] = confirmColor === 'warning',\n                    _a[classes.confirmPrimary] = confirmColor === 'primary',\n                    _a)), autoFocus: true },\n                React.createElement(ConfirmIcon, { className: classes.iconPaddingStyle }),\n                translate(confirm, { _: confirm })))));\n};\nConfirm.propTypes = {\n    cancel: PropTypes.string,\n    classes: PropTypes.object,\n    confirm: PropTypes.string,\n    confirmColor: PropTypes.string,\n    ConfirmIcon: PropTypes.elementType,\n    CancelIcon: PropTypes.elementType,\n    content: PropTypes.node.isRequired,\n    isOpen: PropTypes.bool,\n    loading: PropTypes.bool,\n    onClose: PropTypes.func.isRequired,\n    onConfirm: PropTypes.func.isRequired,\n    title: PropTypes.string.isRequired,\n};\nConfirm.defaultProps = {\n    cancel: 'ra.action.cancel',\n    classes: {},\n    confirm: 'ra.action.confirm',\n    confirmColor: 'primary',\n    ConfirmIcon: ActionCheck,\n    CancelIcon: AlertError,\n    isOpen: false,\n};\nexport default Confirm;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Fragment, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport { alpha } from '@material-ui/core/styles/colorManipulator';\nimport inflection from 'inflection';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, useDeleteMany, useRefresh, useNotify, useUnselectAll, CRUD_DELETE_MANY, useResourceContext, } from 'ra-core';\nimport Confirm from '../layout/Confirm';\nimport Button from './Button';\nvar useStyles = makeStyles(function (theme) { return ({\n    deleteButton: {\n        color: theme.palette.error.main,\n        '&:hover': {\n            backgroundColor: alpha(theme.palette.error.main, 0.12),\n            // Reset on mouse devices\n            '@media (hover: none)': {\n                backgroundColor: 'transparent',\n            },\n        },\n    },\n}); }, { name: 'RaBulkDeleteWithConfirmButton' });\nvar defaultIcon = React.createElement(ActionDelete, null);\nvar BulkDeleteWithConfirmButton = function (props) {\n    var basePath = props.basePath, classesOverride = props.classes, _a = props.confirmTitle, confirmTitle = _a === void 0 ? 'ra.message.bulk_delete_title' : _a, _b = props.confirmContent, confirmContent = _b === void 0 ? 'ra.message.bulk_delete_content' : _b, _c = props.icon, icon = _c === void 0 ? defaultIcon : _c, label = props.label, onClick = props.onClick, selectedIds = props.selectedIds, rest = __rest(props, [\"basePath\", \"classes\", \"confirmTitle\", \"confirmContent\", \"icon\", \"label\", \"onClick\", \"selectedIds\"]);\n    var _d = useState(false), isOpen = _d[0], setOpen = _d[1];\n    var classes = useStyles(props);\n    var notify = useNotify();\n    var unselectAll = useUnselectAll();\n    var refresh = useRefresh();\n    var translate = useTranslate();\n    var resource = useResourceContext(props);\n    var _e = useDeleteMany(resource, selectedIds, {\n        action: CRUD_DELETE_MANY,\n        onSuccess: function () {\n            refresh();\n            notify('ra.notification.deleted', 'info', {\n                smart_count: selectedIds.length,\n            });\n            unselectAll(resource);\n        },\n        onFailure: function (error) {\n            notify(typeof error === 'string'\n                ? error\n                : error.message || 'ra.notification.http_error', 'warning', {\n                _: typeof error === 'string'\n                    ? error\n                    : error && error.message\n                        ? error.message\n                        : undefined,\n            });\n            setOpen(false);\n        },\n    }), deleteMany = _e[0], loading = _e[1].loading;\n    var handleClick = function (e) {\n        setOpen(true);\n        e.stopPropagation();\n    };\n    var handleDialogClose = function () {\n        setOpen(false);\n    };\n    var handleDelete = function (e) {\n        deleteMany();\n        if (typeof onClick === 'function') {\n            onClick(e);\n        }\n    };\n    return (React.createElement(Fragment, null,\n        React.createElement(Button, __assign({ onClick: handleClick, label: label, className: classes.deleteButton }, sanitizeRestProps(rest)), icon),\n        React.createElement(Confirm, { isOpen: isOpen, loading: loading, title: confirmTitle, content: confirmContent, translateOptions: {\n                smart_count: selectedIds.length,\n                name: translate(\"resources.\" + resource + \".forcedCaseName\", {\n                    smart_count: selectedIds.length,\n                    _: inflection.humanize(translate(\"resources.\" + resource + \".name\", {\n                        smart_count: selectedIds.length,\n                        _: inflection.inflect(resource, selectedIds.length),\n                    }), true),\n                }),\n            }, onConfirm: handleDelete, onClose: handleDialogClose })));\n};\nvar sanitizeRestProps = function (_a) {\n    var basePath = _a.basePath, classes = _a.classes, filterValues = _a.filterValues, label = _a.label, rest = __rest(_a, [\"basePath\", \"classes\", \"filterValues\", \"label\"]);\n    return rest;\n};\nBulkDeleteWithConfirmButton.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.object,\n    confirmTitle: PropTypes.string,\n    confirmContent: PropTypes.string,\n    label: PropTypes.string,\n    resource: PropTypes.string,\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\n    icon: PropTypes.element,\n};\nBulkDeleteWithConfirmButton.defaultProps = {\n    label: 'ra.action.delete',\n};\nexport default BulkDeleteWithConfirmButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport { alpha } from '@material-ui/core/styles/colorManipulator';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useDeleteMany, useRefresh, useNotify, useUnselectAll, CRUD_DELETE_MANY, useResourceContext, useListContext, } from 'ra-core';\nimport Button from './Button';\nvar useStyles = makeStyles(function (theme) { return ({\n    deleteButton: {\n        color: theme.palette.error.main,\n        '&:hover': {\n            backgroundColor: alpha(theme.palette.error.main, 0.12),\n            // Reset on mouse devices\n            '@media (hover: none)': {\n                backgroundColor: 'transparent',\n            },\n        },\n    },\n}); }, { name: 'RaBulkDeleteWithUndoButton' });\nvar BulkDeleteWithUndoButton = function (props) {\n    var basePath = props.basePath, classesOverride = props.classes, icon = props.icon, label = props.label, onClick = props.onClick, rest = __rest(props, [\"basePath\", \"classes\", \"icon\", \"label\", \"onClick\"]);\n    var selectedIds = useListContext(props).selectedIds;\n    var classes = useStyles(props);\n    var notify = useNotify();\n    var unselectAll = useUnselectAll();\n    var refresh = useRefresh();\n    var resource = useResourceContext(props);\n    var _a = useDeleteMany(resource, selectedIds, {\n        action: CRUD_DELETE_MANY,\n        onSuccess: function () {\n            notify('ra.notification.deleted', 'info', { smart_count: selectedIds.length }, true);\n            unselectAll(resource);\n            refresh();\n        },\n        onFailure: function (error) {\n            notify(typeof error === 'string'\n                ? error\n                : error.message || 'ra.notification.http_error', 'warning', {\n                _: typeof error === 'string'\n                    ? error\n                    : error && error.message\n                        ? error.message\n                        : undefined,\n            });\n            refresh();\n        },\n        undoable: true,\n    }), deleteMany = _a[0], loading = _a[1].loading;\n    var handleClick = function (e) {\n        deleteMany();\n        if (typeof onClick === 'function') {\n            onClick(e);\n        }\n    };\n    return (React.createElement(Button, __assign({ onClick: handleClick, label: label, className: classes.deleteButton, disabled: loading }, sanitizeRestProps(rest)), icon));\n};\nvar sanitizeRestProps = function (_a) {\n    var basePath = _a.basePath, classes = _a.classes, filterValues = _a.filterValues, label = _a.label, selectedIds = _a.selectedIds, rest = __rest(_a, [\"basePath\", \"classes\", \"filterValues\", \"label\", \"selectedIds\"]);\n    return rest;\n};\nBulkDeleteWithUndoButton.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.object,\n    label: PropTypes.string,\n    resource: PropTypes.string,\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\n    icon: PropTypes.element,\n};\nBulkDeleteWithUndoButton.defaultProps = {\n    label: 'ra.action.delete',\n    icon: React.createElement(ActionDelete, null),\n};\nexport default BulkDeleteWithUndoButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport BulkDeleteWithConfirmButton from './BulkDeleteWithConfirmButton';\nimport BulkDeleteWithUndoButton from './BulkDeleteWithUndoButton';\n/**\n * Deletes the selected rows.\n *\n * To be used inside the <List bulkActionButtons> prop (where it's enabled by default).\n *\n * @example // basic usage\n * import * as React from 'react';\n * import { Fragment } from 'react';\n * import { BulkDeleteButton, BulkExportButton } from 'react-admin';\n *\n * const PostBulkActionButtons = ({ basePath }) => (\n *     <Fragment>\n *         <BulkExportButton />\n *         <BulkDeleteButton basePath={basePath} />\n *     </Fragment>\n * );\n *\n * export const PostList = (props) => (\n *     <List {...props} bulkActionButtons={<PostBulkActionButtons />}>\n *         ...\n *     </List>\n * );\n */\nvar BulkDeleteButton = function (props) {\n    return props.undoable ? (React.createElement(BulkDeleteWithUndoButton, __assign({}, props))) : (React.createElement(BulkDeleteWithConfirmButton, __assign({}, props)));\n};\nBulkDeleteButton.propTypes = {\n    basePath: PropTypes.string,\n    label: PropTypes.string,\n    resource: PropTypes.string,\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\n    undoable: PropTypes.bool,\n    icon: PropTypes.element,\n};\nBulkDeleteButton.defaultProps = {\n    undoable: true,\n};\nexport default BulkDeleteButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        root: (_a = {\n                display: 'flex',\n                justifyContent: 'flex-end',\n                alignItems: 'flex-start',\n                paddingTop: theme.spacing(3),\n                paddingBottom: theme.spacing(1),\n                minHeight: theme.spacing(5)\n            },\n            _a[theme.breakpoints.up('xs')] = {\n                paddingLeft: 0,\n                paddingRight: 0,\n            },\n            _a[theme.breakpoints.down('sm')] = {\n                paddingRight: theme.spacing(2),\n            },\n            _a[theme.breakpoints.down('xs')] = {\n                padding: theme.spacing(1),\n                backgroundColor: theme.palette.background.paper,\n            },\n            _a),\n    });\n}, { name: 'RaTopToolbar' });\nvar TopToolbar = function (props) {\n    var className = props.className, children = props.children, rest = __rest(props, [\"className\", \"children\"]);\n    var classes = useStyles(props);\n    return (React.createElement(Toolbar, __assign({ className: classnames(classes.root, className) }, rest), children));\n};\nTopToolbar.propTypes = {\n    children: PropTypes.node,\n    className: PropTypes.string,\n};\nexport default TopToolbar;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement, isValidElement } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { lighten } from '@material-ui/core/styles/colorManipulator';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { useTranslate, sanitizeListRestProps, useListContext } from 'ra-core';\nimport TopToolbar from '../layout/TopToolbar';\nvar useStyles = makeStyles(function (theme) { return ({\n    toolbar: {\n        zIndex: 3,\n        color: theme.palette.type === 'light'\n            ? theme.palette.primary.main\n            : theme.palette.text.primary,\n        justifyContent: 'space-between',\n        backgroundColor: theme.palette.type === 'light'\n            ? lighten(theme.palette.primary.light, 0.85)\n            : theme.palette.primary.dark,\n        minHeight: theme.spacing(8),\n        height: theme.spacing(8),\n        transition: theme.transitions.create('height') + \", \" + theme.transitions.create('min-height'),\n    },\n    topToolbar: {\n        paddingTop: theme.spacing(2),\n    },\n    buttons: {},\n    collapsed: {\n        minHeight: 0,\n        height: 0,\n        overflowY: 'hidden',\n    },\n    title: {\n        display: 'flex',\n        flex: '0 0 auto',\n    },\n    icon: {\n        marginLeft: '-0.5em',\n        marginRight: '0.5em',\n    },\n}); }, { name: 'RaBulkActionsToolbar' });\nvar BulkActionsToolbar = function (props) {\n    var _a;\n    var classesOverride = props.classes, _b = props.label, label = _b === void 0 ? 'ra.action.bulk_actions' : _b, children = props.children, rest = __rest(props, [\"classes\", \"label\", \"children\"]);\n    var _c = useListContext(props), basePath = _c.basePath, filterValues = _c.filterValues, resource = _c.resource, selectedIds = _c.selectedIds, onUnselectItems = _c.onUnselectItems;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(Toolbar, __assign({ \"data-test\": \"bulk-actions-toolbar\", className: classnames(classes.toolbar, (_a = {},\n            _a[classes.collapsed] = selectedIds.length === 0,\n            _a)) }, sanitizeListRestProps(rest)),\n        React.createElement(\"div\", { className: classes.title },\n            React.createElement(IconButton, { className: classes.icon, \"aria-label\": translate('ra.action.unselect'), title: translate('ra.action.unselect'), onClick: onUnselectItems, size: \"small\" },\n                React.createElement(CloseIcon, { fontSize: \"small\" })),\n            React.createElement(Typography, { color: \"inherit\", variant: \"subtitle1\" }, translate(label, {\n                _: label,\n                smart_count: selectedIds.length,\n            }))),\n        React.createElement(TopToolbar, { className: classes.topToolbar }, Children.map(children, function (child) {\n            return isValidElement(child)\n                ? cloneElement(child, {\n                    basePath: basePath,\n                    filterValues: filterValues,\n                    resource: resource,\n                    selectedIds: selectedIds,\n                })\n                : null;\n        }))));\n};\nBulkActionsToolbar.propTypes = {\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    label: PropTypes.string,\n};\nexport default BulkActionsToolbar;\n","import { useSelector } from 'react-redux';\nimport defaults from 'lodash/defaults';\nimport { getResources } from '../reducer';\nimport { useResourceContext } from './useResourceContext';\nimport { useMemo } from 'react';\n/**\n * Hook which returns the definition of the requested resource\n */\nexport var useResourceDefinition = function (props) {\n    var resource = useResourceContext(props);\n    var resources = useSelector(getResources);\n    var hasCreate = props.hasCreate, hasEdit = props.hasEdit, hasList = props.hasList, hasShow = props.hasShow;\n    var definition = useMemo(function () {\n        var definitionFromRedux = resources.find(function (r) { return (r === null || r === void 0 ? void 0 : r.name) === resource; });\n        return defaults({}, {\n            hasCreate: hasCreate,\n            hasEdit: hasEdit,\n            hasList: hasList,\n            hasShow: hasShow,\n        }, definitionFromRedux);\n    }, [resource, resources, hasCreate, hasEdit, hasList, hasShow]);\n    return definition;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Fab, useMediaQuery } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ContentAdd from '@material-ui/icons/Add';\nimport classnames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport { useTranslate, useResourceContext } from 'ra-core';\nimport Button, { sanitizeButtonRestProps } from './Button';\n/**\n * Opens the Create view of a given resource\n *\n * Renders as a regular button on desktop, and a Floating Action Button\n * on mobile.\n *\n * @example // basic usage\n * import { CreateButton } from 'react-admin';\n *\n * const CommentCreateButton = () => (\n *     <CreateButton basePath=\"/comments\" label=\"Create comment\" />\n * );\n */\nvar CreateButton = function (props) {\n    var _a = props.basePath, basePath = _a === void 0 ? '' : _a, className = props.className, classesOverride = props.classes, _b = props.icon, icon = _b === void 0 ? defaultIcon : _b, _c = props.label, label = _c === void 0 ? 'ra.action.create' : _c, _d = props.scrollToTop, scrollToTop = _d === void 0 ? true : _d, variant = props.variant, rest = __rest(props, [\"basePath\", \"className\", \"classes\", \"icon\", \"label\", \"scrollToTop\", \"variant\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var isSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('sm');\n    });\n    var resource = useResourceContext();\n    var location = useMemo(function () { return ({\n        pathname: basePath ? basePath + \"/create\" : \"/\" + resource + \"/create\",\n        state: { _scrollToTop: scrollToTop },\n    }); }, [basePath, resource, scrollToTop]);\n    return isSmall ? (React.createElement(Fab, __assign({ component: Link, color: \"primary\", className: classnames(classes.floating, className), to: location, \"aria-label\": label && translate(label) }, sanitizeButtonRestProps(rest)), icon)) : (React.createElement(Button, __assign({ component: Link, to: location, className: className, label: label, variant: variant }, rest), icon));\n};\nvar defaultIcon = React.createElement(ContentAdd, null);\nvar useStyles = makeStyles(function (theme) { return ({\n    floating: {\n        color: theme.palette.getContrastText(theme.palette.primary.main),\n        margin: 0,\n        top: 'auto',\n        right: 20,\n        bottom: 60,\n        left: 'auto',\n        position: 'fixed',\n        zIndex: 1000,\n    },\n}); }, { name: 'RaCreateButton' });\nCreateButton.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    icon: PropTypes.element,\n    label: PropTypes.string,\n};\nexport default memo(CreateButton, function (prevProps, nextProps) {\n    return (prevProps.basePath === nextProps.basePath &&\n        prevProps.label === nextProps.label &&\n        prevProps.translate === nextProps.translate &&\n        prevProps.to === nextProps.to &&\n        prevProps.disabled === nextProps.disabled);\n});\n","/**\n * Helper function for calling the dataProvider.getMany() method,\n * and getting a Promise for the records indexed by id in return.\n *\n * @example\n *     fetchRelatedRecords(dataProvider)(records, 'post_id', 'posts').then(posts =>\n *         posts.map(record => ({\n *             ...record,\n *             post_title: posts[record.post_id].title,\n *         }))\n *     );\n */\nvar fetchRelatedRecords = function (dataProvider) { return function (data, field, resource) {\n    return dataProvider\n        .getMany(resource, { ids: getRelatedIds(data, field) })\n        .then(function (_a) {\n        var data = _a.data;\n        return data.reduce(function (acc, post) {\n            acc[post.id] = post;\n            return acc;\n        }, {});\n    });\n}; };\n/**\n * Extracts, aggregates and deduplicates the ids of related records\n *\n * @example\n *     const books = [\n *         { id: 1, author_id: 123, title: 'Pride and Prejudice' },\n *         { id: 2, author_id: 123, title: 'Sense and Sensibility' },\n *         { id: 3, author_id: 456, title: 'War and Peace' },\n *     ];\n *     getRelatedIds(books, 'author_id'); => [123, 456]\n *\n * @example\n *     const books = [\n *         { id: 1, tag_ids: [1, 2], title: 'Pride and Prejudice' },\n *         { id: 2, tag_ids: [2, 3], title: 'Sense and Sensibility' },\n *         { id: 3, tag_ids: [4], title: 'War and Peace' },\n *     ];\n *     getRelatedIds(records, 'tag_ids'); => [1, 2, 3, 4]\n *\n * @param {Object[]} records An array of records\n * @param {string} field the identifier of the record field to use\n */\nexport var getRelatedIds = function (records, field) {\n    return Array.from(new Set(records\n        .filter(function (record) { return record[field] != null; })\n        .map(function (record) { return record[field]; })\n        .reduce(function (ids, value) { return ids.concat(value); }, [])));\n};\nexport default fetchRelatedRecords;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport DownloadIcon from '@material-ui/icons/GetApp';\nimport { fetchRelatedRecords, useDataProvider, useNotify, useListContext, useResourceContext, } from 'ra-core';\nimport Button from './Button';\nvar ExportButton = function (props) {\n    var _a = props.maxResults, maxResults = _a === void 0 ? 1000 : _a, onClick = props.onClick, _b = props.label, label = _b === void 0 ? 'ra.action.export' : _b, _c = props.icon, icon = _c === void 0 ? defaultIcon : _c, customExporter = props.exporter, sort = props.sort, // deprecated, to be removed in v4\n    rest = __rest(props, [\"maxResults\", \"onClick\", \"label\", \"icon\", \"exporter\", \"sort\"]);\n    var _d = useListContext(props), filter = _d.filter, filterValues = _d.filterValues, currentSort = _d.currentSort, exporterFromContext = _d.exporter, total = _d.total;\n    var resource = useResourceContext(props);\n    var exporter = customExporter || exporterFromContext;\n    var dataProvider = useDataProvider();\n    var notify = useNotify();\n    var handleClick = useCallback(function (event) {\n        dataProvider\n            .getList(resource, {\n            sort: currentSort || sort,\n            filter: filter\n                ? __assign(__assign({}, filterValues), filter) : filterValues,\n            pagination: { page: 1, perPage: maxResults },\n        })\n            .then(function (_a) {\n            var data = _a.data;\n            return exporter &&\n                exporter(data, fetchRelatedRecords(dataProvider), dataProvider, resource);\n        })\n            .catch(function (error) {\n            console.error(error);\n            notify('ra.notification.http_error', 'warning');\n        });\n        if (typeof onClick === 'function') {\n            onClick(event);\n        }\n    }, [\n        currentSort,\n        dataProvider,\n        exporter,\n        filter,\n        filterValues,\n        maxResults,\n        notify,\n        onClick,\n        resource,\n        sort,\n    ]);\n    return (React.createElement(Button, __assign({ onClick: handleClick, label: label, disabled: total === 0 }, sanitizeRestProps(rest)), icon));\n};\nvar defaultIcon = React.createElement(DownloadIcon, null);\nvar sanitizeRestProps = function (_a) {\n    var basePath = _a.basePath, filterValues = _a.filterValues, resource = _a.resource, rest = __rest(_a, [\"basePath\", \"filterValues\", \"resource\"]);\n    return rest;\n};\nExportButton.propTypes = {\n    basePath: PropTypes.string,\n    exporter: PropTypes.func,\n    filterValues: PropTypes.object,\n    label: PropTypes.string,\n    maxResults: PropTypes.number,\n    resource: PropTypes.string,\n    sort: PropTypes.exact({\n        field: PropTypes.string,\n        order: PropTypes.string,\n    }),\n    icon: PropTypes.element,\n};\nexport default ExportButton;\n","import * as React from 'react';\nimport { forwardRef, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { FieldTitle, useResourceContext } from 'ra-core';\nexport var FilterButtonMenuItem = forwardRef(function (props, ref) {\n    var filter = props.filter, onShow = props.onShow;\n    var resource = useResourceContext(props);\n    var handleShow = useCallback(function () {\n        onShow({\n            source: filter.props.source,\n            defaultValue: filter.props.defaultValue,\n        });\n    }, [filter.props.defaultValue, filter.props.source, onShow]);\n    return (React.createElement(MenuItem, { className: \"new-filter-item\", \"data-key\": filter.props.source, \"data-default-value\": filter.props.defaultValue, key: filter.props.source, onClick: handleShow, ref: ref },\n        React.createElement(FieldTitle, { label: filter.props.label, source: filter.props.source, resource: resource })));\n});\nFilterButtonMenuItem.propTypes = {\n    filter: PropTypes.element.isRequired,\n    onShow: PropTypes.func.isRequired,\n    resource: PropTypes.string,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useState, useCallback, useRef, useContext, } from 'react';\nimport PropTypes from 'prop-types';\nimport Menu from '@material-ui/core/Menu';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ContentFilter from '@material-ui/icons/FilterList';\nimport classnames from 'classnames';\nimport lodashGet from 'lodash/get';\nimport { useListContext, useResourceContext } from 'ra-core';\nimport { FilterButtonMenuItem } from './FilterButtonMenuItem';\nimport Button from '../../button/Button';\nimport { FilterContext } from '../FilterContext';\nvar useStyles = makeStyles({\n    root: { display: 'inline-block' },\n}, { name: 'RaFilterButton' });\nvar FilterButton = function (props) {\n    var filtersProp = props.filters, classesOverride = props.classes, className = props.className, rest = __rest(props, [\"filters\", \"classes\", \"className\"]);\n    var filters = useContext(FilterContext) || filtersProp;\n    var resource = useResourceContext(props);\n    var _a = useListContext(props), _b = _a.displayedFilters, displayedFilters = _b === void 0 ? {} : _b, filterValues = _a.filterValues, showFilter = _a.showFilter;\n    var _c = useState(false), open = _c[0], setOpen = _c[1];\n    var anchorEl = useRef();\n    var classes = useStyles(props);\n    var hiddenFilters = filters.filter(function (filterElement) {\n        return !filterElement.props.alwaysOn &&\n            !displayedFilters[filterElement.props.source] &&\n            typeof lodashGet(filterValues, filterElement.props.source) ===\n                'undefined';\n    });\n    var handleClickButton = useCallback(function (event) {\n        // This prevents ghost click.\n        event.preventDefault();\n        setOpen(true);\n        anchorEl.current = event.currentTarget;\n    }, [anchorEl, setOpen]);\n    var handleRequestClose = useCallback(function () {\n        setOpen(false);\n    }, [setOpen]);\n    var handleShow = useCallback(function (_a) {\n        var source = _a.source, defaultValue = _a.defaultValue;\n        showFilter(source, defaultValue);\n        setOpen(false);\n    }, [showFilter, setOpen]);\n    if (hiddenFilters.length === 0)\n        return null;\n    return (React.createElement(\"div\", __assign({ className: classnames(classes.root, className) }, sanitizeRestProps(rest)),\n        React.createElement(Button, { className: \"add-filter\", label: \"ra.action.add_filter\", onClick: handleClickButton },\n            React.createElement(ContentFilter, null)),\n        React.createElement(Menu, { open: open, anchorEl: anchorEl.current, onClose: handleRequestClose }, hiddenFilters.map(function (filterElement) { return (React.createElement(FilterButtonMenuItem, { key: filterElement.props.source, filter: filterElement, resource: resource, onShow: handleShow })); }))));\n};\nvar sanitizeRestProps = function (_a) {\n    var _b = _a.displayedFilters, displayedFilters = _b === void 0 ? null : _b, _c = _a.filterValues, filterValues = _c === void 0 ? null : _c, _d = _a.showFilter, showFilter = _d === void 0 ? null : _d, rest = __rest(_a, [\"displayedFilters\", \"filterValues\", \"showFilter\"]);\n    return rest;\n};\nFilterButton.propTypes = {\n    resource: PropTypes.string,\n    filters: PropTypes.arrayOf(PropTypes.node),\n    displayedFilters: PropTypes.object,\n    filterValues: PropTypes.object,\n    showFilter: PropTypes.func,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n};\nexport default FilterButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { cloneElement, useMemo, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { sanitizeListRestProps, useListContext, useResourceContext, useResourceDefinition, } from 'ra-core';\nimport TopToolbar from '../layout/TopToolbar';\nimport { CreateButton, ExportButton } from '../button';\nimport { FilterContext } from './FilterContext';\nimport FilterButton from './filter/FilterButton';\n/**\n * Action Toolbar for the List view\n *\n * Internal component. If you want to add or remove actions for a List view,\n * write your own ListActions Component. Then, in the <List> component,\n * use it in the `actions` prop to pass a custom component.\n *\n * @example\n *     import { cloneElement } from 'react';\n *     import Button from '@material-ui/core/Button';\n *     import { TopToolbar, List, CreateButton, ExportButton } from 'react-admin';\n *\n *     const PostListActions = ({ basePath, filters }) => (\n *         <TopToolbar>\n *             { cloneElement(filters, { context: 'button' }) }\n *             <CreateButton/>\n *             <ExportButton/>\n *             // Add your custom actions here //\n *             <Button onClick={customAction}>Custom Action</Button>\n *         </TopToolbar>\n *     );\n *\n *     export const PostList = (props) => (\n *         <List actions={<PostListActions />} {...props}>\n *             ...\n *         </List>\n *     );\n */\nvar ListActions = function (props) {\n    var className = props.className, exporter = props.exporter, filtersProp = props.filters, rest = __rest(props, [\"className\", \"exporter\", \"filters\"]);\n    var _a = useListContext(props), currentSort = _a.currentSort, displayedFilters = _a.displayedFilters, filterValues = _a.filterValues, basePath = _a.basePath, selectedIds = _a.selectedIds, showFilter = _a.showFilter, total = _a.total;\n    var resource = useResourceContext(rest);\n    var hasCreate = useResourceDefinition(rest).hasCreate;\n    var filters = useContext(FilterContext) || filtersProp;\n    return useMemo(function () { return (React.createElement(TopToolbar, __assign({ className: className }, sanitizeListRestProps(rest)),\n        filtersProp\n            ? cloneElement(filtersProp, {\n                resource: resource,\n                showFilter: showFilter,\n                displayedFilters: displayedFilters,\n                filterValues: filterValues,\n                context: 'button',\n            })\n            : filters && React.createElement(FilterButton, null),\n        hasCreate && React.createElement(CreateButton, { basePath: basePath }),\n        exporter !== false && (React.createElement(ExportButton, { disabled: total === 0, resource: resource, sort: currentSort, filterValues: filterValues })))); }, [resource, displayedFilters, filterValues, selectedIds, filters, total] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n};\nListActions.propTypes = {\n    basePath: PropTypes.string,\n    className: PropTypes.string,\n    currentSort: PropTypes.any,\n    displayedFilters: PropTypes.object,\n    exporter: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n    filters: PropTypes.element,\n    filterValues: PropTypes.object,\n    hasCreate: PropTypes.bool,\n    resource: PropTypes.string,\n    onUnselectItems: PropTypes.func.isRequired,\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\n    showFilter: PropTypes.func,\n    total: PropTypes.number,\n};\nListActions.defaultProps = {\n    selectedIds: [],\n    onUnselectItems: function () { return null; },\n};\nexport default ListActions;\n","import * as React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Inbox from '@material-ui/icons/Inbox';\nimport { useTranslate, useListContext, useResourceContext, useGetResourceLabel, } from 'ra-core';\nimport { CreateButton } from '../button';\nexport var Empty = function (props) {\n    var _a = useListContext(props), basePath = _a.basePath, hasCreate = _a.hasCreate;\n    var resource = useResourceContext(props);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var getResourceLabel = useGetResourceLabel();\n    var resourceName = translate(\"resources.\" + resource + \".forcedCaseName\", {\n        smart_count: 0,\n        _: getResourceLabel(resource, 0),\n    });\n    var emptyMessage = translate('ra.page.empty', { name: resourceName });\n    var inviteMessage = translate('ra.page.invite');\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"div\", { className: classes.message },\n            React.createElement(Inbox, { className: classes.icon }),\n            React.createElement(Typography, { variant: \"h4\", paragraph: true }, translate(\"resources.\" + resource + \".empty\", {\n                _: emptyMessage,\n            })),\n            hasCreate && (React.createElement(Typography, { variant: \"body1\" }, translate(\"resources.\" + resource + \".invite\", {\n                _: inviteMessage,\n            })))),\n        hasCreate && (React.createElement(\"div\", { className: classes.toolbar },\n            React.createElement(CreateButton, { variant: \"contained\", basePath: basePath })))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    message: {\n        textAlign: 'center',\n        opacity: theme.palette.type === 'light' ? 0.5 : 0.8,\n        margin: '0 1em',\n        color: theme.palette.type === 'light'\n            ? 'inherit'\n            : theme.palette.text.primary,\n    },\n    icon: {\n        width: '9em',\n        height: '9em',\n    },\n    toolbar: {\n        textAlign: 'center',\n        marginTop: '2em',\n    },\n}); }, { name: 'RaEmpty' });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Card from '@material-ui/core/Card';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ComponentPropType, defaultExporter, useListContext, getListControllerProps, useVersion, } from 'ra-core';\nimport Title, { TitlePropType } from '../layout/Title';\nimport ListToolbar from './ListToolbar';\nimport DefaultPagination from './pagination/Pagination';\nimport BulkDeleteButton from '../button/BulkDeleteButton';\nimport BulkActionsToolbar from './BulkActionsToolbar';\nimport DefaultActions from './ListActions';\nimport { Empty } from './Empty';\nexport var ListView = function (props) {\n    var actions = props.actions, aside = props.aside, filters = props.filters, bulkActionButtons = props.bulkActionButtons, pagination = props.pagination, children = props.children, className = props.className, classesOverride = props.classes, Content = props.component, _a = props.exporter, exporter = _a === void 0 ? defaultExporter : _a, title = props.title, empty = props.empty, rest = __rest(props, [\"actions\", \"aside\", \"filters\", \"bulkActionButtons\", \"pagination\", \"children\", \"className\", \"classes\", \"component\", \"exporter\", \"title\", \"empty\"]);\n    var controllerProps = getListControllerProps(props); // deprecated, to be removed in v4\n    var listContext = useListContext(props);\n    var classes = useStyles(props);\n    var defaultTitle = listContext.defaultTitle, total = listContext.total, loaded = listContext.loaded, loading = listContext.loading, filterValues = listContext.filterValues, selectedIds = listContext.selectedIds;\n    var version = useVersion();\n    var renderList = function () {\n        var _a;\n        return (React.createElement(React.Fragment, null,\n            (filters || actions) && (React.createElement(ListToolbar, __assign({ filters: filters }, controllerProps, { actions: actions, exporter: exporter }))),\n            React.createElement(\"div\", { className: classes.main },\n                React.createElement(Content, { className: classnames(classes.content, (_a = {},\n                        _a[classes.bulkActionsDisplayed] = selectedIds.length > 0,\n                        _a)), key: version },\n                    bulkActionButtons !== false && bulkActionButtons && (React.createElement(BulkActionsToolbar, __assign({}, controllerProps), bulkActionButtons)),\n                    children &&\n                        // @ts-ignore-line\n                        cloneElement(Children.only(children), __assign(__assign({}, controllerProps), { hasBulkActions: bulkActionButtons !== false })),\n                    pagination && cloneElement(pagination, listContext)),\n                aside && cloneElement(aside, listContext))));\n    };\n    var shouldRenderEmptyPage = loaded && !loading && total === 0 && !Object.keys(filterValues).length;\n    return (React.createElement(\"div\", __assign({ className: classnames('list-page', classes.root, className) }, sanitizeRestProps(rest)),\n        React.createElement(Title, { title: title, defaultTitle: defaultTitle }),\n        shouldRenderEmptyPage && empty !== false\n            ? cloneElement(empty, listContext)\n            : renderList()));\n};\nListView.propTypes = {\n    // @ts-ignore-line\n    actions: PropTypes.oneOfType([PropTypes.bool, PropTypes.element]),\n    aside: PropTypes.element,\n    basePath: PropTypes.string,\n    // @ts-ignore-line\n    bulkActionButtons: PropTypes.oneOfType([PropTypes.bool, PropTypes.element]),\n    children: PropTypes.element,\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    component: ComponentPropType,\n    // @ts-ignore-line\n    currentSort: PropTypes.shape({\n        field: PropTypes.string.isRequired,\n        order: PropTypes.string.isRequired,\n    }),\n    data: PropTypes.any,\n    defaultTitle: PropTypes.string,\n    displayedFilters: PropTypes.object,\n    // @ts-ignore-line\n    exporter: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n    filterDefaultValues: PropTypes.object,\n    filters: PropTypes.oneOfType([\n        PropTypes.element,\n        PropTypes.arrayOf(PropTypes.element),\n    ]),\n    filterValues: PropTypes.object,\n    hasCreate: PropTypes.bool,\n    hideFilter: PropTypes.func,\n    ids: PropTypes.array,\n    loading: PropTypes.bool,\n    onSelect: PropTypes.func,\n    onToggleItem: PropTypes.func,\n    onUnselectItems: PropTypes.func,\n    page: PropTypes.number,\n    // @ts-ignore-line\n    pagination: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\n    perPage: PropTypes.number,\n    refresh: PropTypes.func,\n    resource: PropTypes.string,\n    selectedIds: PropTypes.array,\n    setFilters: PropTypes.func,\n    setPage: PropTypes.func,\n    setPerPage: PropTypes.func,\n    setSort: PropTypes.func,\n    showFilter: PropTypes.func,\n    title: TitlePropType,\n    total: PropTypes.number,\n    version: PropTypes.number,\n};\nvar DefaultBulkActionButtons = function (props) { return React.createElement(BulkDeleteButton, __assign({}, props)); };\nListView.defaultProps = {\n    actions: React.createElement(DefaultActions, null),\n    classes: {},\n    component: Card,\n    bulkActionButtons: React.createElement(DefaultBulkActionButtons, null),\n    pagination: React.createElement(DefaultPagination, null),\n    empty: React.createElement(Empty, null),\n};\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        root: {},\n        main: {\n            display: 'flex',\n        },\n        content: (_a = {\n                marginTop: 0,\n                transition: theme.transitions.create('margin-top'),\n                position: 'relative',\n                flex: '1 1 auto'\n            },\n            _a[theme.breakpoints.down('xs')] = {\n                boxShadow: 'none',\n            },\n            _a.overflow = 'inherit',\n            _a),\n        bulkActionsDisplayed: {\n            marginTop: -theme.spacing(8),\n            transition: theme.transitions.create('margin-top'),\n        },\n        actions: {\n            zIndex: 2,\n            display: 'flex',\n            justifyContent: 'flex-end',\n            flexWrap: 'wrap',\n        },\n        noResults: { padding: 20 },\n    });\n}, { name: 'RaList' });\nvar sanitizeRestProps = function (_a) {\n    var _b = _a.basePath, basePath = _b === void 0 ? null : _b, _c = _a.currentSort, currentSort = _c === void 0 ? null : _c, _d = _a.data, data = _d === void 0 ? null : _d, _e = _a.defaultTitle, defaultTitle = _e === void 0 ? null : _e, _f = _a.displayedFilters, displayedFilters = _f === void 0 ? null : _f, _g = _a.filterDefaultValues, filterDefaultValues = _g === void 0 ? null : _g, _h = _a.filterValues, filterValues = _h === void 0 ? null : _h, _j = _a.hasCreate, hasCreate = _j === void 0 ? null : _j, _k = _a.hasEdit, hasEdit = _k === void 0 ? null : _k, _l = _a.hasList, hasList = _l === void 0 ? null : _l, _m = _a.hasShow, hasShow = _m === void 0 ? null : _m, _o = _a.hideFilter, hideFilter = _o === void 0 ? null : _o, _p = _a.history, history = _p === void 0 ? null : _p, _q = _a.ids, ids = _q === void 0 ? null : _q, _r = _a.loading, loading = _r === void 0 ? null : _r, _s = _a.loaded, loaded = _s === void 0 ? null : _s, _t = _a.location, location = _t === void 0 ? null : _t, _u = _a.match, match = _u === void 0 ? null : _u, _v = _a.onSelect, onSelect = _v === void 0 ? null : _v, _w = _a.onToggleItem, onToggleItem = _w === void 0 ? null : _w, _x = _a.onUnselectItems, onUnselectItems = _x === void 0 ? null : _x, _y = _a.options, options = _y === void 0 ? null : _y, _z = _a.page, page = _z === void 0 ? null : _z, _0 = _a.permissions, permissions = _0 === void 0 ? null : _0, _1 = _a.perPage, perPage = _1 === void 0 ? null : _1, _2 = _a.refetch, refetch = _2 === void 0 ? null : _2, _3 = _a.resource, resource = _3 === void 0 ? null : _3, _4 = _a.selectedIds, selectedIds = _4 === void 0 ? null : _4, _5 = _a.setFilters, setFilters = _5 === void 0 ? null : _5, _6 = _a.setPage, setPage = _6 === void 0 ? null : _6, _7 = _a.setPerPage, setPerPage = _7 === void 0 ? null : _7, _8 = _a.setSort, setSort = _8 === void 0 ? null : _8, _9 = _a.showFilter, showFilter = _9 === void 0 ? null : _9, _10 = _a.syncWithLocation, syncWithLocation = _10 === void 0 ? null : _10, _11 = _a.sort, sort = _11 === void 0 ? null : _11, _12 = _a.total, total = _12 === void 0 ? null : _12, rest = __rest(_a, [\"basePath\", \"currentSort\", \"data\", \"defaultTitle\", \"displayedFilters\", \"filterDefaultValues\", \"filterValues\", \"hasCreate\", \"hasEdit\", \"hasList\", \"hasShow\", \"hideFilter\", \"history\", \"ids\", \"loading\", \"loaded\", \"location\", \"match\", \"onSelect\", \"onToggleItem\", \"onUnselectItems\", \"options\", \"page\", \"permissions\", \"perPage\", \"refetch\", \"resource\", \"selectedIds\", \"setFilters\", \"setPage\", \"setPerPage\", \"setSort\", \"showFilter\", \"syncWithLocation\", \"sort\", \"total\"]);\n    return rest;\n};\nexport default ListView;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { useCheckMinimumRequiredProps, useListController, ListContextProvider, } from 'ra-core';\nimport { TitlePropType } from '../layout/Title';\nimport ListView from './ListView';\n/**\n * List page component\n *\n * The <List> component renders the list layout (title, buttons, filters, pagination),\n * and fetches the list of records from the REST API.\n * It then delegates the rendering of the list of records to its child component.\n * Usually, it's a <Datagrid>, responsible for displaying a table with one row for each post.\n *\n * In Redux terms, <List> is a connected component, and <Datagrid> is a dumb component.\n *\n * The <List> component accepts the following props:\n *\n * - actions\n * - aside\n * - bulkActionButtons\n * - component\n * - empty\n * - exporter\n * - filter (the permanent filter to apply to the query)\n * - filterDefaultValues (the default values for `alwaysOn` filters)\n * - filters (a list of inputs used to display the filter button/form combo)\n * - pagination\n * - perPage\n * - sort\n * - title\n * - syncWithLocation\n *\n * @example\n *\n * const postFilters = [\n *     <TextInput label=\"Search\" source=\"q\" alwaysOn />,\n *     <TextInput label=\"Title\" source=\"title\" />\n * ];\n * export const PostList = (props) => (\n *     <List {...props}\n *         title=\"List of posts\"\n *         sort={{ field: 'published_at' }}\n *         filter={{ is_published: true }}\n *         filters={postFilters}\n *     >\n *         <Datagrid>\n *             <TextField source=\"id\" />\n *             <TextField source=\"title\" />\n *             <EditButton />\n *         </Datagrid>\n *     </List>\n * );\n */\nvar List = function (props) {\n    useCheckMinimumRequiredProps('List', ['children'], props);\n    var controllerProps = useListController(props);\n    return (React.createElement(ListContextProvider, { value: controllerProps },\n        React.createElement(ListView, __assign({}, props, controllerProps))));\n};\nList.propTypes = {\n    // the props you can change\n    // @ts-ignore-line\n    actions: PropTypes.oneOfType([PropTypes.bool, PropTypes.element]),\n    aside: PropTypes.element,\n    // @ts-ignore-line\n    bulkActionButtons: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\n    children: PropTypes.element,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    filter: PropTypes.object,\n    filterDefaultValues: PropTypes.object,\n    filters: PropTypes.oneOfType([\n        PropTypes.element,\n        PropTypes.arrayOf(PropTypes.element),\n    ]),\n    // @ts-ignore-line\n    pagination: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\n    perPage: PropTypes.number.isRequired,\n    //@ts-ignore-line\n    sort: PropTypes.shape({\n        field: PropTypes.string,\n        order: PropTypes.string,\n    }),\n    title: TitlePropType,\n    // the props managed by react-admin\n    authProvider: PropTypes.func,\n    hasCreate: PropTypes.bool,\n    hasEdit: PropTypes.bool,\n    hasList: PropTypes.bool,\n    hasShow: PropTypes.bool,\n    location: PropTypes.any,\n    match: PropTypes.any,\n    path: PropTypes.string,\n    resource: PropTypes.string,\n    syncWithLocation: PropTypes.bool,\n};\nList.defaultProps = {\n    filter: {},\n    perPage: 10,\n};\nexport default List;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { TableCell, TableSortLabel, Tooltip } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldTitle, useTranslate, useResourceContext, } from 'ra-core';\n// remove the sort icons when not active\nvar useStyles = makeStyles({\n    icon: {\n        display: 'none',\n    },\n    active: {\n        '& $icon': {\n            display: 'inline',\n        },\n    },\n}, { name: 'RaDatagridHeaderCell' });\nexport var DatagridHeaderCell = function (props) {\n    var className = props.className, classesOverride = props.classes, field = props.field, currentSort = props.currentSort, updateSort = props.updateSort, isSorting = props.isSorting, rest = __rest(props, [\"className\", \"classes\", \"field\", \"currentSort\", \"updateSort\", \"isSorting\"]);\n    var resource = useResourceContext(props);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(TableCell, __assign({ className: classnames(className, field.props.headerClassName), align: field.props.textAlign, variant: \"head\" }, rest), updateSort &&\n        field.props.sortable !== false &&\n        (field.props.sortBy || field.props.source) ? (React.createElement(Tooltip, { title: translate('ra.action.sort'), placement: field.props.textAlign === 'right'\n            ? 'bottom-end'\n            : 'bottom-start', enterDelay: 300 },\n        React.createElement(TableSortLabel, { active: currentSort.field ===\n                (field.props.sortBy || field.props.source), direction: currentSort.order === 'ASC' ? 'asc' : 'desc', \"data-sort\": field.props.sortBy || field.props.source, \"data-field\": field.props.sortBy || field.props.source, \"data-order\": field.props.sortByOrder || 'ASC', onClick: updateSort, classes: classes },\n            React.createElement(FieldTitle, { label: field.props.label, source: field.props.source, resource: resource })))) : (React.createElement(FieldTitle, { label: field.props.label, source: field.props.source, resource: resource }))));\n};\nDatagridHeaderCell.propTypes = {\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    field: PropTypes.element,\n    currentSort: PropTypes.shape({\n        sort: PropTypes.string,\n        order: PropTypes.string,\n    }).isRequired,\n    isSorting: PropTypes.bool,\n    resource: PropTypes.string,\n    updateSort: PropTypes.func,\n};\nexport default memo(DatagridHeaderCell, function (props, nextProps) {\n    return props.updateSort === nextProps.updateSort &&\n        props.currentSort.field === nextProps.currentSort.field &&\n        props.currentSort.order === nextProps.currentSort.order &&\n        props.isSorting === nextProps.isSorting &&\n        props.resource === nextProps.resource;\n});\n","import * as React from 'react';\nimport { Children, isValidElement, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useListContext, useResourceContext, useTranslate, } from 'ra-core';\nimport { Checkbox, TableCell, TableHead, TableRow } from '@material-ui/core';\nimport classnames from 'classnames';\nimport DatagridHeaderCell from './DatagridHeaderCell';\n/**\n * The default Datagrid Header component.\n *\n * Renders select all checkbox as well as column header buttons used for sorting.\n */\nexport var DatagridHeader = function (props) {\n    var children = props.children, classes = props.classes, className = props.className, _a = props.hasExpand, hasExpand = _a === void 0 ? false : _a, _b = props.hasBulkActions, hasBulkActions = _b === void 0 ? false : _b, isRowSelectable = props.isRowSelectable;\n    var resource = useResourceContext(props);\n    var translate = useTranslate();\n    var _c = useListContext(props), currentSort = _c.currentSort, data = _c.data, ids = _c.ids, onSelect = _c.onSelect, selectedIds = _c.selectedIds, setSort = _c.setSort;\n    var updateSortCallback = useCallback(function (event) {\n        event.stopPropagation();\n        var newField = event.currentTarget.dataset.field;\n        var newOrder = currentSort.field === newField\n            ? currentSort.order === 'ASC'\n                ? 'DESC'\n                : 'ASC'\n            : event.currentTarget.dataset.order;\n        setSort(newField, newOrder);\n    }, [currentSort.field, currentSort.order, setSort]);\n    var updateSort = setSort ? updateSortCallback : null;\n    var handleSelectAll = useCallback(function (event) {\n        if (event.target.checked) {\n            var all = ids.concat(selectedIds.filter(function (id) { return !ids.includes(id); }));\n            onSelect(isRowSelectable\n                ? all.filter(function (id) { return isRowSelectable(data[id]); })\n                : all);\n        }\n        else {\n            onSelect([]);\n        }\n    }, [data, ids, onSelect, isRowSelectable, selectedIds]);\n    var selectableIds = isRowSelectable\n        ? ids.filter(function (id) { return isRowSelectable(data[id]); })\n        : ids;\n    return (React.createElement(TableHead, { className: classnames(className, classes.thead) },\n        React.createElement(TableRow, { className: classnames(classes.row, classes.headerRow) },\n            hasExpand && (React.createElement(TableCell, { padding: \"none\", className: classnames(classes.headerCell, classes.expandHeader) })),\n            hasBulkActions && selectedIds && (React.createElement(TableCell, { padding: \"checkbox\", className: classes.headerCell },\n                React.createElement(Checkbox, { \"aria-label\": translate('ra.action.select_all', {\n                        _: 'Select all',\n                    }), className: \"select-all\", color: \"primary\", checked: selectedIds.length > 0 &&\n                        selectableIds.length > 0 &&\n                        selectableIds.every(function (id) {\n                            return selectedIds.includes(id);\n                        }), onChange: handleSelectAll }))),\n            Children.map(children, function (field, index) {\n                return isValidElement(field) ? (React.createElement(DatagridHeaderCell, { className: classes.headerCell, currentSort: currentSort, field: field, isSorting: currentSort.field ===\n                        (field.props.sortBy ||\n                            field.props.source), key: field.props.source || index, resource: resource, updateSort: updateSort })) : null;\n            }))));\n};\nDatagridHeader.propTypes = {\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    currentSort: PropTypes.exact({\n        field: PropTypes.string,\n        order: PropTypes.string,\n    }),\n    data: PropTypes.any,\n    hasExpand: PropTypes.bool,\n    hasBulkActions: PropTypes.bool,\n    ids: PropTypes.arrayOf(PropTypes.any),\n    isRowSelectable: PropTypes.func,\n    isRowExpandable: PropTypes.func,\n    onSelect: PropTypes.func,\n    onToggleItem: PropTypes.func,\n    resource: PropTypes.string,\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\n    setSort: PropTypes.func,\n};\nDatagridHeader.displayName = 'DatagridHeader';\n","import * as React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        backgroundColor: theme.palette.grey[300],\n        display: 'flex',\n    },\n}); }, { name: 'RaPlaceholder' });\nvar Placeholder = function (props) {\n    var classes = useStyles(props);\n    return (React.createElement(\"span\", { className: classnames(classes.root, props.className) }, \"\\u00A0\"));\n};\nexport default Placeholder;\n","import * as React from 'react';\nimport { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Table, TableCell, TableHead, TableRow, TableBody, IconButton, Checkbox, } from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport classnames from 'classnames';\nimport { useTimeout } from 'ra-core';\nimport Placeholder from '../Placeholder';\nvar times = function (nbChildren, fn) {\n    return Array.from({ length: nbChildren }, function (_, key) { return fn(key); });\n};\nvar DatagridLoading = function (_a) {\n    var classes = _a.classes, className = _a.className, expand = _a.expand, hasBulkActions = _a.hasBulkActions, nbChildren = _a.nbChildren, _b = _a.nbFakeLines, nbFakeLines = _b === void 0 ? 5 : _b, size = _a.size;\n    var oneSecondHasPassed = useTimeout(1000);\n    return oneSecondHasPassed ? (React.createElement(Table, { className: classnames(classes.table, className), size: size },\n        React.createElement(TableHead, null,\n            React.createElement(TableRow, { className: classes.row },\n                expand && (React.createElement(TableCell, { padding: \"none\", className: classes.expandHeader })),\n                hasBulkActions && (React.createElement(TableCell, { padding: \"checkbox\", className: classes.expandIconCell },\n                    React.createElement(Checkbox, { className: \"select-all\", color: \"primary\", checked: false }))),\n                times(nbChildren, function (key) { return (React.createElement(TableCell, { variant: \"head\", className: classes.headerCell, key: key },\n                    React.createElement(Placeholder, null))); }))),\n        React.createElement(TableBody, null, times(nbFakeLines, function (key1) { return (React.createElement(TableRow, { key: key1, style: { opacity: 1 / (key1 + 1) } },\n            expand && (React.createElement(TableCell, { padding: \"none\", className: classes.expandIconCell },\n                React.createElement(IconButton, { className: classes.expandIcon, component: \"div\", \"aria-hidden\": \"true\" },\n                    React.createElement(ExpandMoreIcon, null)))),\n            hasBulkActions && (React.createElement(TableCell, { padding: \"checkbox\", className: classes.expandIconCell },\n                React.createElement(Checkbox, { className: \"select-all\", color: \"primary\", checked: false }))),\n            times(nbChildren, function (key2) { return (React.createElement(TableCell, { className: classes.rowCell, key: key2 },\n                React.createElement(Placeholder, null))); }))); })))) : null;\n};\nDatagridLoading.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    hasBulkActions: PropTypes.bool,\n    nbChildren: PropTypes.number,\n    nbFakeLines: PropTypes.number,\n    size: PropTypes.oneOf(['small', 'medium']),\n};\nexport default memo(DatagridLoading);\n","import { useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { toggleListItemExpand } from '../actions/listActions';\n/**\n * State-like hook for controlling the expanded state of a list item\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {string|integer} id The record identifier, e.g. 123\n *\n * @returns {Object} Destructure as [expanded, toggleExpanded].\n *\n * @example\n *\n * const [expanded, toggleExpanded] = useExpanded('posts', 123);\n * const expandIcon = expanded ? ExpandLess : ExpandMore;\n * const onExpandClick = () => toggleExpanded();\n */\nvar useExpanded = function (resource, id) {\n    var dispatch = useDispatch();\n    var expandedList = useSelector(function (reduxState) {\n        return reduxState.admin.resources[resource]\n            ? reduxState.admin.resources[resource].list.expanded\n            : undefined;\n    });\n    var expanded = expandedList === undefined\n        ? false\n        : expandedList.map(function (el) { return el == id; }).indexOf(true) !== -1; // eslint-disable-line eqeqeq\n    var toggleExpanded = useCallback(function () {\n        dispatch(toggleListItemExpand(resource, id));\n    }, [dispatch, resource, id]);\n    return [expanded, toggleExpanded];\n};\nexport default useExpanded;\n","import * as React from 'react';\nimport { createContext, useContext } from 'react';\n/**\n * Context to store the current record.\n *\n * Use the useRecordContext() hook to read the context. That's what the Edit and Show components do in react-admin.\n *\n * @example\n *\n * import { useEditController, EditContext } from 'ra-core';\n *\n * const Edit = props => {\n *     const { record } = useEditController(props);\n *     return (\n *         <RecordContextProvider value={record}>\n *             ...\n *         </RecordContextProvider>\n *     );\n * };\n */\nexport var RecordContext = createContext(undefined);\nexport var RecordContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(RecordContext.Provider, { value: value }, children));\n};\nRecordContext.displayName = 'RecordContext';\n/**\n * Hook to read the record from a RecordContext.\n *\n * Must be used within a <RecordContext> such as provided by the <EditContextProvider>\n * (e.g. as a descendent of <Edit> or <EditBase>) or within a <ShowContextProvider>\n * (e.g. as a descendent of <Show> or <ShowBase>)\n *\n * @example // basic usage\n *\n * import { useRecordContext } from 'ra-core';\n *\n * const TitleField = () => {\n *     const record = useRecordContext();\n *     return <span>{record && record.title}</span>;\n * };\n *\n * @example // allow record override via props\n *\n * import { useRecordContext } from 'ra-core';\n *\n * const TitleField = (props) => {\n *     const record = useRecordContext(props);\n *     return <span>{record && record.title}</span>;\n * };\n * render(<TextField record={record} />);\n *\n * @returns {Record} A record object\n */\nexport var useRecordContext = function (props) {\n    // Can't find a way to specify the RecordType when CreateContext is declared\n    // @ts-ignore\n    var context = useContext(RecordContext);\n    return (props && props.record) || context;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport TableCell from '@material-ui/core/TableCell';\nimport classnames from 'classnames';\nvar DatagridCell = React.forwardRef(function (_a, ref) {\n    var className = _a.className, field = _a.field, record = _a.record, basePath = _a.basePath, resource = _a.resource, rest = __rest(_a, [\"className\", \"field\", \"record\", \"basePath\", \"resource\"]);\n    return (React.createElement(TableCell, __assign({ className: classnames(className, field.props.cellClassName), align: field.props.textAlign, ref: ref }, rest), React.cloneElement(field, {\n        record: record,\n        basePath: field.props.basePath || basePath,\n        resource: resource,\n    })));\n});\nDatagridCell.propTypes = {\n    className: PropTypes.string,\n    field: PropTypes.element,\n    // @ts-ignore\n    record: PropTypes.object,\n    basePath: PropTypes.string,\n    resource: PropTypes.string,\n};\n// What? TypeScript loses the displayName if we don't set it explicitly\nDatagridCell.displayName = 'DatagridCell';\nexport default DatagridCell;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport classNames from 'classnames';\nimport { useTranslate } from 'ra-core';\nvar ExpandRowButton = function (_a) {\n    var _b;\n    var classes = _a.classes, expanded = _a.expanded, expandContentId = _a.expandContentId, props = __rest(_a, [\"classes\", \"expanded\", \"expandContentId\"]);\n    var translate = useTranslate();\n    return (React.createElement(IconButton, __assign({ \"aria-label\": translate(expanded ? 'ra.action.close' : 'ra.action.expand'), \"aria-expanded\": expanded, \"aria-controls\": expandContentId, className: classNames(classes.expandIcon, (_b = {},\n            _b[classes.expanded] = expanded,\n            _b)), tabIndex: -1, \"aria-hidden\": \"true\", component: \"div\" }, props),\n        React.createElement(ExpandMoreIcon, null)));\n};\nexport default memo(ExpandRowButton);\n","import { createContext } from 'react';\nvar DatagridContext = createContext({});\nDatagridContext.displayName = 'DatagridContext';\nexport default DatagridContext;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { isValidElement, cloneElement, createElement, useState, useEffect, useCallback, memo, } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { TableCell, TableRow, Checkbox, } from '@material-ui/core';\nimport { linkToRecord, RecordContextProvider, useExpanded, useResourceContext, useTranslate, } from 'ra-core';\nimport { shallowEqual } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport DatagridCell from './DatagridCell';\nimport ExpandRowButton from './ExpandRowButton';\nimport { useDatagridContext } from './useDatagridContext';\nvar computeNbColumns = function (expand, children, hasBulkActions) {\n    return expand\n        ? 1 + // show expand button\n            (hasBulkActions ? 1 : 0) + // checkbox column\n            React.Children.toArray(children).filter(function (child) { return !!child; }).length // non-null children\n        : 0;\n}; // we don't need to compute columns if there is no expand panel;\nvar defaultClasses = {\n    expandIconCell: '',\n    checkbox: '',\n    rowCell: '',\n    expandedPanel: '',\n};\nvar DatagridRow = React.forwardRef(function (props, ref) {\n    var basePath = props.basePath, children = props.children, _a = props.classes, classes = _a === void 0 ? defaultClasses : _a, className = props.className, expand = props.expand, hasBulkActions = props.hasBulkActions, hover = props.hover, id = props.id, onToggleItem = props.onToggleItem, record = props.record, rowClick = props.rowClick, selected = props.selected, style = props.style, selectable = props.selectable, rest = __rest(props, [\"basePath\", \"children\", \"classes\", \"className\", \"expand\", \"hasBulkActions\", \"hover\", \"id\", \"onToggleItem\", \"record\", \"rowClick\", \"selected\", \"style\", \"selectable\"]);\n    var context = useDatagridContext();\n    var translate = useTranslate();\n    var expandable = (!context ||\n        !context.isRowExpandable ||\n        context.isRowExpandable(record)) &&\n        expand;\n    var resource = useResourceContext(props);\n    var _b = useExpanded(resource, id), expanded = _b[0], toggleExpanded = _b[1];\n    var _c = useState(function () {\n        return computeNbColumns(expandable, children, hasBulkActions);\n    }), nbColumns = _c[0], setNbColumns = _c[1];\n    useEffect(function () {\n        // Fields can be hidden dynamically based on permissions;\n        // The expand panel must span over the remaining columns\n        // So we must recompute the number of columns to span on\n        var newNbColumns = computeNbColumns(expandable, children, hasBulkActions);\n        if (newNbColumns !== nbColumns) {\n            setNbColumns(newNbColumns);\n        }\n    }, [expandable, nbColumns, children, hasBulkActions]);\n    var history = useHistory();\n    var handleToggleExpand = useCallback(function (event) {\n        toggleExpanded();\n        event.stopPropagation();\n    }, [toggleExpanded]);\n    var handleToggleSelection = useCallback(function (event) {\n        if (!selectable)\n            return;\n        onToggleItem(id, event);\n        event.stopPropagation();\n    }, [id, onToggleItem, selectable]);\n    var handleClick = useCallback(function (event) { return __awaiter(void 0, void 0, void 0, function () {\n        var effect, _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (!rowClick)\n                        return [2 /*return*/];\n                    event.persist();\n                    if (!(typeof rowClick === 'function')) return [3 /*break*/, 2];\n                    return [4 /*yield*/, rowClick(id, basePath || \"/\" + resource, record)];\n                case 1:\n                    _a = _b.sent();\n                    return [3 /*break*/, 3];\n                case 2:\n                    _a = rowClick;\n                    _b.label = 3;\n                case 3:\n                    effect = _a;\n                    switch (effect) {\n                        case 'edit':\n                            history.push(linkToRecord(basePath || \"/\" + resource, id));\n                            return [2 /*return*/];\n                        case 'show':\n                            history.push(linkToRecord(basePath || \"/\" + resource, id, 'show'));\n                            return [2 /*return*/];\n                        case 'expand':\n                            handleToggleExpand(event);\n                            return [2 /*return*/];\n                        case 'toggleSelection':\n                            handleToggleSelection(event);\n                            return [2 /*return*/];\n                        default:\n                            if (effect)\n                                history.push(effect);\n                            return [2 /*return*/];\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    }); }, [\n        basePath,\n        history,\n        handleToggleExpand,\n        handleToggleSelection,\n        id,\n        record,\n        resource,\n        rowClick,\n    ]);\n    return (React.createElement(RecordContextProvider, { value: record },\n        React.createElement(TableRow, __assign({ ref: ref, className: className, key: id, style: style, hover: hover, onClick: handleClick }, rest),\n            expand && (React.createElement(TableCell, { padding: \"none\", className: classes.expandIconCell }, expandable && (React.createElement(ExpandRowButton, { classes: classes, expanded: expanded, onClick: handleToggleExpand, expandContentId: id + \"-expand\" })))),\n            hasBulkActions && (React.createElement(TableCell, { padding: \"checkbox\" }, selectable && (React.createElement(Checkbox, { \"aria-label\": translate('ra.action.select_row', {\n                    _: 'Select this row',\n                }), color: \"primary\", className: \"select-item \" + classes.checkbox, checked: selected, onClick: handleToggleSelection })))),\n            React.Children.map(children, function (field, index) {\n                return isValidElement(field) ? (React.createElement(DatagridCell, __assign({ key: id + \"-\" + (field.props.source || index), className: classnames(\"column-\" + field.props.source, classes.rowCell), record: record }, { field: field, basePath: basePath, resource: resource }))) : null;\n            })),\n        expandable && expanded && (React.createElement(TableRow, { key: id + \"-expand\", id: id + \"-expand\", className: classes.expandedPanel },\n            React.createElement(TableCell, { colSpan: nbColumns }, isValidElement(expand)\n                ? cloneElement(expand, {\n                    // @ts-ignore\n                    record: record,\n                    basePath: basePath,\n                    resource: resource,\n                    id: String(id),\n                })\n                : createElement(expand, {\n                    record: record,\n                    basePath: basePath,\n                    resource: resource,\n                    id: String(id),\n                }))))));\n});\nDatagridRow.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.node,\n    classes: PropTypes.any,\n    className: PropTypes.string,\n    // @ts-ignore\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    hasBulkActions: PropTypes.bool.isRequired,\n    hover: PropTypes.bool,\n    id: PropTypes.any,\n    onToggleItem: PropTypes.func,\n    // @ts-ignore\n    record: PropTypes.object,\n    resource: PropTypes.string,\n    // @ts-ignore\n    rowClick: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    selected: PropTypes.bool,\n    style: PropTypes.object,\n    selectable: PropTypes.bool,\n};\nDatagridRow.defaultProps = {\n    hasBulkActions: false,\n    hover: true,\n    selected: false,\n    selectable: true,\n};\nvar areEqual = function (prevProps, nextProps) {\n    var _1 = prevProps.children, _2 = prevProps.expand, prevPropsWithoutChildren = __rest(prevProps, [\"children\", \"expand\"]);\n    var _3 = nextProps.children, _4 = nextProps.expand, nextPropsWithoutChildren = __rest(nextProps, [\"children\", \"expand\"]);\n    return shallowEqual(prevPropsWithoutChildren, nextPropsWithoutChildren);\n};\nexport var PureDatagridRow = memo(DatagridRow, areEqual);\nPureDatagridRow.displayName = 'PureDatagridRow';\nexport default DatagridRow;\n","import { useContext, useMemo } from 'react';\nimport DatagridContext from './DatagridContext';\nimport defaults from 'lodash/defaults';\nexport var useDatagridContext = function (props) {\n    var context = useContext(DatagridContext);\n    return useMemo(function () {\n        return defaults({}, props != null ? { isRowExpandable: props.isRowExpandable } : {}, context);\n    }, [context, props]);\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { cloneElement, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { TableBody } from '@material-ui/core';\nimport classnames from 'classnames';\nimport { shallowEqual } from 'react-redux';\nimport DatagridRow, { PureDatagridRow } from './DatagridRow';\nvar DatagridBody = React.forwardRef(function (_a, ref) {\n    var basePath = _a.basePath, children = _a.children, classes = _a.classes, className = _a.className, data = _a.data, expand = _a.expand, hasBulkActions = _a.hasBulkActions, hover = _a.hover, ids = _a.ids, onToggleItem = _a.onToggleItem, resource = _a.resource, row = _a.row, rowClick = _a.rowClick, rowStyle = _a.rowStyle, selectedIds = _a.selectedIds, isRowSelectable = _a.isRowSelectable, rest = __rest(_a, [\"basePath\", \"children\", \"classes\", \"className\", \"data\", \"expand\", \"hasBulkActions\", \"hover\", \"ids\", \"onToggleItem\", \"resource\", \"row\", \"rowClick\", \"rowStyle\", \"selectedIds\", \"isRowSelectable\"]);\n    return (React.createElement(TableBody, __assign({ ref: ref, className: classnames('datagrid-body', className) }, rest), ids.map(function (id, rowIndex) {\n        var _a;\n        return cloneElement(row, {\n            basePath: basePath,\n            classes: classes,\n            className: classnames(classes.row, (_a = {},\n                _a[classes.rowEven] = rowIndex % 2 === 0,\n                _a[classes.rowOdd] = rowIndex % 2 !== 0,\n                _a[classes.clickableRow] = rowClick,\n                _a)),\n            expand: expand,\n            hasBulkActions: hasBulkActions && !!selectedIds,\n            hover: hover,\n            id: id,\n            key: id,\n            onToggleItem: onToggleItem,\n            record: data[id],\n            resource: resource,\n            rowClick: rowClick,\n            selectable: !isRowSelectable || isRowSelectable(data[id]),\n            selected: selectedIds === null || selectedIds === void 0 ? void 0 : selectedIds.includes(id),\n            style: rowStyle ? rowStyle(data[id], rowIndex) : null,\n        }, children);\n    })));\n});\nDatagridBody.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.any,\n    className: PropTypes.string,\n    children: PropTypes.node,\n    // @ts-ignore\n    data: PropTypes.object.isRequired,\n    // @ts-ignore\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    hasBulkActions: PropTypes.bool.isRequired,\n    hover: PropTypes.bool,\n    ids: PropTypes.arrayOf(PropTypes.any).isRequired,\n    onToggleItem: PropTypes.func,\n    resource: PropTypes.string,\n    row: PropTypes.element,\n    rowClick: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    rowStyle: PropTypes.func,\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\n    styles: PropTypes.object,\n    isRowSelectable: PropTypes.func,\n};\nDatagridBody.defaultProps = {\n    data: {},\n    hasBulkActions: false,\n    ids: [],\n    row: React.createElement(DatagridRow, null),\n};\n// trick material-ui Table into thinking this is one of the child type it supports\n// @ts-ignore\nDatagridBody.muiName = 'TableBody';\nvar areEqual = function (prevProps, nextProps) {\n    var _1 = prevProps.children, _2 = prevProps.expand, _3 = prevProps.row, prevPropsWithoutChildren = __rest(prevProps, [\"children\", \"expand\", \"row\"]);\n    var _4 = nextProps.children, _5 = nextProps.expand, _6 = nextProps.row, nextPropsWithoutChildren = __rest(nextProps, [\"children\", \"expand\", \"row\"]);\n    return shallowEqual(prevPropsWithoutChildren, nextPropsWithoutChildren);\n};\nexport var PureDatagridBody = memo(DatagridBody, areEqual);\n// trick material-ui Table into thinking this is one of the child type it supports\n// @ts-ignore\nPureDatagridBody.muiName = 'TableBody';\n// @ts-ignore\nPureDatagridBody.defaultProps = {\n    row: React.createElement(PureDatagridRow, null),\n};\nexport default DatagridBody;\n","import { makeStyles } from '@material-ui/core/styles';\nvar useDatagridStyles = makeStyles(function (theme) { return ({\n    table: {\n        tableLayout: 'auto',\n    },\n    thead: {},\n    tbody: {},\n    headerRow: {},\n    headerCell: {\n        position: 'sticky',\n        top: 0,\n        zIndex: 2,\n        backgroundColor: theme.palette.background.paper,\n        '&:first-child': {\n            borderTopLeftRadius: theme.shape.borderRadius,\n        },\n        '&:last-child': {\n            borderTopRightRadius: theme.shape.borderRadius,\n        },\n    },\n    checkbox: {},\n    row: {},\n    clickableRow: {\n        cursor: 'pointer',\n    },\n    rowEven: {},\n    rowOdd: {},\n    rowCell: {},\n    expandHeader: {\n        padding: 0,\n        width: theme.spacing(6),\n    },\n    expandIconCell: {\n        width: theme.spacing(6),\n    },\n    expandIcon: {\n        padding: theme.spacing(1),\n        transform: 'rotate(-90deg)',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest,\n        }),\n    },\n    expanded: {\n        transform: 'rotate(0deg)',\n    },\n    expandedPanel: {},\n}); }, { name: 'RaDatagrid' });\nexport default useDatagridStyles;\n","import React from 'react';\nimport DatagridContext from './DatagridContext';\nvar DatagridContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(DatagridContext.Provider, { value: value }, children));\n};\nexport default DatagridContextProvider;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { cloneElement, createElement, isValidElement, useCallback, useRef, useEffect, useMemo, } from 'react';\nimport PropTypes from 'prop-types';\nimport { sanitizeListRestProps, useListContext, useVersion, } from 'ra-core';\nimport { Table } from '@material-ui/core';\nimport classnames from 'classnames';\nimport union from 'lodash/union';\nimport difference from 'lodash/difference';\nimport { DatagridHeader } from './DatagridHeader';\nimport DatagridLoading from './DatagridLoading';\nimport DatagridBody, { PureDatagridBody } from './DatagridBody';\nimport useDatagridStyles from './useDatagridStyles';\nimport DatagridContextProvider from './DatagridContextProvider';\n/**\n * The Datagrid component renders a list of records as a table.\n * It is usually used as a child of the <List> and <ReferenceManyField> components.\n *\n * Props:\n *  - rowStyle\n *\n * @example Display all posts as a datagrid\n * const postRowStyle = (record, index) => ({\n *     backgroundColor: record.nb_views >= 500 ? '#efe' : 'white',\n * });\n * export const PostList = (props) => (\n *     <List {...props}>\n *         <Datagrid rowStyle={postRowStyle}>\n *             <TextField source=\"id\" />\n *             <TextField source=\"title\" />\n *             <TextField source=\"body\" />\n *             <EditButton />\n *         </Datagrid>\n *     </List>\n * );\n *\n * @example Display all the comments of the current post as a datagrid\n * <ReferenceManyField reference=\"comments\" target=\"post_id\">\n *     <Datagrid>\n *         <TextField source=\"id\" />\n *         <TextField source=\"body\" />\n *         <DateField source=\"created_at\" />\n *         <EditButton />\n *     </Datagrid>\n * </ReferenceManyField>\n *\n *\n * @example Usage outside of a <List> or a <ReferenceManyField>.\n *\n * const currentSort = { field: 'published_at', order: 'DESC' };\n *\n * export const MyCustomList = (props) => {\n *     const { ids, data, total, loaded } = useGetList(\n *         'posts',\n *         { page: 1, perPage: 10 },\n *         currentSort\n *     );\n *\n *     return (\n *         <Datagrid\n *             basePath=\"\"\n *             currentSort={currentSort}\n *             data={data}\n *             ids={ids}\n *             selectedIds={[]}\n *             loaded={loaded}\n *             total={total}\n *             setSort={() => {\n *                 console.log('set sort');\n *             }}\n *             onSelect={() => {\n *                 console.log('on select');\n *             }}\n *             onToggleItem={() => {\n *                 console.log('on toggle item');\n *             }}\n *         >\n *             <TextField source=\"id\" />\n *             <TextField source=\"title\" />\n *         </Datagrid>\n *     );\n * }\n */\nvar Datagrid = React.forwardRef(function (props, ref) {\n    var classes = useDatagridStyles(props);\n    var _a = props.optimized, optimized = _a === void 0 ? false : _a, _b = props.body, body = _b === void 0 ? optimized ? PureDatagridBody : DatagridBody : _b, _c = props.header, header = _c === void 0 ? DatagridHeader : _c, children = props.children, classesOverride = props.classes, className = props.className, empty = props.empty, expand = props.expand, _d = props.hasBulkActions, hasBulkActions = _d === void 0 ? false : _d, hover = props.hover, isRowSelectable = props.isRowSelectable, isRowExpandable = props.isRowExpandable, resource = props.resource, rowClick = props.rowClick, rowStyle = props.rowStyle, _e = props.size, size = _e === void 0 ? 'small' : _e, rest = __rest(props, [\"optimized\", \"body\", \"header\", \"children\", \"classes\", \"className\", \"empty\", \"expand\", \"hasBulkActions\", \"hover\", \"isRowSelectable\", \"isRowExpandable\", \"resource\", \"rowClick\", \"rowStyle\", \"size\"]);\n    var _f = useListContext(props), basePath = _f.basePath, currentSort = _f.currentSort, data = _f.data, ids = _f.ids, loaded = _f.loaded, onSelect = _f.onSelect, onToggleItem = _f.onToggleItem, selectedIds = _f.selectedIds, setSort = _f.setSort, total = _f.total;\n    var version = useVersion();\n    var contextValue = useMemo(function () { return ({ isRowExpandable: isRowExpandable }); }, [\n        isRowExpandable,\n    ]);\n    var lastSelected = useRef(null);\n    useEffect(function () {\n        if (!selectedIds || selectedIds.length === 0) {\n            lastSelected.current = null;\n        }\n    }, [JSON.stringify(selectedIds)]); // eslint-disable-line react-hooks/exhaustive-deps\n    var handleToggleItem = useCallback(function (id, event) {\n        var lastSelectedIndex = ids.indexOf(lastSelected.current);\n        lastSelected.current = event.target.checked ? id : null;\n        if (event.shiftKey && lastSelectedIndex !== -1) {\n            var index = ids.indexOf(id);\n            var idsBetweenSelections = ids.slice(Math.min(lastSelectedIndex, index), Math.max(lastSelectedIndex, index) + 1);\n            var newSelectedIds = event.target.checked\n                ? union(selectedIds, idsBetweenSelections)\n                : difference(selectedIds, idsBetweenSelections);\n            onSelect(isRowSelectable\n                ? newSelectedIds.filter(function (id) {\n                    return isRowSelectable(data[id]);\n                })\n                : newSelectedIds);\n        }\n        else {\n            onToggleItem(id);\n        }\n    }, [data, ids, isRowSelectable, onSelect, onToggleItem, selectedIds]);\n    /**\n     * if loaded is false, the list displays for the first time, and the dataProvider hasn't answered yet\n     * if loaded is true, the data for the list has at least been returned once by the dataProvider\n     * if loaded is undefined, the Datagrid parent doesn't track loading state (e.g. ReferenceArrayField)\n     */\n    if (loaded === false) {\n        return (React.createElement(DatagridLoading, { classes: classes, className: className, expand: expand, hasBulkActions: hasBulkActions, nbChildren: React.Children.count(children), size: size }));\n    }\n    /**\n     * Once loaded, the data for the list may be empty. Instead of\n     * displaying the table header with zero data rows,\n     * the datagrid displays nothing or a custom empty component.\n     */\n    if (loaded && (ids.length === 0 || total === 0)) {\n        if (empty) {\n            return empty;\n        }\n        return null;\n    }\n    /**\n     * After the initial load, if the data for the list isn't empty,\n     * and even if the data is refreshing (e.g. after a filter change),\n     * the datagrid displays the current data.\n     */\n    return (React.createElement(DatagridContextProvider, { value: contextValue },\n        React.createElement(Table, __assign({ ref: ref, className: classnames(classes.table, className), size: size }, sanitizeListRestProps(rest)),\n            createOrCloneElement(header, {\n                children: children,\n                classes: classes,\n                className: className,\n                currentSort: currentSort,\n                data: data,\n                hasExpand: !!expand,\n                hasBulkActions: hasBulkActions,\n                ids: ids,\n                isRowSelectable: isRowSelectable,\n                onSelect: onSelect,\n                resource: resource,\n                selectedIds: selectedIds,\n                setSort: setSort,\n            }, children),\n            createOrCloneElement(body, {\n                basePath: basePath,\n                className: classes.tbody,\n                classes: classes,\n                expand: expand,\n                rowClick: rowClick,\n                data: data,\n                hasBulkActions: hasBulkActions,\n                hover: hover,\n                ids: ids,\n                onToggleItem: handleToggleItem,\n                resource: resource,\n                rowStyle: rowStyle,\n                selectedIds: selectedIds,\n                isRowSelectable: isRowSelectable,\n                version: version,\n            }, children))));\n});\nvar createOrCloneElement = function (element, props, children) {\n    return isValidElement(element)\n        ? cloneElement(element, props, children)\n        : createElement(element, props, children);\n};\nDatagrid.propTypes = {\n    basePath: PropTypes.string,\n    // @ts-ignore\n    body: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    children: PropTypes.node.isRequired,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    currentSort: PropTypes.exact({\n        field: PropTypes.string,\n        order: PropTypes.string,\n    }),\n    data: PropTypes.any,\n    empty: PropTypes.element,\n    // @ts-ignore\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    hasBulkActions: PropTypes.bool,\n    // @ts-ignore\n    header: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    hover: PropTypes.bool,\n    ids: PropTypes.arrayOf(PropTypes.any),\n    loading: PropTypes.bool,\n    onSelect: PropTypes.func,\n    onToggleItem: PropTypes.func,\n    resource: PropTypes.string,\n    rowClick: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    rowStyle: PropTypes.func,\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\n    setSort: PropTypes.func,\n    total: PropTypes.number,\n    version: PropTypes.number,\n    isRowSelectable: PropTypes.func,\n    isRowExpandable: PropTypes.func,\n};\nDatagrid.displayName = 'Datagrid';\nexport default Datagrid;\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar sanitizeFieldRestProps = function (_a) {\n    var addLabel = _a.addLabel, allowEmpty = _a.allowEmpty, basePath = _a.basePath, cellClassName = _a.cellClassName, className = _a.className, emptyText = _a.emptyText, formClassName = _a.formClassName, fullWidth = _a.fullWidth, headerClassName = _a.headerClassName, label = _a.label, linkType = _a.linkType, link = _a.link, locale = _a.locale, record = _a.record, refetch = _a.refetch, resource = _a.resource, sortable = _a.sortable, sortBy = _a.sortBy, sortByOrder = _a.sortByOrder, source = _a.source, textAlign = _a.textAlign, translateChoice = _a.translateChoice, props = __rest(_a, [\"addLabel\", \"allowEmpty\", \"basePath\", \"cellClassName\", \"className\", \"emptyText\", \"formClassName\", \"fullWidth\", \"headerClassName\", \"label\", \"linkType\", \"link\", \"locale\", \"record\", \"refetch\", \"resource\", \"sortable\", \"sortBy\", \"sortByOrder\", \"source\", \"textAlign\", \"translateChoice\"]);\n    return props;\n};\nexport default sanitizeFieldRestProps;\n","import PropTypes from 'prop-types';\nexport var fieldPropTypes = {\n    addLabel: PropTypes.bool,\n    sortBy: PropTypes.string,\n    sortByOrder: PropTypes.oneOf(['ASC', 'DESC']),\n    source: PropTypes.string,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    sortable: PropTypes.bool,\n    className: PropTypes.string,\n    cellClassName: PropTypes.string,\n    headerClassName: PropTypes.string,\n    textAlign: PropTypes.oneOf([\n        'inherit',\n        'left',\n        'center',\n        'right',\n        'justify',\n    ]),\n    emptyText: PropTypes.string,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport Typography from '@material-ui/core/Typography';\nimport { useRecordContext } from 'ra-core';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\nimport { fieldPropTypes } from './types';\nvar toLocaleStringSupportsLocales = (function () {\n    // from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString\n    try {\n        new Date().toLocaleString('i');\n    }\n    catch (error) {\n        return error instanceof RangeError;\n    }\n    return false;\n})();\n/**\n * Display a date value as a locale string.\n *\n * Uses Intl.DateTimeFormat() if available, passing the locales and options props as arguments.\n * If Intl is not available, it outputs date as is (and ignores the locales and options props).\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString\n * @example\n * <DateField source=\"published_at\" />\n * // renders the record { id: 1234, published_at: new Date('2012-11-07') } as\n * <span>07/11/2012</span>\n *\n * <DateField source=\"published_at\" className=\"red\" />\n * // renders the record { id: 1234, new Date('2012-11-07') } as\n * <span class=\"red\">07/11/2012</span>\n *\n * <DateField source=\"share\" options={{ weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }} />\n * // renders the record { id: 1234, new Date('2012-11-07') } as\n * <span>Wednesday, November 7, 2012</span>\n *\n * <DateField source=\"price\" locales=\"fr-FR\" options={{ weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }} />\n * // renders the record { id: 1234, new Date('2012-11-07') } as\n * <span>mercredi 7 novembre 2012</span>\n */\nexport var DateField = memo(function (props) {\n    var className = props.className, emptyText = props.emptyText, locales = props.locales, options = props.options, _a = props.showTime, showTime = _a === void 0 ? false : _a, source = props.source, rest = __rest(props, [\"className\", \"emptyText\", \"locales\", \"options\", \"showTime\", \"source\"]);\n    var record = useRecordContext(props);\n    if (!record) {\n        return null;\n    }\n    var value = get(record, source);\n    if (value == null || value === '') {\n        return emptyText ? (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeFieldRestProps(rest)), emptyText)) : null;\n    }\n    var date = value instanceof Date ? value : new Date(value);\n    var dateString = showTime\n        ? toLocaleStringSupportsLocales\n            ? date.toLocaleString(locales, options)\n            : date.toLocaleString()\n        : toLocaleStringSupportsLocales\n            ? date.toLocaleDateString(locales, options)\n            : date.toLocaleDateString();\n    return (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeFieldRestProps(rest)), dateString));\n});\nDateField.defaultProps = {\n    addLabel: true,\n};\nDateField.propTypes = __assign(__assign(__assign({}, Typography.propTypes), fieldPropTypes), { locales: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.arrayOf(PropTypes.string),\n    ]), options: PropTypes.object, showTime: PropTypes.bool });\nDateField.displayName = 'DateField';\nexport default DateField;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport Typography from '@material-ui/core/Typography';\nimport { useRecordContext } from 'ra-core';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\nimport { fieldPropTypes } from './types';\nvar hasNumberFormat = !!(typeof Intl === 'object' &&\n    Intl &&\n    typeof Intl.NumberFormat === 'function');\n/**\n * Display a numeric value as a locale string.\n *\n * Uses Intl.NumberFormat() if available, passing the locales and options props as arguments.\n * If Intl is not available, it outputs number as is (and ignores the locales and options props).\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString\n * @example\n * <NumberField source=\"score\" />\n * // renders the record { id: 1234, score: 567 } as\n * <span>567</span>\n *\n * <NumberField source=\"score\" className=\"red\" />\n * // renders the record { id: 1234, score: 567 } as\n * <span class=\"red\">567</span>\n *\n * <NumberField source=\"share\" options={{ style: 'percent' }} />\n * // renders the record { id: 1234, share: 0.2545 } as\n * <span>25%</span>\n *\n * <NumberField source=\"price\" options={{ style: 'currency', currency: 'USD' }} />\n * // renders the record { id: 1234, price: 25.99 } as\n * <span>$25.99</span>\n *\n * <NumberField source=\"price\" locales=\"fr-FR\" options={{ style: 'currency', currency: 'USD' }} />\n * // renders the record { id: 1234, price: 25.99 } as\n * <span>25,99 $US</span>\n */\nexport var NumberField = memo(function (props) {\n    var className = props.className, emptyText = props.emptyText, source = props.source, locales = props.locales, options = props.options, textAlign = props.textAlign, rest = __rest(props, [\"className\", \"emptyText\", \"source\", \"locales\", \"options\", \"textAlign\"]);\n    var record = useRecordContext(props);\n    if (!record) {\n        return null;\n    }\n    var value = get(record, source);\n    if (value == null) {\n        return emptyText ? (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeFieldRestProps(rest)), emptyText)) : null;\n    }\n    return (React.createElement(Typography, __assign({ variant: \"body2\", component: \"span\", className: className }, sanitizeFieldRestProps(rest)), hasNumberFormat ? value.toLocaleString(locales, options) : value));\n});\n// what? TypeScript loses the displayName if we don't set it explicitly\nNumberField.displayName = 'NumberField';\nNumberField.defaultProps = {\n    addLabel: true,\n    textAlign: 'right',\n};\nNumberField.propTypes = __assign(__assign(__assign({}, Typography.propTypes), fieldPropTypes), { locales: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.arrayOf(PropTypes.string),\n    ]), options: PropTypes.object });\nexport default NumberField;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport classnames from 'classnames';\nimport DoneIcon from '@material-ui/icons/Done';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport { Tooltip, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, useRecordContext } from 'ra-core';\nimport { fieldPropTypes } from './types';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\nvar useStyles = makeStyles({\n    root: {\n        display: 'flex',\n    },\n}, {\n    name: 'RaBooleanField',\n});\nvar BooleanField = memo(function (props) {\n    var className = props.className, classesOverride = props.classes, emptyText = props.emptyText, source = props.source, valueLabelTrue = props.valueLabelTrue, valueLabelFalse = props.valueLabelFalse, TrueIcon = props.TrueIcon, FalseIcon = props.FalseIcon, looseValue = props.looseValue, rest = __rest(props, [\"className\", \"classes\", \"emptyText\", \"source\", \"valueLabelTrue\", \"valueLabelFalse\", \"TrueIcon\", \"FalseIcon\", \"looseValue\"]);\n    var record = useRecordContext(props);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    var value = get(record, source);\n    var isTruthyValue = value === true || (looseValue && value);\n    var ariaLabel = value ? valueLabelTrue : valueLabelFalse;\n    if (!ariaLabel) {\n        ariaLabel = isTruthyValue ? 'ra.boolean.true' : 'ra.boolean.false';\n    }\n    if (looseValue || value === false || value === true) {\n        return (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: classnames(classes.root, className) }, sanitizeFieldRestProps(rest)),\n            React.createElement(Tooltip, { title: translate(ariaLabel, { _: ariaLabel }) }, isTruthyValue ? (React.createElement(\"span\", null,\n                React.createElement(TrueIcon, { \"data-testid\": \"true\", fontSize: \"small\" }))) : (React.createElement(\"span\", null,\n                React.createElement(FalseIcon, { \"data-testid\": \"false\", fontSize: \"small\" }))))));\n    }\n    return (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeFieldRestProps(rest)), emptyText));\n});\nBooleanField.defaultProps = {\n    addLabel: true,\n    TrueIcon: DoneIcon,\n    FalseIcon: ClearIcon,\n    looseValue: false,\n};\nBooleanField.propTypes = __assign(__assign(__assign({}, Typography.propTypes), fieldPropTypes), { valueLabelFalse: PropTypes.string, valueLabelTrue: PropTypes.string, TrueIcon: PropTypes.elementType, FalseIcon: PropTypes.elementType, looseValue: PropTypes.bool });\nBooleanField.displayName = 'BooleanField';\nexport default BooleanField;\n","export default [\n    { id: 'compulsive', name: 'resources.segments.data.compulsive' },\n    { id: 'collector', name: 'resources.segments.data.collector' },\n    { id: 'ordered_once', name: 'resources.segments.data.ordered_once' },\n    { id: 'regular', name: 'resources.segments.data.regular' },\n    { id: 'returns', name: 'resources.segments.data.returns' },\n    { id: 'reviewer', name: 'resources.segments.data.reviewer' },\n];\n","import * as React from 'react';\nimport Chip from '@material-ui/core/Chip';\nimport { useTranslate, FieldProps } from 'react-admin';\nimport segments from '../segments/data';\nimport { Customer } from '../types';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n    main: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        marginTop: -8,\n        marginBottom: -8,\n    },\n    chip: { margin: 4 },\n});\n\nconst SegmentsField = ({ record }: FieldProps<Customer>) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    return record ? (\n        <span className={classes.main}>\n            {record.groups &&\n                record.groups.map(segmentId => {\n                    const segment = segments.find(s => s.id === segmentId);\n\n                    return segment ? (\n                        <Chip\n                            size=\"small\"\n                            key={segment.id}\n                            className={classes.chip}\n                            label={translate(segment.name)}\n                        />\n                    ) : null;\n                })}\n        </span>\n    ) : null;\n};\n\nSegmentsField.defaultProps = {\n    addLabel: true,\n    source: 'groups',\n};\n\nexport default SegmentsField;\n","import { isValidElement, cloneElement, useCallback } from 'react';\nimport get from 'lodash/get';\nimport { useTranslate } from '../i18n';\n/*\n * Returns helper functions for choices handling.\n *\n * @param optionText Either a string defining the property to use to get the choice text, a function or a React element\n * @param optionValue The property to use to get the choice value\n * @param translateChoice A boolean indicating whether to option text should be translated\n *\n * @returns An object with helper functions:\n * - getChoiceText: Returns the choice text or a React element\n * - getChoiceValue: Returns the choice value\n */\nvar useChoices = function (_a) {\n    var _b = _a.optionText, optionText = _b === void 0 ? 'name' : _b, _c = _a.optionValue, optionValue = _c === void 0 ? 'id' : _c, _d = _a.disableValue, disableValue = _d === void 0 ? 'disabled' : _d, _e = _a.translateChoice, translateChoice = _e === void 0 ? true : _e;\n    var translate = useTranslate();\n    var getChoiceText = useCallback(function (choice) {\n        if (isValidElement(optionText)) {\n            return cloneElement(optionText, {\n                record: choice,\n            });\n        }\n        var choiceName = typeof optionText === 'function'\n            ? optionText(choice)\n            : get(choice, optionText);\n        return translateChoice\n            ? translate(choiceName, { _: choiceName })\n            : choiceName;\n    }, [optionText, translate, translateChoice]);\n    var getChoiceValue = useCallback(function (choice) { return get(choice, optionValue); }, [\n        optionValue,\n    ]);\n    var getDisableValue = useCallback(function (choice) { return get(choice, disableValue); }, [\n        disableValue,\n    ]);\n    return {\n        getChoiceText: getChoiceText,\n        getChoiceValue: getChoiceValue,\n        getDisableValue: getDisableValue,\n    };\n};\nexport default useChoices;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldTitle } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    label: {\n        position: 'relative',\n    },\n    value: {\n        fontFamily: theme.typography.fontFamily,\n        color: 'currentColor',\n        padding: theme.spacing(1) + \"px 0 \" + theme.spacing(1) / 2 + \"px\",\n        border: 0,\n        boxSizing: 'content-box',\n        verticalAlign: 'middle',\n        background: 'none',\n        margin: 0,\n        display: 'block',\n        width: '100%',\n    },\n}); }, { name: 'RaLabeled' });\n/**\n * Use any component as read-only Input, labeled just like other Inputs.\n *\n * Useful to use a Field in the Edit or Create components.\n * The child component will receive the current record.\n *\n * This component name doesn't have a typo. We had to choose between\n * the American English \"Labeled\", and the British English \"Labelled\".\n * We flipped a coin.\n *\n * @example\n * <Labeled label=\"Comments\">\n *     <FooComponent source=\"title\" />\n * </Labeled>\n */\nvar Labeled = function (props) {\n    var children = props.children, className = props.className, classesOverride = props.classes, fullWidth = props.fullWidth, id = props.id, input = props.input, isRequired = props.isRequired, label = props.label, _a = props.margin, margin = _a === void 0 ? 'dense' : _a, meta = props.meta, resource = props.resource, source = props.source, rest = __rest(props, [\"children\", \"className\", \"classes\", \"fullWidth\", \"id\", \"input\", \"isRequired\", \"label\", \"margin\", \"meta\", \"resource\", \"source\"]);\n    var classes = useStyles(props);\n    if (!label && !source) {\n        // @ts-ignore\n        var name_1 = children && children.type && children.type.name;\n        throw new Error(\"Cannot create label for component <\" + name_1 + \">: You must set either the label or source props. You can also disable automated label insertion by setting 'addLabel: false' in the component default props\");\n    }\n    var restProps = fullWidth ? __assign(__assign({}, rest), { fullWidth: fullWidth }) : rest;\n    return (React.createElement(FormControl, { className: className, fullWidth: fullWidth, error: meta && meta.touched && !!(meta.error || meta.submitError), margin: margin },\n        React.createElement(InputLabel, { htmlFor: id, shrink: true, className: classes.label },\n            React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired })),\n        React.createElement(\"div\", { className: classes.value }, children && typeof children.type !== 'string'\n            ? React.cloneElement(children, __assign({ input: input, resource: resource }, restProps))\n            : children)));\n};\nLabeled.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.element,\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    fullWidth: PropTypes.bool,\n    id: PropTypes.string,\n    input: PropTypes.object,\n    isRequired: PropTypes.bool,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    meta: PropTypes.object,\n    onChange: PropTypes.func,\n    record: PropTypes.object,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n    labelStyle: PropTypes.object,\n};\nexport default Labeled;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport Progress from '@material-ui/core/LinearProgress';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { useTimeout } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        margin: theme.spacing(1) + \"px 0\",\n        width: theme.spacing(20) + \"px\",\n    },\n}); }, { name: 'RaLinearProgress' });\n/**\n * Progress bar formatted to replace an input or a field in a form layout\n *\n * Avoids visual jumps when replaced by value or form input\n *\n * @see ReferenceField\n * @see ReferenceInput\n *\n * @typedef {Object} Props the props you can use\n * @prop {Object} classes CSS class names\n * @prop {string} className CSS class applied to the LinearProgress component\n * @prop {integer} timeout Milliseconds to wait before showing the progress bar. One second by default\n *\n * @param {Props} props\n */\nvar LinearProgress = function (_a) {\n    var _b = _a.timeout, timeout = _b === void 0 ? 1000 : _b, props = __rest(_a, [\"timeout\"]);\n    var classesOverride = props.classes, className = props.className, rest = __rest(props, [\"classes\", \"className\"]);\n    var classes = useStyles(props);\n    var oneSecondHasPassed = useTimeout(timeout);\n    return oneSecondHasPassed ? (React.createElement(Progress, __assign({ className: classnames(classes.root, className) }, rest))) : null;\n};\nLinearProgress.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    timeout: PropTypes.number,\n};\n// What? TypeScript loses the displayName if we don't set it explicitly\nLinearProgress.displayName = 'LinearProgress';\nexport default LinearProgress;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport * as React from 'react';\nimport { createContext, isValidElement, useContext, useState, } from 'react';\nimport { useTranslate } from 'ra-core';\nimport set from 'lodash/set';\n/**\n * This hook provides support for suggestion creation in inputs which have choices.\n *\n * @param options The hook option\n * @param {ReactElement} options.create A react element which will be rendered when users choose to create a new choice. This component must call the `useCreateSuggestionContext` hook which provides `onCancel`, `onCreate` and `filter`. See the examples.\n * @param {String} options.createLabel Optional. The label for the choice item allowing users to create a new choice. Can be a translation key. Defaults to `ra.action.create`.\n * @param {String} options.createItemLabel Optional. The label for the choice item allowing users to create a new choice when they already entered a filter. Can be a translation key. The translation will receive an `item` parameter. Defaults to `ra.action.create_item`.\n * @param {any} options.createValue Optional. The value for the choice item allowing users to create a new choice. Defaults to `@@ra-create`.\n * @param {String} options.filter Optional. The filter users may have already entered. Useful for autocomplete inputs for example.\n * @param {OnCreateHandler} options.onCreate Optional. A function which will be called when users choose to create a new choice, if the `create` option wasn't provided.\n * @param handleChange: a function to pass to the input. Receives the same parameter as the original event handler and an additional newItem parameter if a new item was create.\n * @returns {UseSupportCreateValue} An object with the following properties:\n * - getCreateItem: a function which will return the label of the choice for create a new choice.\n * - createElement: a React element to render after the input. It will be rendered when users choose to create a new choice. It renders null otherwise.\n */\nexport var useSupportCreateSuggestion = function (options) {\n    var create = options.create, _a = options.createLabel, createLabel = _a === void 0 ? 'ra.action.create' : _a, _b = options.createItemLabel, createItemLabel = _b === void 0 ? 'ra.action.create_item' : _b, _c = options.createValue, createValue = _c === void 0 ? '@@ra-create' : _c, _d = options.optionText, optionText = _d === void 0 ? 'name' : _d, filter = options.filter, handleChange = options.handleChange, onCreate = options.onCreate;\n    var translate = useTranslate();\n    var _e = useState(false), renderOnCreate = _e[0], setRenderOnCreate = _e[1];\n    var context = {\n        filter: filter,\n        onCancel: function () { return setRenderOnCreate(false); },\n        onCreate: function (item) {\n            setRenderOnCreate(false);\n            handleChange(undefined, item);\n        },\n    };\n    return {\n        getCreateItem: function () {\n            if (typeof optionText !== 'string') {\n                return {\n                    id: createValue,\n                    name: filter && createItemLabel\n                        ? translate(createItemLabel, {\n                            item: filter,\n                            _: createItemLabel,\n                        })\n                        : translate(createLabel, { _: createLabel }),\n                };\n            }\n            return set({\n                id: createValue,\n            }, optionText, filter && createItemLabel\n                ? translate(createItemLabel, {\n                    item: filter,\n                    _: createItemLabel,\n                })\n                : translate(createLabel, { _: createLabel }));\n        },\n        handleChange: function (eventOrValue) { return __awaiter(void 0, void 0, void 0, function () {\n            var value, finalValue, newSuggestion;\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        value = ((_a = eventOrValue.target) === null || _a === void 0 ? void 0 : _a.value) || eventOrValue;\n                        finalValue = Array.isArray(value) ? __spreadArray([], value, true).pop() : value;\n                        if (eventOrValue === null || eventOrValue === void 0 ? void 0 : eventOrValue.preventDefault) {\n                            eventOrValue.preventDefault();\n                            eventOrValue.stopPropagation();\n                        }\n                        if (!((finalValue === null || finalValue === void 0 ? void 0 : finalValue.id) === createValue || finalValue === createValue)) return [3 /*break*/, 3];\n                        if (!!isValidElement(create)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, onCreate(filter)];\n                    case 1:\n                        newSuggestion = _b.sent();\n                        if (newSuggestion) {\n                            handleChange(eventOrValue, newSuggestion);\n                            return [2 /*return*/];\n                        }\n                        return [3 /*break*/, 3];\n                    case 2:\n                        setRenderOnCreate(true);\n                        return [2 /*return*/];\n                    case 3:\n                        handleChange(eventOrValue, undefined);\n                        return [2 /*return*/];\n                }\n            });\n        }); },\n        createElement: renderOnCreate && isValidElement(create) ? (React.createElement(CreateSuggestionContext.Provider, { value: context }, create)) : null,\n    };\n};\nvar CreateSuggestionContext = createContext(undefined);\nexport var useCreateSuggestionContext = function () {\n    return useContext(CreateSuggestionContext);\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useInput, FieldTitle, useTranslate, useChoices, warning, } from 'ra-core';\nimport ResettableTextField, { resettableStyles } from './ResettableTextField';\nimport InputHelperText from './InputHelperText';\nimport sanitizeInputRestProps from './sanitizeInputRestProps';\nimport Labeled from './Labeled';\nimport { LinearProgress } from '../layout';\nimport { useSupportCreateSuggestion, } from './useSupportCreateSuggestion';\n/**\n * An Input component for a select box, using an array of objects for the options\n *\n * Pass possible options as an array of objects in the 'choices' attribute.\n *\n * By default, the options are built from:\n *  - the 'id' property as the option value,\n *  - the 'name' property as the option text\n * @example\n * const choices = [\n *    { id: 'M', name: 'Male' },\n *    { id: 'F', name: 'Female' },\n * ];\n * <SelectInput source=\"gender\" choices={choices} />\n *\n * You can also customize the properties to use for the option name and value,\n * thanks to the 'optionText' and 'optionValue' attributes.\n * @example\n * const choices = [\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\n * ];\n * <SelectInput source=\"author_id\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\n *\n * `optionText` also accepts a function, so you can shape the option text at will:\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\n * <SelectInput source=\"author_id\" choices={choices} optionText={optionRenderer} />\n *\n * `optionText` also accepts a React Element, that will be cloned and receive\n * the related choice as the `record` prop. You can use Field components there.\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const FullNameField = ({ record }) => <span>{record.first_name} {record.last_name}</span>;\n * <SelectInput source=\"gender\" choices={choices} optionText={<FullNameField />}/>\n *\n * The choices are translated by default, so you can use translation identifiers as choices:\n * @example\n * const choices = [\n *    { id: 'M', name: 'myroot.gender.male' },\n *    { id: 'F', name: 'myroot.gender.female' },\n * ];\n *\n * However, in some cases (e.g. inside a `<ReferenceInput>`), you may not want\n * the choice to be translated. In that case, set the `translateChoice` prop to false.\n * @example\n * <SelectInput source=\"gender\" choices={choices} translateChoice={false}/>\n *\n * The object passed as `options` props is passed to the material-ui <Select> component\n *\n * You can disable some choices by providing a `disableValue` field which name is `disabled` by default\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n *    { id: 976, first_name: 'William', last_name: 'Rinkerd', disabled: true },\n * ];\n *\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n *    { id: 976, first_name: 'William', last_name: 'Rinkerd', not_available: true },\n * ];\n * <SelectInput source=\"gender\" choices={choices} disableValue=\"not_available\" />\n *\n */\nexport var SelectInput = function (props) {\n    var allowEmpty = props.allowEmpty, _a = props.choices, choices = _a === void 0 ? [] : _a, classesOverride = props.classes, className = props.className, create = props.create, createLabel = props.createLabel, createValue = props.createValue, disableValue = props.disableValue, emptyText = props.emptyText, emptyValue = props.emptyValue, format = props.format, helperText = props.helperText, label = props.label, loaded = props.loaded, loading = props.loading, _b = props.margin, margin = _b === void 0 ? 'dense' : _b, onBlur = props.onBlur, onChange = props.onChange, onCreate = props.onCreate, onFocus = props.onFocus, options = props.options, optionText = props.optionText, optionValue = props.optionValue, parse = props.parse, resource = props.resource, source = props.source, translateChoice = props.translateChoice, validate = props.validate, rest = __rest(props, [\"allowEmpty\", \"choices\", \"classes\", \"className\", \"create\", \"createLabel\", \"createValue\", \"disableValue\", \"emptyText\", \"emptyValue\", \"format\", \"helperText\", \"label\", \"loaded\", \"loading\", \"margin\", \"onBlur\", \"onChange\", \"onCreate\", \"onFocus\", \"options\", \"optionText\", \"optionValue\", \"parse\", \"resource\", \"source\", \"translateChoice\", \"validate\"]);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    warning(source === undefined, \"If you're not wrapping the SelectInput inside a ReferenceInput, you must provide the source prop\");\n    warning(choices === undefined, \"If you're not wrapping the SelectInput inside a ReferenceInput, you must provide the choices prop\");\n    var _c = useChoices({\n        optionText: optionText,\n        optionValue: optionValue,\n        translateChoice: translateChoice,\n    }), getChoiceText = _c.getChoiceText, getChoiceValue = _c.getChoiceValue;\n    var _d = useInput(__assign({ format: format, onBlur: onBlur, onChange: onChange, onFocus: onFocus, parse: parse, resource: resource, source: source, validate: validate }, rest)), id = _d.id, input = _d.input, isRequired = _d.isRequired, meta = _d.meta;\n    var touched = meta.touched, error = meta.error, submitError = meta.submitError;\n    var renderEmptyItemOption = useCallback(function () {\n        return React.isValidElement(emptyText)\n            ? React.cloneElement(emptyText)\n            : emptyText === ''\n                ? '' // em space, forces the display of an empty line of normal height\n                : translate(emptyText, { _: emptyText });\n    }, [emptyText, translate]);\n    var renderMenuItemOption = useCallback(function (choice) { return getChoiceText(choice); }, [\n        getChoiceText,\n    ]);\n    var handleChange = useCallback(function (event, newItem) { return __awaiter(void 0, void 0, void 0, function () {\n        var value;\n        return __generator(this, function (_a) {\n            if (newItem) {\n                value = getChoiceValue(newItem);\n                input.onChange(value);\n                return [2 /*return*/];\n            }\n            input.onChange(event);\n            return [2 /*return*/];\n        });\n    }); }, [input, getChoiceValue]);\n    var _e = useSupportCreateSuggestion({\n        create: create,\n        createLabel: createLabel,\n        createValue: createValue,\n        handleChange: handleChange,\n        onCreate: onCreate,\n        optionText: optionText,\n    }), getCreateItem = _e.getCreateItem, handleChangeWithCreateSupport = _e.handleChange, createElement = _e.createElement;\n    if (loading) {\n        return (React.createElement(Labeled, { id: id, label: label, source: source, resource: resource, className: className, isRequired: isRequired, meta: meta, input: input, margin: margin },\n            React.createElement(LinearProgress, null)));\n    }\n    var renderCreateItem = function () {\n        if (onCreate || create) {\n            var createItem = getCreateItem();\n            return (React.createElement(MenuItem, { value: createItem.id, key: createItem.id }, createItem.name));\n        }\n        return null;\n    };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(ResettableTextField, __assign({ id: id }, input, { onChange: handleChangeWithCreateSupport, select: true, label: label !== '' &&\n                label !== false && (React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired })), className: classes.input + \" \" + className, clearAlwaysVisible: true, error: !!(touched && (error || submitError)), helperText: React.createElement(InputHelperText, { touched: touched, error: error || submitError, helperText: helperText }), margin: margin }, options, sanitizeRestProps(rest)),\n            allowEmpty ? (React.createElement(MenuItem, { value: emptyValue, key: \"null\", \"aria-label\": translate('ra.action.clear_input_value'), title: translate('ra.action.clear_input_value') }, renderEmptyItemOption())) : null,\n            choices.map(function (choice) { return (React.createElement(MenuItem, { key: getChoiceValue(choice), value: getChoiceValue(choice), disabled: get(choice, disableValue) }, renderMenuItemOption(choice))); }),\n            renderCreateItem()),\n        createElement));\n};\nSelectInput.propTypes = {\n    allowEmpty: PropTypes.bool,\n    emptyText: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    emptyValue: PropTypes.any,\n    choices: PropTypes.arrayOf(PropTypes.object),\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    options: PropTypes.object,\n    optionText: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.func,\n        PropTypes.element,\n    ]).isRequired,\n    optionValue: PropTypes.string.isRequired,\n    disableValue: PropTypes.string,\n    resettable: PropTypes.bool,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n    translateChoice: PropTypes.bool,\n};\nSelectInput.defaultProps = {\n    emptyText: '',\n    emptyValue: '',\n    options: {},\n    optionText: 'name',\n    optionValue: 'id',\n    translateChoice: true,\n    disableValue: 'disabled',\n};\nvar sanitizeRestProps = function (_a) {\n    var addLabel = _a.addLabel, afterSubmit = _a.afterSubmit, allowNull = _a.allowNull, beforeSubmit = _a.beforeSubmit, choices = _a.choices, className = _a.className, crudGetMatching = _a.crudGetMatching, crudGetOne = _a.crudGetOne, data = _a.data, filter = _a.filter, filterToQuery = _a.filterToQuery, formatOnBlur = _a.formatOnBlur, isEqual = _a.isEqual, limitChoicesToValue = _a.limitChoicesToValue, multiple = _a.multiple, name = _a.name, pagination = _a.pagination, perPage = _a.perPage, ref = _a.ref, reference = _a.reference, refetch = _a.refetch, render = _a.render, setFilter = _a.setFilter, setPagination = _a.setPagination, setSort = _a.setSort, sort = _a.sort, subscription = _a.subscription, type = _a.type, validateFields = _a.validateFields, validation = _a.validation, value = _a.value, rest = __rest(_a, [\"addLabel\", \"afterSubmit\", \"allowNull\", \"beforeSubmit\", \"choices\", \"className\", \"crudGetMatching\", \"crudGetOne\", \"data\", \"filter\", \"filterToQuery\", \"formatOnBlur\", \"isEqual\", \"limitChoicesToValue\", \"multiple\", \"name\", \"pagination\", \"perPage\", \"ref\", \"reference\", \"refetch\", \"render\", \"setFilter\", \"setPagination\", \"setSort\", \"sort\", \"subscription\", \"type\", \"validateFields\", \"validation\", \"value\"]);\n    return sanitizeInputRestProps(rest);\n};\nvar useStyles = makeStyles(function (theme) { return (__assign(__assign({}, resettableStyles), { input: {\n        minWidth: theme.spacing(20),\n    } })); }, { name: 'RaSelectInput' });\n","import * as React from 'react';\nimport { useTranslate, SelectInput, InputProps } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport segments from '../segments/data';\n\nconst useStyles = makeStyles({\n    input: { width: 150 },\n});\n\ninterface Props extends Omit<InputProps, 'source'> {\n    source?: string;\n}\n\nconst SegmentInput = (props: Props) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <SelectInput\n            {...props}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n            className={classes.input}\n        />\n    );\n};\n\nSegmentInput.defaultProps = {\n    source: 'groups',\n};\n\nexport default SegmentInput;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Link as RRLink } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) { return ({\n    link: {\n        textDecoration: 'none',\n        color: theme.palette.primary.main,\n    },\n}); }, { name: 'RaLink' });\nvar Link = function (props) {\n    var to = props.to, children = props.children, classesOverride = props.classes, className = props.className, rest = __rest(props, [\"to\", \"children\", \"classes\", \"className\"]);\n    var classes = useStyles(props);\n    return (React.createElement(RRLink, __assign({ to: to, className: classNames(classes.link, className) }, rest), children));\n};\nLink.propTypes = {\n    className: PropTypes.string,\n    children: PropTypes.node,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n};\nexport default Link;\n","import * as React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport { FieldProps } from 'react-admin';\nimport { Customer } from '../types';\n\ninterface Props extends FieldProps<Customer> {\n    className?: string;\n    size?: string;\n}\n\nconst AvatarField = ({ record, size = '25', className }: Props) =>\n    record ? (\n        <Avatar\n            src={`${record.avatar}?size=${size}x${size}`}\n            style={{ width: parseInt(size, 10), height: parseInt(size, 10) }}\n            className={className}\n        />\n    ) : null;\n\nexport default AvatarField;\n","import * as React from 'react';\nimport { memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { FieldProps } from 'react-admin';\nimport AvatarField from './AvatarField';\nimport { Customer } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n        flexWrap: 'nowrap',\n        alignItems: 'center',\n    },\n    avatar: {\n        marginRight: theme.spacing(1),\n        marginTop: -theme.spacing(0.5),\n        marginBottom: -theme.spacing(0.5),\n    },\n}));\n\ninterface Props extends FieldProps<Customer> {\n    size?: string;\n}\n\nconst FullNameField = (props: Props) => {\n    const { record, size } = props;\n    const classes = useStyles();\n    return record ? (\n        <div className={classes.root}>\n            <AvatarField\n                className={classes.avatar}\n                record={record}\n                size={size}\n            />\n            {record.first_name} {record.last_name}\n        </div>\n    ) : null;\n};\n\nFullNameField.defaultProps = {\n    source: 'last_name',\n    label: 'resources.customers.fields.name',\n};\n\nexport default memo<Props>(FullNameField);\n","import * as React from 'react';\nimport { Link, FieldProps } from 'react-admin';\n\nimport FullNameField from './FullNameField';\nimport { Customer } from '../types';\n\nconst CustomerLinkField = (props: FieldProps<Customer>) =>\n    props.record ? (\n        <Link to={`/customers/${props.record.id}`}>\n            <FullNameField {...props} />\n        </Link>\n    ) : null;\n\nCustomerLinkField.defaultProps = {\n    source: 'customer_id',\n    addLabel: true,\n};\n\nexport default CustomerLinkField;\n","import * as React from 'react';\nimport { NumberField, NumberFieldProps } from 'react-admin';\n\nconst ColoredNumberField = (props: NumberFieldProps) =>\n    props.record && props.source ? (\n        props.record[props.source] > 500 ? (\n            <span style={{ color: 'red' }}>\n                <NumberField {...props} />\n            </span>\n        ) : (\n            <NumberField {...props} />\n        )\n    ) : null;\n\nColoredNumberField.defaultProps = NumberField.defaultProps;\n\nexport default ColoredNumberField;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport ContentCreate from '@material-ui/icons/Create';\nimport { Link } from 'react-router-dom';\nimport { linkToRecord, useResourceContext } from 'ra-core';\nimport Button from './Button';\n/**\n * Opens the Edit view of a given record:\n *\n * @example // basic usage\n * import { EditButton } from 'react-admin';\n *\n * const CommentEditButton = ({ record }) => (\n *     <EditButton basePath=\"/comments\" label=\"Edit comment\" record={record} />\n * );\n */\nvar EditButton = function (props) {\n    var _a = props.basePath, basePath = _a === void 0 ? '' : _a, _b = props.icon, icon = _b === void 0 ? defaultIcon : _b, _c = props.label, label = _c === void 0 ? 'ra.action.edit' : _c, record = props.record, _d = props.scrollToTop, scrollToTop = _d === void 0 ? true : _d, rest = __rest(props, [\"basePath\", \"icon\", \"label\", \"record\", \"scrollToTop\"]);\n    var resource = useResourceContext();\n    return (React.createElement(Button, __assign({ component: Link, to: useMemo(function () { return ({\n            pathname: record\n                ? linkToRecord(basePath || \"/\" + resource, record.id)\n                : '',\n            state: { _scrollToTop: scrollToTop },\n        }); }, [basePath, record, resource, scrollToTop]), label: label, onClick: stopPropagation }, rest), icon));\n};\nvar defaultIcon = React.createElement(ContentCreate, null);\n// useful to prevent click bubbling in a datagrid with rowClick\nvar stopPropagation = function (e) { return e.stopPropagation(); };\nEditButton.propTypes = {\n    basePath: PropTypes.string,\n    icon: PropTypes.element,\n    label: PropTypes.string,\n    record: PropTypes.any,\n    scrollToTop: PropTypes.bool,\n};\nexport default EditButton;\n","// in src/comments.js\nimport * as React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    DateField,\n    EditButton,\n    useTranslate,\n    NumberField,\n    Identifier,\n} from 'react-admin';\n\nimport AvatarField from './AvatarField';\nimport ColoredNumberField from './ColoredNumberField';\nimport SegmentsField from './SegmentsField';\nimport { Customer } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: { margin: '1em' },\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: {\n        ...theme.typography.body1,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n}));\n\ninterface Props {\n    ids?: Identifier[];\n    data?: { [key: string]: Customer };\n    basePath?: string;\n}\n\nconst MobileGrid = ({ ids, data, basePath }: Props) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    if (!ids || !data) {\n        return null;\n    }\n\n    return (\n        <div className={classes.root}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <h2>{`${data[id].first_name} ${data[id].last_name}`}</h2>\n                                <EditButton\n                                    resource=\"visitors\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                        avatar={<AvatarField record={data[id]} size=\"45\" />}\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.last_seen_gte'\n                            )}\n                            &nbsp;\n                            <DateField record={data[id]} source=\"last_seen\" />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.commands.name',\n                                data[id].nb_commands || 1\n                            )}\n                            &nbsp;:&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"nb_commands\"\n                                label=\"resources.customers.fields.commands\"\n                            />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.total_spent'\n                            )}\n                            &nbsp; :{' '}\n                            <ColoredNumberField\n                                record={data[id]}\n                                source=\"total_spent\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </div>\n                    </CardContent>\n                    {data[id].groups && data[id].groups.length > 0 && (\n                        <CardContent className={classes.cardContent}>\n                            <SegmentsField record={data[id]} />\n                        </CardContent>\n                    )}\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import { useContext } from 'react';\nimport ListFilterContext from './ListFilterContext';\n/**\n * Hook to read the list controller props from the ListContext.\n *\n * Must be used within a <ListContextProvider> (e.g. as a descendent of <List>\n * or <ListBase>).\n *\n * @typedef {Object} ListFilterContextValue\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @returns {ListFilterContextValue} list controller props\n *\n * @see useListController for how it is filled\n */\nvar useListFilterContext = function (props) {\n    var context = useContext(ListFilterContext);\n    if (!context.hideFilter) {\n        /**\n         * The element isn't inside a <ListFilterContext.Provider>\n         *\n         * This may only happen when using Datagrid / SimpleList / SingleFieldList components\n         * outside of a List / ReferenceManyField / ReferenceArrayField -\n         * which isn't documented but tolerated.\n         * To avoid breakage in that case, fallback to props\n         *\n         * @deprecated - to be removed in 4.0\n         */\n        if (process.env.NODE_ENV !== 'production') {\n            console.log(\"List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin.\");\n        }\n        return props;\n    }\n    return context;\n};\nexport default useListFilterContext;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo, useMemo } from 'react';\nimport { InputAdornment } from '@material-ui/core';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { Form } from 'react-final-form';\nimport { useTranslate, useListFilterContext } from 'ra-core';\nimport TextInput from '../../input/TextInput';\n/**\n * Form and search input for doing a full-text search filter.\n *\n * Triggers a search on change (with debounce).\n *\n * @example\n *\n * const FilterPanel = () => (\n *     <Card>\n *         <CardContent>\n *             <FilterLiveSearch source=\"title\" />\n *         </CardContent>\n *     </Card>\n * );\n */\nvar FilterLiveSearch = function (props) {\n    var _a = props.source, source = _a === void 0 ? 'q' : _a, rest = __rest(props, [\"source\"]);\n    var _b = useListFilterContext(), filterValues = _b.filterValues, setFilters = _b.setFilters;\n    var translate = useTranslate();\n    var onSearchChange = function (event) {\n        var _a;\n        if (event.target) {\n            setFilters(__assign(__assign({}, filterValues), (_a = {}, _a[source] = event.target.value, _a)), null);\n        }\n        else {\n            var _b = filterValues, _c = source, _1 = _b[_c], filters = __rest(_b, [typeof _c === \"symbol\" ? _c : _c + \"\"]);\n            setFilters(filters, null);\n        }\n    };\n    var initialValues = useMemo(function () {\n        var _a;\n        return (_a = {},\n            _a[source] = filterValues[source],\n            _a);\n    }, [filterValues, source]);\n    var onSubmit = function () { return undefined; };\n    return (React.createElement(Form, { initialValues: initialValues, onSubmit: onSubmit }, function () { return (React.createElement(TextInput, __assign({ resettable: true, helperText: false, source: source, label: translate('ra.action.search'), InputProps: {\n            endAdornment: (React.createElement(InputAdornment, { position: \"end\" },\n                React.createElement(SearchIcon, { color: \"disabled\" }))),\n        }, onChange: onSearchChange }, rest))); }));\n};\nexport default memo(FilterLiveSearch);\n","import * as React from 'react';\nimport { Box, Typography, List } from '@material-ui/core';\nimport { useTranslate } from 'ra-core';\n/**\n * Header and container for a list of filter list items\n *\n * Expects 2 props, and a list of <FilterListItem> as children:\n *\n * - label: The label for this filter section. Will be translated.\n * - icon: An icon react element\n *\n * @see FilterListItem\n *\n * @example\n *\n * import * as React from 'react';\n * import { Card, CardContent } from '@material-ui/core';\n * import MailIcon from '@material-ui/icons/MailOutline';\n * import { FilterList, FilterListItem } from 'react-admin';\n *\n * const FilterSidebar = () => (\n *     <Card>\n *         <CardContent>\n *             <FilterList\n *                 label=\"Subscribed to newsletter\"\n *                 icon={<MailIcon />}\n *             >\n *                 <FilterListItem\n *                     label=\"Yes\"\n *                     value={{ has_newsletter: true }}\n *                  />\n *                 <FilterListItem\n *                     label=\"No\"\n *                     value={{ has_newsletter: false }}\n *                  />\n *             </FilterList>\n *         </CardContent>\n *     </Card>\n * );\n */\nvar FilterList = function (props) {\n    var label = props.label, icon = props.icon, children = props.children;\n    var translate = useTranslate();\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Box, { mt: 2, display: \"flex\", alignItems: \"center\" },\n            React.createElement(Box, { mr: 1 }, icon),\n            React.createElement(Typography, { variant: \"overline\" }, translate(label))),\n        React.createElement(List, { dense: true, disablePadding: true }, children)));\n};\nexport default FilterList;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { memo, isValidElement } from 'react';\nimport { IconButton, ListItem, ListItemText, ListItemSecondaryAction, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CancelIcon from '@material-ui/icons/CancelOutlined';\nimport { useTranslate, useListFilterContext } from 'ra-core';\nimport { shallowEqual } from 'react-redux';\nimport matches from 'lodash/matches';\nimport pickBy from 'lodash/pickBy';\nvar useStyles = makeStyles(function (theme) { return ({\n    listItem: {\n        paddingLeft: '2em',\n    },\n    listItemText: {\n        margin: 0,\n    },\n}); });\n/**\n * Button to enable/disable a list filter.\n *\n * Expects 2 props:\n *\n * - label: The text (or React element) to be displayed for this item.\n *   If it's a string, the component will translate it.\n * - value: An object to be merged into the filter value when enabling the filter\n *   (e.g. { is_published: true, published_at_gte: '2020-07-08' })\n *\n * @example\n *\n * import * as React from 'react';\n * import { Card, CardContent } from '@material-ui/core';\n * import MailIcon from '@material-ui/icons/MailOutline';\n * import { FilterList, FilterListItem } from 'react-admin';\n *\n * const FilterSidebar = () => (\n *     <Card>\n *         <CardContent>\n *             <FilterList\n *                 label=\"Subscribed to newsletter\"\n *                 icon={<MailIcon />}\n *             >\n *                 <FilterListItem\n *                     label=\"Yes\"\n *                     value={{ has_newsletter: true }}\n *                  />\n *                 <FilterListItem\n *                     label=\"No\"\n *                     value={{ has_newsletter: false }}\n *                  />\n *             </FilterList>\n *         </CardContent>\n *     </Card>\n * );\n *\n * @example // The value prop can contain multiple keys\n *\n * import * as React from 'react';\n * import {\n *     endOfYesterday,\n *     startOfWeek,\n *     subWeeks,\n *     startOfMonth,\n *     subMonths,\n * } from 'date-fns';\n * import { Card, CardContent } from '@material-ui/core';\n * import AccessTimeIcon from '@material-ui/icons/AccessTime';\n * import { FilterList, FilterListItem } from 'react-admin';\n *\n * const FilterSidebar = () => (\n *     <Card>\n *         <CardContent>\n *             <FilterList\n *                 label=\"Last visited\"\n *                 icon={<AccessTimeIcon />}\n *             >\n *                 <FilterListItem\n *                     label=\"Today\"\n *                     value={{\n *                         last_seen_gte: endOfYesterday().toISOString(),\n *                         last_seen_lte: undefined,\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"This week\"\n *                     value={{\n *                         last_seen_gte: startOfWeek(\n *                             new Date()\n *                         ).toISOString(),\n *                         last_seen_lte: undefined,\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"Last week\"\n *                     value={{\n *                         last_seen_gte: subWeeks(\n *                             startOfWeek(new Date()),\n *                             1\n *                         ).toISOString(),\n *                         last_seen_lte: startOfWeek(\n *                             new Date()\n *                         ).toISOString(),\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"This month\"\n *                     value={{\n *                         last_seen_gte: startOfMonth(\n *                             new Date()\n *                         ).toISOString(),\n *                         last_seen_lte: undefined,\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"Last month\"\n *                     value={{\n *                         last_seen_gte: subMonths(\n *                             startOfMonth(new Date()),\n *                             1\n *                         ).toISOString(),\n *                         last_seen_lte: startOfMonth(\n *                             new Date()\n *                         ).toISOString(),\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"Earlier\"\n *                     value={{\n *                         last_seen_gte: undefined,\n *                         last_seen_lte: subMonths(\n *                             startOfMonth(new Date()),\n *                             1\n *                         ).toISOString(),\n *                     }}\n *                 />\n *             </FilterList>\n *         </CardContent>\n *     </Card>\n * );\n */\nvar FilterListItem = function (props) {\n    var label = props.label, value = props.value;\n    var _a = useListFilterContext(), filterValues = _a.filterValues, setFilters = _a.setFilters;\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    var isSelected = matches(pickBy(value, function (val) { return typeof val !== 'undefined'; }))(filterValues);\n    var addFilter = function () {\n        setFilters(__assign(__assign({}, filterValues), value), null, false);\n    };\n    var removeFilter = function () {\n        var keysToRemove = Object.keys(value);\n        var filters = Object.keys(filterValues).reduce(function (acc, key) {\n            var _a;\n            return keysToRemove.includes(key)\n                ? acc\n                : __assign(__assign({}, acc), (_a = {}, _a[key] = filterValues[key], _a));\n        }, {});\n        setFilters(filters, null, false);\n    };\n    var toggleFilter = function () { return (isSelected ? removeFilter() : addFilter()); };\n    return (React.createElement(ListItem, { button: true, onClick: toggleFilter, selected: isSelected, className: classes.listItem },\n        React.createElement(ListItemText, { primary: isValidElement(label)\n                ? label\n                : translate(label, { _: label }), className: classes.listItemText, \"data-selected\": isSelected ? 'true' : 'false' }),\n        isSelected && (React.createElement(ListItemSecondaryAction, null,\n            React.createElement(IconButton, { size: \"small\", onClick: toggleFilter },\n                React.createElement(CancelIcon, null))))));\n};\nvar arePropsEqual = function (prevProps, nextProps) {\n    return prevProps.label === nextProps.label &&\n        shallowEqual(prevProps.value, nextProps.value);\n};\nexport default memo(FilterListItem, arePropsEqual);\n","import * as React from 'react';\nimport { Card as MuiCard, CardContent } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOnOutlined';\nimport MailIcon from '@material-ui/icons/MailOutline';\nimport LocalOfferIcon from '@material-ui/icons/LocalOfferOutlined';\nimport { FilterList, FilterListItem, FilterLiveSearch } from 'react-admin';\nimport {\n    endOfYesterday,\n    startOfWeek,\n    subWeeks,\n    startOfMonth,\n    subMonths,\n} from 'date-fns';\n\nimport segments from '../segments/data';\n\nconst Card = withStyles(theme => ({\n    root: {\n        [theme.breakpoints.up('sm')]: {\n            order: -1,\n            width: '15em',\n            marginRight: '1em',\n        },\n        [theme.breakpoints.down('sm')]: {\n            display: 'none',\n        },\n    },\n}))(MuiCard);\n\nconst Aside = () => (\n    <Card>\n        <CardContent>\n            <FilterLiveSearch />\n\n            <FilterList\n                label=\"resources.customers.filters.last_visited\"\n                icon={<AccessTimeIcon />}\n            >\n                <FilterListItem\n                    label=\"resources.customers.filters.today\"\n                    value={{\n                        last_seen_gte: endOfYesterday().toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.this_week\"\n                    value={{\n                        last_seen_gte: startOfWeek(new Date()).toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.last_week\"\n                    value={{\n                        last_seen_gte: subWeeks(\n                            startOfWeek(new Date()),\n                            1\n                        ).toISOString(),\n                        last_seen_lte: startOfWeek(new Date()).toISOString(),\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.this_month\"\n                    value={{\n                        last_seen_gte: startOfMonth(new Date()).toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.last_month\"\n                    value={{\n                        last_seen_gte: subMonths(\n                            startOfMonth(new Date()),\n                            1\n                        ).toISOString(),\n                        last_seen_lte: startOfMonth(new Date()).toISOString(),\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.earlier\"\n                    value={{\n                        last_seen_gte: undefined,\n                        last_seen_lte: subMonths(\n                            startOfMonth(new Date()),\n                            1\n                        ).toISOString(),\n                    }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.has_ordered\"\n                icon={<MonetizationOnIcon />}\n            >\n                <FilterListItem\n                    label=\"ra.boolean.true\"\n                    value={{\n                        nb_commands_gte: 1,\n                        nb_commands_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"ra.boolean.false\"\n                    value={{\n                        nb_commands_gte: undefined,\n                        nb_commands_lte: 0,\n                    }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.has_newsletter\"\n                icon={<MailIcon />}\n            >\n                <FilterListItem\n                    label=\"ra.boolean.true\"\n                    value={{ has_newsletter: true }}\n                />\n                <FilterListItem\n                    label=\"ra.boolean.false\"\n                    value={{ has_newsletter: false }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.group\"\n                icon={<LocalOfferIcon />}\n            >\n                {segments.map(segment => (\n                    <FilterListItem\n                        label={segment.name}\n                        key={segment.id}\n                        value={{ groups: segment.id }}\n                    />\n                ))}\n            </FilterList>\n        </CardContent>\n    </Card>\n);\n\nexport default Aside;\n","import * as React from 'react';\nimport {\n    BooleanField,\n    Datagrid,\n    DateField,\n    DateInput,\n    List,\n    ListProps,\n    NullableBooleanInput,\n    NumberField,\n    SearchInput,\n} from 'react-admin';\nimport { useMediaQuery, Theme } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport SegmentsField from './SegmentsField';\nimport SegmentInput from './SegmentInput';\nimport CustomerLinkField from './CustomerLinkField';\nimport ColoredNumberField from './ColoredNumberField';\nimport MobileGrid from './MobileGrid';\nimport VisitorListAside from './VisitorListAside';\nimport { ReactElement } from 'react';\n\nconst visitorFilters = [\n    <SearchInput source=\"q\" alwaysOn />,\n    <DateInput source=\"last_seen_gte\" />,\n    <NullableBooleanInput source=\"has_ordered\" />,\n    <NullableBooleanInput source=\"has_newsletter\" defaultValue />,\n    <SegmentInput />,\n];\n\nconst useStyles = makeStyles(theme => ({\n    nb_commands: { color: 'purple' },\n    hiddenOnSmallScreens: {\n        display: 'table-cell',\n        [theme.breakpoints.down('md')]: {\n            display: 'none',\n        },\n    },\n}));\n\nconst VisitorList = (props: ListProps): ReactElement => {\n    const classes = useStyles();\n    const isXsmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const isSmall = useMediaQuery<Theme>(theme => theme.breakpoints.down('sm'));\n    return (\n        <List\n            {...props}\n            filters={isSmall ? visitorFilters : undefined}\n            sort={{ field: 'last_seen', order: 'DESC' }}\n            perPage={25}\n            aside={<VisitorListAside />}\n        >\n            {isXsmall ? (\n                <MobileGrid />\n            ) : (\n                <Datagrid optimized rowClick=\"edit\">\n                    <CustomerLinkField />\n                    <DateField source=\"last_seen\" />\n                    <NumberField\n                        source=\"nb_commands\"\n                        label=\"resources.customers.fields.commands\"\n                        className={classes.nb_commands}\n                    />\n                    <ColoredNumberField\n                        source=\"total_spent\"\n                        options={{ style: 'currency', currency: 'USD' }}\n                    />\n                    <DateField source=\"latest_purchase\" showTime />\n                    <BooleanField source=\"has_newsletter\" label=\"News.\" />\n                    <SegmentsField\n                        cellClassName={classes.hiddenOnSmallScreens}\n                        headerClassName={classes.hiddenOnSmallScreens}\n                    />\n                </Datagrid>\n            )}\n        </List>\n    );\n};\n\nexport default VisitorList;\n","import * as React from 'react';\nimport { createContext, useRef } from 'react';\nexport var SideEffectContext = createContext({});\nexport var SideEffectContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(SideEffectContext.Provider, { value: value }, children));\n};\n/**\n * Get modifiers for a save() function, and the way to update them.\n *\n * Used in useCreateController and useEditController.\n *\n * @example\n *\n * const {\n *     onSuccessRef,\n *     setOnSuccess,\n *     onFailureRef,\n *     setOnFailure,\n *     transformRef,\n *     setTransform,\n * } = useSaveModifiers({ onSuccess, onFailure, transform });\n */\nexport var useSaveModifiers = function (_a) {\n    var onSuccess = _a.onSuccess, onFailure = _a.onFailure, transform = _a.transform;\n    var onSuccessRef = useRef(onSuccess);\n    var setOnSuccess = function (onSuccess) {\n        onSuccessRef.current = function (response) {\n            // reset onSuccess for next submission\n            onSuccessRef.current = undefined;\n            return onSuccess(response);\n        };\n    };\n    var onFailureRef = useRef(onFailure);\n    var setOnFailure = function (onFailure) {\n        onFailureRef.current = function (error) {\n            // reset onFailure for next submission\n            onFailureRef.current = undefined;\n            return onFailure(error);\n        };\n    };\n    var transformRef = useRef(transform);\n    var setTransform = function (transform) {\n        transformRef.current = function (data) {\n            // reset transform for next submission\n            transformRef.current = undefined;\n            return transform(data);\n        };\n    };\n    return {\n        onSuccessRef: onSuccessRef,\n        setOnSuccess: setOnSuccess,\n        onFailureRef: onFailureRef,\n        setOnFailure: setOnFailure,\n        transformRef: transformRef,\n        setTransform: setTransform,\n    };\n};\n","import { useCallback } from 'react';\n// @ts-ignore\nimport { parse } from 'query-string';\nimport { useLocation } from 'react-router-dom';\nimport { useCheckMinimumRequiredProps } from '../checkMinimumRequiredProps';\nimport { useCreate } from '../../dataProvider';\nimport { useNotify, useRedirect, } from '../../sideEffect';\nimport { useSaveModifiers, } from '../saveModifiers';\nimport { useTranslate } from '../../i18n';\nimport useVersion from '../useVersion';\nimport { CRUD_CREATE } from '../../actions';\nimport { useResourceContext, useGetResourceLabel } from '../../core';\n/**\n * Prepare data for the Create view\n *\n * @param {Object} props The props passed to the Create component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Create view\n *\n * @example\n *\n * import { useCreateController } from 'react-admin';\n * import CreateView from './CreateView';\n *\n * const MyCreate = props => {\n *     const controllerProps = useCreateController(props);\n *     return <CreateView {...controllerProps} {...props} />;\n * }\n */\nexport var useCreateController = function (props) {\n    useCheckMinimumRequiredProps('Create', ['basePath', 'resource'], props);\n    var basePath = props.basePath, hasEdit = props.hasEdit, hasShow = props.hasShow, _a = props.record, record = _a === void 0 ? {} : _a, successMessage = props.successMessage, onSuccess = props.onSuccess, onFailure = props.onFailure, transform = props.transform;\n    var resource = useResourceContext(props);\n    var location = useLocation();\n    var translate = useTranslate();\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var recordToUse = getRecord(location, record);\n    var version = useVersion();\n    if (process.env.NODE_ENV !== 'production' && successMessage) {\n        console.log('<Create successMessage> prop is deprecated, use the onSuccess prop instead.');\n    }\n    var _b = useSaveModifiers({ onSuccess: onSuccess, onFailure: onFailure, transform: transform }), onSuccessRef = _b.onSuccessRef, setOnSuccess = _b.setOnSuccess, onFailureRef = _b.onFailureRef, setOnFailure = _b.setOnFailure, transformRef = _b.transformRef, setTransform = _b.setTransform;\n    var _c = useCreate(resource), create = _c[0], saving = _c[1].loading;\n    var save = useCallback(function (data, redirectTo, _a) {\n        if (redirectTo === void 0) { redirectTo = 'list'; }\n        var _b = _a === void 0 ? {} : _a, onSuccessFromSave = _b.onSuccess, onFailureFromSave = _b.onFailure, transformFromSave = _b.transform;\n        return Promise.resolve(transformFromSave\n            ? transformFromSave(data)\n            : transformRef.current\n                ? transformRef.current(data)\n                : data).then(function (data) {\n            return create({ payload: { data: data } }, {\n                action: CRUD_CREATE,\n                onSuccess: onSuccessFromSave\n                    ? onSuccessFromSave\n                    : onSuccessRef.current\n                        ? onSuccessRef.current\n                        : function (_a) {\n                            var newRecord = _a.data;\n                            notify(successMessage ||\n                                'ra.notification.created', 'info', {\n                                smart_count: 1,\n                            });\n                            redirect(redirectTo, basePath, newRecord.id, newRecord);\n                        },\n                onFailure: onFailureFromSave\n                    ? onFailureFromSave\n                    : onFailureRef.current\n                        ? onFailureRef.current\n                        : function (error) {\n                            notify(typeof error === 'string'\n                                ? error\n                                : error.message ||\n                                    'ra.notification.http_error', 'warning', {\n                                _: typeof error === 'string'\n                                    ? error\n                                    : error && error.message\n                                        ? error.message\n                                        : undefined,\n                            });\n                        },\n            });\n        });\n    }, [\n        transformRef,\n        create,\n        onSuccessRef,\n        onFailureRef,\n        notify,\n        successMessage,\n        redirect,\n        basePath,\n    ]);\n    var getResourceLabel = useGetResourceLabel();\n    var defaultTitle = translate('ra.page.create', {\n        name: getResourceLabel(resource, 1),\n    });\n    return {\n        loading: false,\n        loaded: true,\n        saving: saving,\n        defaultTitle: defaultTitle,\n        onFailureRef: onFailureRef,\n        onSuccessRef: onSuccessRef,\n        transformRef: transformRef,\n        save: save,\n        setOnSuccess: setOnSuccess,\n        setOnFailure: setOnFailure,\n        setTransform: setTransform,\n        resource: resource,\n        basePath: basePath,\n        record: recordToUse,\n        redirect: getDefaultRedirectRoute(hasShow, hasEdit),\n        version: version,\n    };\n};\nexport var getRecord = function (_a, record) {\n    var state = _a.state, search = _a.search;\n    if (record === void 0) { record = {}; }\n    if (state && state.record) {\n        return state.record;\n    }\n    if (search) {\n        try {\n            var searchParams = parse(search);\n            if (searchParams.source) {\n                if (Array.isArray(searchParams.source)) {\n                    console.error(\"Failed to parse location search parameter '\" + search + \"'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={\\\"title\\\":\\\"foo\\\"}')\");\n                    return;\n                }\n                return JSON.parse(searchParams.source);\n            }\n        }\n        catch (e) {\n            console.error(\"Failed to parse location search parameter '\" + search + \"'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={\\\"title\\\":\\\"foo\\\"}')\");\n        }\n    }\n    return record;\n};\nvar getDefaultRedirectRoute = function (hasShow, hasEdit) {\n    if (hasEdit) {\n        return 'edit';\n    }\n    if (hasShow) {\n        return 'show';\n    }\n    return 'list';\n};\n","import { createContext } from 'react';\n/**\n * Context to store the result of the useCreateController() hook.\n *\n * Use the useCreateContext() hook to read the context. That's what the Create components do in react-admin.\n *\n * @example\n *\n * import { useCreateController, CreateContextProvider } from 'ra-core';\n *\n * const Create = props => {\n *     const controllerProps = useCreateController(props);\n *     return (\n *         <CreateContextProvider value={controllerProps}>\n *             ...\n *         </CreateContextProvider>\n *     );\n * };\n */\nexport var CreateContext = createContext({\n    basePath: null,\n    record: null,\n    defaultTitle: null,\n    onFailureRef: null,\n    onSuccessRef: null,\n    transformRef: null,\n    loaded: null,\n    loading: null,\n    redirect: null,\n    setOnFailure: null,\n    setOnSuccess: null,\n    setTransform: null,\n    resource: null,\n    save: null,\n    saving: null,\n    successMessage: null,\n    version: null,\n});\nCreateContext.displayName = 'CreateContext';\n","import * as React from 'react';\nimport { createContext, useContext, useMemo } from 'react';\nimport pick from 'lodash/pick';\nexport var SaveContext = createContext(undefined);\nexport var SaveContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(SaveContext.Provider, { value: value }, children));\n};\n/**\n * Get the save() function and its status\n *\n * Used in forms.\n *\n * @example\n *\n * const {\n *     save,\n *     saving\n * } = useSaveContext();\n */\nexport var useSaveContext = function (props) {\n    var context = useContext(SaveContext);\n    if (!context || !context.save || !context.setOnFailure) {\n        /**\n         * The element isn't inside a <SaveContextProvider>\n         * To avoid breakage in that case, fallback to props\n         *\n         * @deprecated - to be removed in 4.0\n         */\n        if (process.env.NODE_ENV !== 'production') {\n            console.log(\"Edit or Create child components must be used inside a <SaveContextProvider>. Relying on props rather than context to get persistence related data and callbacks is deprecated and won't be supported in the next major version of react-admin.\");\n        }\n        return props;\n    }\n    return context;\n};\nexport var usePickSaveContext = function (context) {\n    var value = useMemo(function () {\n        return pick(context, [\n            'save',\n            'saving',\n            'setOnFailure',\n            'setOnSuccess',\n            'setTransform',\n            'onSuccessRef',\n            'onFailureRef',\n            'transformRef',\n        ]);\n    }, \n    /* eslint-disable react-hooks/exhaustive-deps */\n    [\n        context.save,\n        context.saving,\n        context.setOnFailure,\n        context.setOnSuccess,\n        context.setTransform,\n        context.setTransform,\n        context.onFailureRef,\n        context.onSuccessRef,\n        context.transformRef,\n    ]\n    /* eslint-enable react-hooks/exhaustive-deps */\n    );\n    return value;\n};\n","import * as React from 'react';\nimport { RecordContextProvider } from '../RecordContext';\nimport { CreateContext } from './CreateContext';\nimport { SaveContextProvider, usePickSaveContext } from './SaveContext';\n/**\n * Create a Create Context.\n *\n * @example\n *\n * const MyCreate = (props) => {\n *     const controllerProps = useCreateController(props);\n *     return (\n *         <CreateContextProvider value={controllerProps}>\n *             <MyCreateView>\n *         </CreateContextProvider>\n *     );\n * };\n *\n * const MyCreateView = () => {\n *     const record = useRecordContext();\n *     // or, to rerender only when the save operation change but not data\n *     const { saving } = useCreateContext();\n * }\n *\n * @see CreateContext\n * @see RecordContext\n */\nexport var CreateContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(CreateContext.Provider, { value: value },\n        React.createElement(SaveContextProvider, { value: usePickSaveContext(value) },\n            React.createElement(RecordContextProvider, { value: value && value.record }, children))));\n};\n","import { useContext, useMemo } from 'react';\nimport defaults from 'lodash/defaults';\nimport { CreateContext } from './CreateContext';\n/**\n * Hook to read the create controller props from the CreateContext.\n *\n * Mostly used within a <CreateContext.Provider> (e.g. as a descendent of <Create>).\n *\n * But you can also use it without a <CreateContext.Provider>. In this case, it is up to you\n * to pass all the necessary props.\n *\n * The given props will take precedence over context values.\n *\n * @typedef {Object} CreateControllerProps\n *\n * @returns {CreateControllerProps} create controller props\n *\n * @see useCreateController for how it is filled\n *\n */\nexport var useCreateContext = function (props) {\n    var context = useContext(\n    // Can't find a way to specify the RecordType when CreateContext is declared\n    // @ts-ignore\n    CreateContext);\n    // Props take precedence over the context\n    return useMemo(function () {\n        return defaults({}, props != null ? extractCreateContextProps(props) : {}, context);\n    }, [context, props]);\n};\n/**\n * Extract only the create controller props\n *\n * @param {Object} props props passed to the useCreateContext hook\n *\n * @returns {CreateControllerProps} create controller props\n */\nvar extractCreateContextProps = function (_a) {\n    var basePath = _a.basePath, record = _a.record, defaultTitle = _a.defaultTitle, onFailureRef = _a.onFailureRef, onSuccessRef = _a.onSuccessRef, transformRef = _a.transformRef, loaded = _a.loaded, loading = _a.loading, redirect = _a.redirect, setOnFailure = _a.setOnFailure, setOnSuccess = _a.setOnSuccess, setTransform = _a.setTransform, resource = _a.resource, save = _a.save, saving = _a.saving, successMessage = _a.successMessage, version = _a.version;\n    return ({\n        basePath: basePath,\n        record: record,\n        defaultTitle: defaultTitle,\n        onFailureRef: onFailureRef,\n        onSuccessRef: onSuccessRef,\n        transformRef: transformRef,\n        loaded: loaded,\n        loading: loading,\n        redirect: redirect,\n        setOnFailure: setOnFailure,\n        setOnSuccess: setOnSuccess,\n        setTransform: setTransform,\n        resource: resource,\n        save: save,\n        saving: saving,\n        successMessage: successMessage,\n        version: version,\n    });\n};\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Title, { TitlePropType } from './Title';\nvar TitleForRecord = function (_a) {\n    var defaultTitle = _a.defaultTitle, record = _a.record, title = _a.title;\n    return record ? (React.createElement(Title, { title: title, record: record, defaultTitle: defaultTitle })) : null;\n};\nTitleForRecord.propTypes = {\n    defaultTitle: PropTypes.any,\n    record: PropTypes.object,\n    title: TitlePropType,\n};\nexport default TitleForRecord;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport { useCreateContext } from 'ra-core';\nimport { Card } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { TitleForRecord } from '../layout';\nexport var CreateView = function (props) {\n    var _a;\n    var actions = props.actions, aside = props.aside, children = props.children, classesOverride = props.classes, className = props.className, Content = props.component, title = props.title, rest = __rest(props, [\"actions\", \"aside\", \"children\", \"classes\", \"className\", \"component\", \"title\"]);\n    var classes = useStyles(props);\n    var _b = useCreateContext(props), basePath = _b.basePath, defaultTitle = _b.defaultTitle, hasList = _b.hasList, record = _b.record, redirect = _b.redirect, resource = _b.resource, save = _b.save, saving = _b.saving, version = _b.version;\n    return (React.createElement(\"div\", __assign({ className: classnames('create-page', classes.root, className) }, sanitizeRestProps(rest)),\n        React.createElement(TitleForRecord, { title: title, record: record, defaultTitle: defaultTitle }),\n        actions &&\n            cloneElement(actions, __assign({ basePath: basePath, resource: resource, hasList: hasList }, actions.props)),\n        React.createElement(\"div\", { className: classnames(classes.main, (_a = {},\n                _a[classes.noActions] = !actions,\n                _a)) },\n            React.createElement(Content, { className: classes.card }, cloneElement(Children.only(children), {\n                basePath: basePath,\n                record: record,\n                redirect: typeof children.props.redirect === 'undefined'\n                    ? redirect\n                    : children.props.redirect,\n                resource: resource,\n                save: typeof children.props.save === 'undefined'\n                    ? save\n                    : children.props.save,\n                saving: saving,\n                version: version,\n            })),\n            aside &&\n                cloneElement(aside, {\n                    basePath: basePath,\n                    record: record,\n                    resource: resource,\n                    save: typeof children.props.save === 'undefined'\n                        ? save\n                        : children.props.save,\n                    saving: saving,\n                    version: version,\n                }))));\n};\nCreateView.propTypes = {\n    actions: PropTypes.element,\n    aside: PropTypes.element,\n    basePath: PropTypes.string,\n    children: PropTypes.element,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    defaultTitle: PropTypes.any,\n    hasList: PropTypes.bool,\n    hasShow: PropTypes.bool,\n    record: PropTypes.object,\n    redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    resource: PropTypes.string,\n    save: PropTypes.func,\n    title: PropTypes.node,\n    onSuccess: PropTypes.func,\n    onFailure: PropTypes.func,\n    setOnSuccess: PropTypes.func,\n    setOnFailure: PropTypes.func,\n    setTransform: PropTypes.func,\n};\nCreateView.defaultProps = {\n    classes: {},\n    component: Card,\n};\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        root: {},\n        main: {\n            display: 'flex',\n        },\n        noActions: (_a = {},\n            _a[theme.breakpoints.up('sm')] = {\n                marginTop: '1em',\n            },\n            _a),\n        card: {\n            flex: '1 1 auto',\n        },\n    });\n}, { name: 'RaCreate' });\nvar sanitizeRestProps = function (_a) {\n    var _b = _a.basePath, basePath = _b === void 0 ? null : _b, _c = _a.defaultTitle, defaultTitle = _c === void 0 ? null : _c, _d = _a.hasCreate, hasCreate = _d === void 0 ? null : _d, _e = _a.hasEdit, hasEdit = _e === void 0 ? null : _e, _f = _a.hasList, hasList = _f === void 0 ? null : _f, _g = _a.hasShow, hasShow = _g === void 0 ? null : _g, _h = _a.history, history = _h === void 0 ? null : _h, _j = _a.loaded, loaded = _j === void 0 ? null : _j, _k = _a.loading, loading = _k === void 0 ? null : _k, _l = _a.location, location = _l === void 0 ? null : _l, _m = _a.match, match = _m === void 0 ? null : _m, _o = _a.onFailure, onFailure = _o === void 0 ? null : _o, _p = _a.onFailureRef, onFailureRef = _p === void 0 ? null : _p, _q = _a.onSuccess, onSuccess = _q === void 0 ? null : _q, _r = _a.onSuccessRef, onSuccessRef = _r === void 0 ? null : _r, _s = _a.options, options = _s === void 0 ? null : _s, _t = _a.permissions, permissions = _t === void 0 ? null : _t, _u = _a.save, save = _u === void 0 ? null : _u, _v = _a.saving, saving = _v === void 0 ? null : _v, _w = _a.setOnFailure, setOnFailure = _w === void 0 ? null : _w, _x = _a.setOnSuccess, setOnSuccess = _x === void 0 ? null : _x, _y = _a.setTransform, setTransform = _y === void 0 ? null : _y, _z = _a.transform, transform = _z === void 0 ? null : _z, _0 = _a.transformRef, transformRef = _0 === void 0 ? null : _0, rest = __rest(_a, [\"basePath\", \"defaultTitle\", \"hasCreate\", \"hasEdit\", \"hasList\", \"hasShow\", \"history\", \"loaded\", \"loading\", \"location\", \"match\", \"onFailure\", \"onFailureRef\", \"onSuccess\", \"onSuccessRef\", \"options\", \"permissions\", \"save\", \"saving\", \"setOnFailure\", \"setOnSuccess\", \"setTransform\", \"transform\", \"transformRef\"]);\n    return rest;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { CreateContextProvider, ResourceContextProvider, useCheckMinimumRequiredProps, useCreateController, } from 'ra-core';\nimport { CreateView } from './CreateView';\n/**\n * Page component for the Create view\n *\n * The `<Create>` component renders the page title and actions.\n * It is not responsible for rendering the actual form -\n * that's the job of its child component (usually `<SimpleForm>`),\n * to which it passes the `record` as prop.\n *\n * The <Create> component accepts the following props:\n *\n * - actions\n * - aside\n * - component\n * - successMessage\n * - title\n *\n * @example\n *\n * // in src/posts.js\n * import * as React from \"react\";\n * import { Create, SimpleForm, TextInput } from 'react-admin';\n *\n * export const PostCreate = (props) => (\n *     <Create {...props}>\n *         <SimpleForm>\n *             <TextInput source=\"title\" />\n *         </SimpleForm>\n *     </Create>\n * );\n *\n * // in src/App.js\n * import * as React from \"react\";\n * import { Admin, Resource } from 'react-admin';\n *\n * import { PostCreate } from './posts';\n *\n * const App = () => (\n *     <Admin dataProvider={...}>\n *         <Resource name=\"posts\" create={PostCreate} />\n *     </Admin>\n * );\n * export default App;\n */\nexport var Create = function (props) {\n    useCheckMinimumRequiredProps('Create', ['children'], props);\n    var controllerProps = useCreateController(props);\n    var body = (React.createElement(CreateContextProvider, { value: controllerProps },\n        React.createElement(CreateView, __assign({}, props, controllerProps))));\n    return props.resource ? (\n    // support resource override via props\n    React.createElement(ResourceContextProvider, { value: props.resource }, body)) : (body);\n};\nCreate.propTypes = {\n    actions: PropTypes.element,\n    aside: PropTypes.element,\n    children: PropTypes.element,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    hasCreate: PropTypes.bool,\n    hasEdit: PropTypes.bool,\n    hasShow: PropTypes.bool,\n    resource: PropTypes.string,\n    title: PropTypes.node,\n    record: PropTypes.object,\n    hasList: PropTypes.bool,\n    successMessage: PropTypes.string,\n    onSuccess: PropTypes.func,\n    onFailure: PropTypes.func,\n    transform: PropTypes.func,\n};\nexport default Create;\n","import { useEffect, useRef } from 'react';\nimport { useForm } from 'react-final-form';\n/**\n * Reset the submission error when the corresponding field changes.\n * final-form doesn't do this by default.\n */\nvar useResetSubmitErrors = function () {\n    var form = useForm();\n    var prevValues = useRef(form.getState().values);\n    useEffect(function () {\n        var unsubscribe = form.subscribe(function (_a) {\n            var values = _a.values;\n            form.mutators.resetSubmitErrors({\n                current: values,\n                prev: prevValues.current,\n            });\n            prevValues.current = values;\n        }, { values: true });\n        return unsubscribe;\n    }, [form]);\n};\nexport default useResetSubmitErrors;\n","import merge from 'lodash/merge';\n/**\n * Because final-form removes undefined and empty string values completely\n * (the key for the empty field is removed from the values), we have to check\n * whether this value was initially provided so that it is correctly sent to\n * the backend.\n * @see https://github.com/final-form/react-final-form/issues/130#issuecomment-493447888\n *\n * @param initialValues The initial values provided to the form\n * @param values The current form values\n */\nvar sanitizeEmptyValues = function (initialValues, values) {\n    // For every field initially provided, we check whether it value has been removed\n    // and set it explicitly to an empty string\n    if (!initialValues)\n        return values;\n    var initialValuesWithEmptyFields = Object.keys(initialValues).reduce(function (acc, key) {\n        if (values[key] instanceof Date) {\n            acc[key] = values[key];\n        }\n        else if (Array.isArray(values[key])) {\n            if (Array.isArray(initialValues[key])) {\n                acc[key] = values[key].map(function (value, index) {\n                    return sanitizeEmptyValues(initialValues[key][index], value);\n                });\n            }\n            else {\n                acc[key] = values[key];\n            }\n        }\n        else if (typeof values[key] === 'object' &&\n            typeof initialValues[key] === 'object' &&\n            values[key] !== null) {\n            acc[key] = sanitizeEmptyValues(initialValues[key], values[key]);\n        }\n        else {\n            acc[key] =\n                typeof values[key] === 'undefined' ? null : values[key];\n        }\n        return acc;\n    }, {});\n    // Finally, we merge back the values to not miss any which wasn't initially provided\n    return merge(initialValuesWithEmptyFields, values);\n};\nexport default sanitizeEmptyValues;\n","import merge from 'lodash/merge';\nexport default function getFormInitialValues(initialValues, defaultValue, record) {\n    if (typeof defaultValue !== 'undefined') {\n        console.warn('\"defaultValue\" is deprecated, please use \"initialValues\" instead');\n    }\n    var finalInitialValues = merge({}, getValues(defaultValue, record), getValues(initialValues, record), record);\n    return finalInitialValues;\n}\nfunction getValues(values, record) {\n    if (typeof values === 'object') {\n        return values;\n    }\n    if (typeof values === 'function') {\n        return values(record);\n    }\n    return {};\n}\n","import * as React from 'react';\nimport { FormContext } from './FormContext';\n/**\n * Provides utilities to Form children, allowing them to change the default save function or register inputs to a group.\n * @param props The component props\n * @param {ReactNode} props.children The form content\n * @param {FormContextValue} props.value The form context\n */\nexport var FormContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return React.createElement(FormContext.Provider, { value: value }, children);\n};\n","/**\n * Fork of the https://github.com/ignatevdev/final-form-submit-errors\n *\n * In react-admin, errors might be objects with `message` and `args` properties which\n * are used for translation.\n * The original final-form-submit-errors mutator was considering those errors as form\n * nested field like `name.message` and `name.args`.\n * This version detects those objects.\n */\nexport function resetSubmitErrors(_a, state, _b) {\n    var _c = _a[0], prev = _c.prev, current = _c.current;\n    var getIn = _b.getIn, setIn = _b.setIn;\n    // Reset the general submit error on any value change\n    if (state.formState.submitError) {\n        delete state.formState.submitError;\n    }\n    if (!isObjectEmpty(state.formState.submitErrors)) {\n        // Flatten nested errors object for easier comparison\n        var flatErrors = flatten(state.formState.submitErrors);\n        var changed_1 = [];\n        // Iterate over each error\n        Object.keys(flatErrors).forEach(function (key) {\n            // Compare the value for the error field path\n            if (getIn(prev, key) !== getIn(current, key)) {\n                changed_1.push(key);\n            }\n        });\n        // Reset the error on value change\n        if (changed_1.length) {\n            var newErrors_1 = state.formState.submitErrors;\n            changed_1.forEach(function (key) {\n                newErrors_1 = setIn(newErrors_1, key, null);\n            });\n            // Clear submit errors from empty objects and arrays\n            var cleanErrors = clean(newErrors_1);\n            state.formState.submitErrors = cleanErrors;\n        }\n    }\n}\nexport function clean(obj) {\n    var newObj = Array.isArray(obj) ? [] : {};\n    Object.keys(obj).forEach(function (key) {\n        if (obj[key] && typeof obj[key] === 'object') {\n            var newVal = clean(obj[key]);\n            if (!isObjectEmpty(newVal) && newVal.length !== 0) {\n                newObj[key] = newVal;\n            }\n        }\n        else if (obj[key] !== null) {\n            newObj[key] = obj[key];\n        }\n    });\n    return newObj;\n}\nexport function flatten(obj) {\n    var toReturn = {};\n    for (var i in obj) {\n        if (!obj.hasOwnProperty(i)) {\n            continue;\n        }\n        if (typeof obj[i] === 'object' &&\n            obj[i] !== null &&\n            !isValidationError(obj[i])) {\n            var flatObject = flatten(obj[i]);\n            for (var x in flatObject) {\n                if (!flatObject.hasOwnProperty(x)) {\n                    continue;\n                }\n                // Make a bracket array notation like some[1].array[0]\n                var key = (i + \".\" + x).split('.').reduce(function (str, value) {\n                    if (/^\\[\\d\\]/.test(value)) {\n                        return \"\" + str + value;\n                    }\n                    if (!isNaN(Number(value))) {\n                        return str + \"[\" + value + \"]\";\n                    }\n                    if (str) {\n                        return str + \".\" + value;\n                    }\n                    return value;\n                }, '');\n                toReturn[key] = flatObject[x];\n            }\n        }\n        else {\n            toReturn[i] = obj[i];\n        }\n    }\n    return toReturn;\n}\nexport var isValidationError = function (obj) { return obj.message && obj.args; };\nexport function isObjectEmpty(obj) {\n    if (!obj) {\n        return true;\n    }\n    return Object.entries(obj).length === 0 && obj.constructor === Object;\n}\nexport default {\n    resetSubmitErrors: resetSubmitErrors,\n};\n","import { useEffect, useRef } from 'react';\nimport { useFormState } from 'react-final-form';\nimport { useHistory } from 'react-router-dom';\nimport { useTranslate } from '../i18n';\n/**\n * Display a confirmation dialog if the form has unsaved changes.\n * - If the user confirms, the navigation continues and the changes are lost.\n * - If the user cancels, the navigation is cancelled and the changes are kept.\n */\nvar useWarnWhenUnsavedChanges = function (enable, formRootPathname) {\n    var history = useHistory();\n    var translate = useTranslate();\n    var pristine = useFormState(UseFormStateSubscription).pristine;\n    var initialLocation = useRef(formRootPathname || history.location.pathname);\n    useEffect(function () {\n        if (!enable) {\n            return;\n        }\n        var release = history.block(function (location) {\n            var isInsideForm = location.pathname.startsWith(initialLocation.current);\n            if (!pristine && !isInsideForm) {\n                return translate('ra.message.unsaved_changes');\n            }\n            return undefined;\n        });\n        return function () {\n            if (release) {\n                release();\n            }\n        };\n    }, [pristine, enable, history, translate]);\n};\nvar UseFormStateSubscription = {\n    // For some reason, subscribing only to pristine does not rerender when a field become dirty\n    // because it has a defaultValue (not initialValue as setting an initialValue does not make the field dirty)\n    subscription: { pristine: true, dirtyFields: true },\n};\nexport default useWarnWhenUnsavedChanges;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useRef, useCallback, useEffect, useMemo } from 'react';\nimport { Form } from 'react-final-form';\nimport arrayMutators from 'final-form-arrays';\nimport { useDispatch } from 'react-redux';\nimport useResetSubmitErrors from './useResetSubmitErrors';\nimport sanitizeEmptyValues from './sanitizeEmptyValues';\nimport getFormInitialValues from './getFormInitialValues';\nimport { setAutomaticRefresh } from '../actions/uiActions';\nimport { FormContextProvider } from './FormContextProvider';\nimport submitErrorsMutators from './submitErrorsMutators';\nimport useWarnWhenUnsavedChanges from './useWarnWhenUnsavedChanges';\n/**\n * Wrapper around react-final-form's Form to handle redirection on submit,\n * legacy defaultValue prop, and array inputs.\n *\n * Requires a render function, just like react-final-form\n *\n * @example\n *\n * const SimpleForm = props => (\n *    <FormWithRedirect\n *        {...props}\n *        render={formProps => <SimpleFormView {...formProps} />}\n *    />\n * );\n *\n * @typedef {Object} Props the props you can use (other props are injected by Create or Edit)\n * @prop {Object} initialValues\n * @prop {Function} validate\n * @prop {Function} save\n * @prop {boolean} submitOnEnter\n * @prop {string} redirect\n * @prop {boolean} sanitizeEmptyValues\n *\n * @param {Props} props\n */\nvar FormWithRedirect = function (_a) {\n    var debug = _a.debug, decorators = _a.decorators, defaultValue = _a.defaultValue, destroyOnUnregister = _a.destroyOnUnregister, form = _a.form, formRootPathname = _a.formRootPathname, initialValues = _a.initialValues, initialValuesEqual = _a.initialValuesEqual, _b = _a.keepDirtyOnReinitialize, keepDirtyOnReinitialize = _b === void 0 ? true : _b, _c = _a.mutators, mutators = _c === void 0 ? defaultMutators : _c, record = _a.record, render = _a.render, save = _a.save, saving = _a.saving, _d = _a.subscription, subscription = _d === void 0 ? defaultSubscription : _d, validate = _a.validate, validateOnBlur = _a.validateOnBlur, version = _a.version, warnWhenUnsavedChanges = _a.warnWhenUnsavedChanges, _e = _a.sanitizeEmptyValues, shouldSanitizeEmptyValues = _e === void 0 ? true : _e, props = __rest(_a, [\"debug\", \"decorators\", \"defaultValue\", \"destroyOnUnregister\", \"form\", \"formRootPathname\", \"initialValues\", \"initialValuesEqual\", \"keepDirtyOnReinitialize\", \"mutators\", \"record\", \"render\", \"save\", \"saving\", \"subscription\", \"validate\", \"validateOnBlur\", \"version\", \"warnWhenUnsavedChanges\", \"sanitizeEmptyValues\"]);\n    var redirect = useRef(props.redirect);\n    var onSave = useRef(save);\n    var formGroups = useRef({});\n    var finalMutators = useMemo(function () {\n        return mutators === defaultMutators\n            ? mutators\n            : __assign(__assign({}, defaultMutators), mutators);\n    }, [mutators]);\n    // We don't use state here for two reasons:\n    // 1. There no way to execute code only after the state has been updated\n    // 2. We don't want the form to rerender when redirect is changed\n    var setRedirect = function (newRedirect) {\n        redirect.current = newRedirect;\n    };\n    /**\n     * A form can have several Save buttons. In case the user clicks on\n     * a Save button with a custom onSave handler, then on a second Save button\n     * without custom onSave handler, the user expects the default save\n     * handler (the one of the Form) to be called.\n     * That's why the SaveButton onClick calls setOnSave() with no parameters\n     * if it has no custom onSave, and why this function forces a default to\n     * save.\n     */\n    var setOnSave = useCallback(function (newOnSave) {\n        typeof newOnSave === 'function'\n            ? (onSave.current = newOnSave)\n            : (onSave.current = save);\n    }, [save]);\n    var formContextValue = useMemo(function () { return ({\n        setOnSave: setOnSave,\n        getGroupFields: function (name) { return formGroups.current[name] || []; },\n        registerGroup: function (name) {\n            formGroups.current[name] = formGroups.current[name] || [];\n        },\n        unregisterGroup: function (name) {\n            delete formGroups[name];\n        },\n        registerField: function (source, group) {\n            if (group) {\n                var fields = new Set(formGroups.current[group] || []);\n                fields.add(source);\n                formGroups.current[group] = Array.from(fields);\n            }\n        },\n        unregisterField: function (source, group) {\n            if (group) {\n                if (!formGroups.current[group]) {\n                    console.warn(\"Invalid form group \" + group);\n                }\n                else {\n                    var fields = new Set(formGroups.current[group]);\n                    fields.delete(source);\n                    formGroups.current[group] = Array.from(fields);\n                }\n            }\n        },\n    }); }, [setOnSave]);\n    var finalInitialValues = useMemo(function () { return getFormInitialValues(initialValues, defaultValue, record); }, [JSON.stringify({ initialValues: initialValues, defaultValue: defaultValue, record: record })] // eslint-disable-line\n    );\n    var submit = function (values) {\n        var finalRedirect = typeof redirect.current === undefined\n            ? props.redirect\n            : redirect.current;\n        if (shouldSanitizeEmptyValues) {\n            var sanitizedValues = sanitizeEmptyValues(finalInitialValues, values);\n            return onSave.current(sanitizedValues, finalRedirect);\n        }\n        else {\n            return onSave.current(values, finalRedirect);\n        }\n    };\n    return (React.createElement(FormContextProvider, { value: formContextValue },\n        React.createElement(Form, { key: version + \"_\" + ((record === null || record === void 0 ? void 0 : record.id) || ''), debug: debug, decorators: decorators, destroyOnUnregister: destroyOnUnregister, form: form, initialValues: finalInitialValues, initialValuesEqual: initialValuesEqual, keepDirtyOnReinitialize: keepDirtyOnReinitialize, mutators: finalMutators, onSubmit: submit, subscription: subscription, validate: validate, validateOnBlur: validateOnBlur, render: function (formProps) { return (\n            // @ts-ignore Ignored because of a weird error about the active prop\n            React.createElement(FormView, __assign({}, props, formProps, { key: version + \"_\" + ((record === null || record === void 0 ? void 0 : record.id) || ''), record: record, setRedirect: setRedirect, saving: formProps.submitting || saving, render: render, save: save, warnWhenUnsavedChanges: warnWhenUnsavedChanges, formRootPathname: formRootPathname }))); } })));\n};\nvar defaultMutators = __assign(__assign({}, arrayMutators), submitErrorsMutators);\nvar defaultSubscription = {\n    submitting: true,\n    pristine: true,\n    valid: true,\n    invalid: true,\n    validating: true,\n};\nvar FormView = function (_a) {\n    var formRootPathname = _a.formRootPathname, render = _a.render, warnWhenUnsavedChanges = _a.warnWhenUnsavedChanges, setRedirect = _a.setRedirect, props = __rest(_a, [\"formRootPathname\", \"render\", \"warnWhenUnsavedChanges\", \"setRedirect\"]);\n    useResetSubmitErrors();\n    useWarnWhenUnsavedChanges(warnWhenUnsavedChanges, formRootPathname);\n    var dispatch = useDispatch();\n    var redirect = props.redirect, handleSubmit = props.handleSubmit, pristine = props.pristine;\n    useEffect(function () {\n        dispatch(setAutomaticRefresh(pristine));\n    }, [dispatch, pristine]);\n    /**\n     * We want to let developers define the redirection target from inside the form,\n     * e.g. in a <SaveButton redirect=\"list\" />.\n     * This callback does two things: handle submit, and change the redirection target.\n     * The actual redirection is done in save(), passed by the main controller.\n     *\n     * If the redirection target doesn't depend on the button clicked, it's a\n     * better option to define it directly on the Form component. In that case,\n     * using handleSubmit() instead of handleSubmitWithRedirect is fine.\n     *\n     * @example\n     *\n     * <Button onClick={() => handleSubmitWithRedirect('edit')}>\n     *     Save and edit\n     * </Button>\n     */\n    var handleSubmitWithRedirect = useCallback(function (redirectTo) {\n        if (redirectTo === void 0) { redirectTo = redirect; }\n        setRedirect(redirectTo);\n        handleSubmit();\n    }, [setRedirect, redirect, handleSubmit]);\n    return render(__assign(__assign({}, props), { handleSubmitWithRedirect: handleSubmitWithRedirect }));\n};\nexport default FormWithRedirect;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Labeled from '../input/Labeled';\nvar sanitizeRestProps = function (_a) {\n    var basePath = _a.basePath, record = _a.record, rest = __rest(_a, [\"basePath\", \"record\"]);\n    return rest;\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    input: { width: theme.spacing(32) },\n}); }, { name: 'RaFormInput' });\nvar FormInput = function (props) {\n    var _a, _b;\n    var input = props.input, classesOverride = props.classes, rest = __rest(props, [\"input\", \"classes\"]);\n    var classes = useStyles(props);\n    var _c = input\n        ? input.props\n        : { id: undefined, className: undefined }, id = _c.id, className = _c.className, inputProps = __rest(_c, [\"id\", \"className\"]);\n    return input ? (React.createElement(\"div\", { className: classnames('ra-input', \"ra-input-\" + input.props.source, input.props.formClassName) }, input.props.addLabel ? (React.createElement(Labeled, __assign({ id: id || input.props.source }, inputProps, sanitizeRestProps(rest)), React.cloneElement(input, __assign(__assign({ className: classnames((_a = {},\n            _a[classes.input] = !input.props.fullWidth,\n            _a), className), id: input.props.id || input.props.source }, rest), inputProps)))) : (React.cloneElement(input, __assign(__assign({ className: classnames((_b = {},\n            _b[classes.input] = !input.props.fullWidth,\n            _b), className), id: input.props.id || input.props.source }, rest), inputProps))))) : null;\n};\nFormInput.propTypes = {\n    classes: PropTypes.object,\n    // @ts-ignore\n    input: PropTypes.node,\n};\n// What? TypeScript loses the displayName if we don't set it explicitly\nFormInput.displayName = 'FormInput';\nexport default FormInput;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ContentSave from '@material-ui/icons/Save';\nimport classnames from 'classnames';\nimport { useTranslate, useNotify, useSaveContext, useFormContext, } from 'ra-core';\nimport { sanitizeButtonRestProps } from './Button';\n/**\n * Submit button for resource forms (Edit and Create).\n *\n * @typedef {Object} Props the props you can use (other props are injected by the <Toolbar>)\n * @prop {string} className\n * @prop {string} label Button label. Defaults to 'ra.action.save', translated.\n * @prop {boolean} disabled Disable the button.\n * @prop {string} variant Material-ui variant for the button. Defaults to 'contained'.\n * @prop {ReactElement} icon\n * @prop {string|boolean} redirect Override of the default redirect in case of success. Can be 'list', 'show', 'edit' (for create views), or false (to stay on the creation form).\n * @prop {function} onSave (deprecated)\n * @prop {function} onSuccess Callback to execute instead of the default success side effects. Receives the dataProvider response as argument.\n * @prop {function} onFailure Callback to execute instead of the default error side effects. Receives the dataProvider error response as argument.\n * @prop {function} transform Callback to execute before calling the dataProvider. Receives the data from the form, must return that transformed data. Can be asynchronous (and return a Promise)\n *\n * @param {Props} props\n *\n * @example // with custom redirection\n *\n * <SaveButton label=\"post.action.save_and_edit\" redirect=\"edit\" />\n *\n * @example // with no redirection\n *\n * <SaveButton label=\"post.action.save_and_add\" redirect={false} />\n *\n * @example // with custom success side effect\n *\n * const MySaveButton = props => {\n *     const notify = useNotify();\n *     const redirect = useRedirect();\n *     const onSuccess = (response) => {\n *         notify(`Post \"${response.data.title}\" saved!`);\n *         redirect('/posts');\n *     };\n *     return <SaveButton {...props} onSuccess={onSuccess} />;\n * }\n */\nvar SaveButton = function (props) {\n    var className = props.className, classesOverride = props.classes, invalid = props.invalid, _a = props.label, label = _a === void 0 ? 'ra.action.save' : _a, disabled = props.disabled, redirect = props.redirect, saving = props.saving, submitOnEnter = props.submitOnEnter, _b = props.variant, variant = _b === void 0 ? 'contained' : _b, _c = props.icon, icon = _c === void 0 ? defaultIcon : _c, onClick = props.onClick, handleSubmitWithRedirect = props.handleSubmitWithRedirect, onSave = props.onSave, onSuccess = props.onSuccess, onFailure = props.onFailure, transform = props.transform, rest = __rest(props, [\"className\", \"classes\", \"invalid\", \"label\", \"disabled\", \"redirect\", \"saving\", \"submitOnEnter\", \"variant\", \"icon\", \"onClick\", \"handleSubmitWithRedirect\", \"onSave\", \"onSuccess\", \"onFailure\", \"transform\"]);\n    var classes = useStyles(props);\n    var notify = useNotify();\n    var translate = useTranslate();\n    var formContext = useFormContext();\n    var _d = useSaveContext(props), setOnSuccess = _d.setOnSuccess, setOnFailure = _d.setOnFailure, setTransform = _d.setTransform;\n    var handleClick = function (event) {\n        // deprecated: use onSuccess and transform instead of onSave\n        if (typeof onSave === 'function') {\n            if (process.env.NODE_ENV !== 'production') {\n                console.warn('<SaveButton onSave> prop is deprecated, use the onSuccess prop instead.');\n                if (!formContext || !formContext.setOnSave) {\n                    console.warn('Using <SaveButton> outside a FormContext is deprecated.');\n                }\n            }\n            if (formContext && formContext.setOnSave) {\n                formContext.setOnSave(onSave);\n            }\n        }\n        else {\n            if (process.env.NODE_ENV !== 'production' &&\n                (!formContext || !formContext.setOnSave)) {\n                console.warn('Using <SaveButton> outside a FormContext is deprecated.');\n            }\n            if (formContext && formContext.setOnSave) {\n                // we reset to the Form default save function\n                formContext.setOnSave();\n            }\n        }\n        if (onSuccess) {\n            setOnSuccess(onSuccess);\n        }\n        if (onFailure) {\n            setOnFailure(onFailure);\n        }\n        if (transform) {\n            setTransform(transform);\n        }\n        if (saving) {\n            // prevent double submission\n            event.preventDefault();\n        }\n        else {\n            if (invalid) {\n                notify('ra.message.invalid_form', 'warning');\n            }\n            // always submit form explicitly regardless of button type\n            if (event) {\n                event.preventDefault();\n            }\n            handleSubmitWithRedirect(redirect);\n        }\n        if (typeof onClick === 'function') {\n            onClick(event);\n        }\n    };\n    var type = submitOnEnter ? 'submit' : 'button';\n    var displayedLabel = label && translate(label, { _: label });\n    return (React.createElement(Button, __assign({ className: classnames(classes.button, className), variant: variant, type: type, onClick: handleClick, color: saving ? 'default' : 'primary', \"aria-label\": displayedLabel, disabled: disabled }, sanitizeButtonRestProps(rest)),\n        saving ? (React.createElement(CircularProgress, { size: 18, thickness: 2, className: classes.leftIcon })) : (cloneElement(icon, {\n            className: classnames(classes.leftIcon, classes.icon),\n        })),\n        displayedLabel));\n};\nvar defaultIcon = React.createElement(ContentSave, null);\nvar useStyles = makeStyles(function (theme) { return ({\n    button: {\n        position: 'relative',\n    },\n    leftIcon: {\n        marginRight: theme.spacing(1),\n    },\n    icon: {\n        fontSize: 18,\n    },\n}); }, { name: 'RaSaveButton' });\nSaveButton.propTypes = {\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    handleSubmitWithRedirect: PropTypes.func,\n    // @deprecated\n    onSave: PropTypes.func,\n    invalid: PropTypes.bool,\n    label: PropTypes.string,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    saving: PropTypes.bool,\n    submitOnEnter: PropTypes.bool,\n    variant: PropTypes.oneOf(['text', 'outlined', 'contained']),\n    icon: PropTypes.element,\n};\nexport default SaveButton;\n","export var getMutationMode = function (mutationMode, undoable) {\n    if (mutationMode) {\n        return mutationMode;\n    }\n    switch (undoable) {\n        case true:\n            return 'undoable';\n        case false:\n            return 'pessimistic';\n        default:\n            return 'undoable';\n    }\n};\n","import { useCallback } from 'react';\nimport { useDelete } from '../../dataProvider';\nimport { CRUD_DELETE } from '../../actions';\nimport { useRefresh, useNotify, useRedirect, } from '../../sideEffect';\nimport { useResourceContext } from '../../core';\n/**\n * Prepare callback for a Delete button with undo support\n *\n * @example\n *\n * import React from 'react';\n * import ActionDelete from '@material-ui/icons/Delete';\n * import { Button, useDeleteWithUndoController } from 'react-admin';\n *\n * const DeleteButton = ({\n *     resource,\n *     record,\n *     basePath,\n *     redirect,\n *     onClick,\n *     ...rest\n * }) => {\n *     const { loading, handleDelete } = useDeleteWithUndoController({\n *         resource,\n *         record,\n *         basePath,\n *         redirect,\n *         onClick,\n *     });\n *\n *     return (\n *         <Button\n *             onClick={handleDelete}\n *             disabled={loading}\n *             label=\"ra.action.delete\"\n *             {...rest}\n *         >\n *             <ActionDelete />\n *         </Button>\n *     );\n * };\n */\nvar useDeleteWithUndoController = function (props) {\n    var record = props.record, basePath = props.basePath, _a = props.redirect, redirectTo = _a === void 0 ? 'list' : _a, onClick = props.onClick, onSuccess = props.onSuccess, onFailure = props.onFailure;\n    var resource = useResourceContext(props);\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var _b = useDelete(resource, null, null, {\n        action: CRUD_DELETE,\n        onSuccess: onSuccess !== undefined\n            ? onSuccess\n            : function () {\n                notify('ra.notification.deleted', 'info', { smart_count: 1 }, true);\n                redirect(redirectTo, basePath || \"/\" + resource);\n                refresh();\n            },\n        onFailure: onFailure !== undefined\n            ? onFailure\n            : function (error) {\n                notify(typeof error === 'string'\n                    ? error\n                    : error.message || 'ra.notification.http_error', 'warning', {\n                    _: typeof error === 'string'\n                        ? error\n                        : error && error.message\n                            ? error.message\n                            : undefined,\n                });\n                refresh();\n            },\n        mutationMode: 'undoable',\n    }), deleteOne = _b[0], loading = _b[1].loading;\n    var handleDelete = useCallback(function (event) {\n        event.stopPropagation();\n        deleteOne({\n            payload: { id: record.id, previousData: record },\n        });\n        if (typeof onClick === 'function') {\n            onClick(event);\n        }\n    }, [deleteOne, onClick, record]);\n    return { loading: loading, handleDelete: handleDelete };\n};\nexport default useDeleteWithUndoController;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { alpha } from '@material-ui/core/styles/colorManipulator';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport classnames from 'classnames';\nimport { useDeleteWithUndoController, useResourceContext, } from 'ra-core';\nimport Button from './Button';\nexport var DeleteWithUndoButton = function (props) {\n    var _a = props.label, label = _a === void 0 ? 'ra.action.delete' : _a, classesOverride = props.classes, className = props.className, _b = props.icon, icon = _b === void 0 ? defaultIcon : _b, onClick = props.onClick, record = props.record, basePath = props.basePath, _c = props.redirect, redirect = _c === void 0 ? 'list' : _c, onSuccess = props.onSuccess, onFailure = props.onFailure, rest = __rest(props, [\"label\", \"classes\", \"className\", \"icon\", \"onClick\", \"record\", \"basePath\", \"redirect\", \"onSuccess\", \"onFailure\"]);\n    var classes = useStyles(props);\n    var resource = useResourceContext(props);\n    var _d = useDeleteWithUndoController({\n        record: record,\n        resource: resource,\n        basePath: basePath,\n        redirect: redirect,\n        onClick: onClick,\n        onSuccess: onSuccess,\n        onFailure: onFailure,\n    }), loading = _d.loading, handleDelete = _d.handleDelete;\n    return (React.createElement(Button, __assign({ onClick: handleDelete, disabled: loading, label: label, className: classnames('ra-delete-button', classes.deleteButton, className), key: \"button\" }, rest), icon));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    deleteButton: {\n        color: theme.palette.error.main,\n        '&:hover': {\n            backgroundColor: alpha(theme.palette.error.main, 0.12),\n            // Reset on mouse devices\n            '@media (hover: none)': {\n                backgroundColor: 'transparent',\n            },\n        },\n    },\n}); }, { name: 'RaDeleteWithUndoButton' });\nvar defaultIcon = React.createElement(ActionDelete, null);\nDeleteWithUndoButton.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    label: PropTypes.string,\n    record: PropTypes.any,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    icon: PropTypes.element,\n};\n","import { useState, useCallback, } from 'react';\nimport { useDelete } from '../../dataProvider';\nimport { CRUD_DELETE } from '../../actions';\nimport { useRefresh, useNotify, useRedirect, } from '../../sideEffect';\nimport { useResourceContext } from '../../core';\n/**\n * Prepare a set of callbacks for a delete button guarded by confirmation dialog\n *\n * @example\n *\n * const DeleteButton = ({\n *     resource,\n *     record,\n *     basePath,\n *     redirect,\n *     onClick,\n *     ...rest\n * }) => {\n *     const {\n *         open,\n *         loading,\n *         handleDialogOpen,\n *         handleDialogClose,\n *         handleDelete,\n *     } = useDeleteWithConfirmController({\n *         resource,\n *         record,\n *         redirect,\n *         basePath,\n *         onClick,\n *     });\n *\n *     return (\n *         <Fragment>\n *             <Button\n *                 onClick={handleDialogOpen}\n *                 label=\"ra.action.delete\"\n *                 {...rest}\n *             >\n *                 {icon}\n *             </Button>\n *             <Confirm\n *                 isOpen={open}\n *                 loading={loading}\n *                 title=\"ra.message.delete_title\"\n *                 content=\"ra.message.delete_content\"\n *                 translateOptions={{\n *                     name: resource,\n *                     id: record.id,\n *                 }}\n *                 onConfirm={handleDelete}\n *                 onClose={handleDialogClose}\n *             />\n *         </Fragment>\n *     );\n * };\n */\nvar useDeleteWithConfirmController = function (props) {\n    var record = props.record, redirectTo = props.redirect, basePath = props.basePath, mutationMode = props.mutationMode, onClick = props.onClick, onSuccess = props.onSuccess, onFailure = props.onFailure;\n    var resource = useResourceContext(props);\n    var _a = useState(false), open = _a[0], setOpen = _a[1];\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var _b = useDelete(resource, null, null, {\n        action: CRUD_DELETE,\n        onSuccess: function (response) {\n            setOpen(false);\n            if (onSuccess === undefined) {\n                notify('ra.notification.deleted', 'info', { smart_count: 1 }, mutationMode === 'undoable');\n                redirect(redirectTo, basePath || \"/\" + resource);\n                refresh();\n            }\n            else {\n                onSuccess(response);\n            }\n        },\n        onFailure: function (error) {\n            setOpen(false);\n            if (onFailure === undefined) {\n                notify(typeof error === 'string'\n                    ? error\n                    : error.message || 'ra.notification.http_error', 'warning', {\n                    _: typeof error === 'string'\n                        ? error\n                        : error && error.message\n                            ? error.message\n                            : undefined,\n                });\n                refresh();\n            }\n            else {\n                onFailure(error);\n            }\n        },\n        mutationMode: mutationMode,\n    }), deleteOne = _b[0], loading = _b[1].loading;\n    var handleDialogOpen = function (e) {\n        setOpen(true);\n        e.stopPropagation();\n    };\n    var handleDialogClose = function (e) {\n        setOpen(false);\n        e.stopPropagation();\n    };\n    var handleDelete = useCallback(function (event) {\n        event.stopPropagation();\n        deleteOne({\n            payload: { id: record.id, previousData: record },\n        });\n        if (typeof onClick === 'function') {\n            onClick(event);\n        }\n    }, [deleteOne, onClick, record]);\n    return { open: open, loading: loading, handleDialogOpen: handleDialogOpen, handleDialogClose: handleDialogClose, handleDelete: handleDelete };\n};\nexport default useDeleteWithConfirmController;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Fragment, } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { alpha } from '@material-ui/core/styles/colorManipulator';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport classnames from 'classnames';\nimport inflection from 'inflection';\nimport { getMutationMode, useDeleteWithConfirmController, useResourceContext, useTranslate, } from 'ra-core';\nimport Confirm from '../layout/Confirm';\nimport Button from './Button';\nexport var DeleteWithConfirmButton = function (props) {\n    var basePath = props.basePath, classesOverride = props.classes, className = props.className, _a = props.confirmTitle, confirmTitle = _a === void 0 ? 'ra.message.delete_title' : _a, _b = props.confirmContent, confirmContent = _b === void 0 ? 'ra.message.delete_content' : _b, _c = props.icon, icon = _c === void 0 ? defaultIcon : _c, _d = props.label, label = _d === void 0 ? 'ra.action.delete' : _d, mutationMode = props.mutationMode, onClick = props.onClick, record = props.record, _e = props.redirect, redirect = _e === void 0 ? 'list' : _e, onSuccess = props.onSuccess, onFailure = props.onFailure, undoable = props.undoable, rest = __rest(props, [\"basePath\", \"classes\", \"className\", \"confirmTitle\", \"confirmContent\", \"icon\", \"label\", \"mutationMode\", \"onClick\", \"record\", \"redirect\", \"onSuccess\", \"onFailure\", \"undoable\"]);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    var resource = useResourceContext(props);\n    var mode = getMutationMode(mutationMode, undoable);\n    var _f = useDeleteWithConfirmController({\n        record: record,\n        redirect: redirect,\n        basePath: basePath,\n        mutationMode: mutationMode || mode,\n        onClick: onClick,\n        onSuccess: onSuccess,\n        onFailure: onFailure,\n        resource: resource,\n    }), open = _f.open, loading = _f.loading, handleDialogOpen = _f.handleDialogOpen, handleDialogClose = _f.handleDialogClose, handleDelete = _f.handleDelete;\n    return (React.createElement(Fragment, null,\n        React.createElement(Button, __assign({ onClick: handleDialogOpen, label: label, className: classnames('ra-delete-button', classes.deleteButton, className), key: \"button\" }, rest), icon),\n        React.createElement(Confirm, { isOpen: open, loading: loading, title: confirmTitle, content: confirmContent, translateOptions: {\n                name: translate(\"resources.\" + resource + \".forcedCaseName\", {\n                    smart_count: 1,\n                    _: inflection.humanize(translate(\"resources.\" + resource + \".name\", {\n                        smart_count: 1,\n                        _: inflection.singularize(resource),\n                    }), true),\n                }),\n                id: record.id,\n            }, onConfirm: handleDelete, onClose: handleDialogClose })));\n};\nvar defaultIcon = React.createElement(ActionDelete, null);\nvar useStyles = makeStyles(function (theme) { return ({\n    deleteButton: {\n        color: theme.palette.error.main,\n        '&:hover': {\n            backgroundColor: alpha(theme.palette.error.main, 0.12),\n            // Reset on mouse devices\n            '@media (hover: none)': {\n                backgroundColor: 'transparent',\n            },\n        },\n    },\n}); }, { name: 'RaDeleteWithConfirmButton' });\nDeleteWithConfirmButton.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    confirmTitle: PropTypes.string,\n    confirmContent: PropTypes.string,\n    label: PropTypes.string,\n    mutationMode: PropTypes.oneOf(['pessimistic', 'optimistic', 'undoable']),\n    undoable: PropTypes.bool,\n    record: PropTypes.any,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    icon: PropTypes.element,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { getMutationMode, } from 'ra-core';\nimport { DeleteWithUndoButton } from './DeleteWithUndoButton';\nimport { DeleteWithConfirmButton } from './DeleteWithConfirmButton';\n/**\n * Button used to delete a single record. Added by default by the <Toolbar> of edit and show views.\n *\n * @typedef {Object} Props The props you can use (other props are injected if you used it in the <Toolbar>)\n * @prop {boolean} undoable Confirm the deletion using an undo button in a notification or a confirmation dialog. Defaults to 'false'.\n * @prop {Object} record The current resource record\n * @prop {string} className\n * @prop {string} label Button label. Defaults to 'ra.action.delete, translated.\n * @prop {boolean} disabled Disable the button.\n * @prop {string} variant Material-ui variant for the button. Defaults to 'contained'.\n * @prop {ReactElement} icon Override the icon. Defaults to the Delete icon from material-ui.\n *\n * @param {Props} props\n *\n * @example Usage in the <TopToolbar> of an <Edit> form\n *\n * import * as React from 'react';\n * import { Edit, DeleteButton, TopToolbar } from 'react-admin';\n *\n * const EditActions = props => {\n *     const { basePath, data, resource } = props;\n *     return (\n *         <TopToolbar>\n *             <DeleteButton\n *                 basePath={basePath}\n *                 record={data}\n *                 resource={resource}\n *                 undoable={false} // Renders the <DeleteWithConfirmButton>\n *             />\n *         </TopToolbar>\n *     );\n * };\n *\n * const Edit = props => {\n *     return <Edit actions={<EditActions />} {...props} />;\n * };\n */\nexport var DeleteButton = function (props) {\n    var undoable = props.undoable, mutationMode = props.mutationMode, record = props.record, rest = __rest(props, [\"undoable\", \"mutationMode\", \"record\"]);\n    var mode = getMutationMode(mutationMode, undoable);\n    if (!record || record.id == null) {\n        return null;\n    }\n    return mode === 'undoable' ? (React.createElement(DeleteWithUndoButton, __assign({ record: record }, rest))) : (React.createElement(DeleteWithConfirmButton, __assign({ mutationMode: mode, record: record, undoable: undoable }, rest)));\n};\nDeleteButton.propTypes = {\n    basePath: PropTypes.string,\n    label: PropTypes.string,\n    mutationMode: PropTypes.oneOf(['pessimistic', 'optimistic', 'undoable']),\n    record: PropTypes.any,\n    // @ts-ignore\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    undoable: PropTypes.bool,\n    icon: PropTypes.element,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, Fragment, isValidElement, } from 'react';\nimport PropTypes from 'prop-types';\nimport MuiToolbar from '@material-ui/core/Toolbar';\nimport withWidth from '@material-ui/core/withWidth';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { SaveButton, DeleteButton } from '../button';\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        toolbar: {\n            backgroundColor: theme.palette.type === 'light'\n                ? theme.palette.grey[100]\n                : theme.palette.grey[900],\n        },\n        desktopToolbar: {\n            marginTop: theme.spacing(2),\n        },\n        mobileToolbar: {\n            position: 'fixed',\n            bottom: 0,\n            left: 0,\n            right: 0,\n            padding: '16px',\n            width: '100%',\n            boxSizing: 'border-box',\n            flexShrink: 0,\n            zIndex: 2,\n        },\n        defaultToolbar: {\n            flex: 1,\n            display: 'flex',\n            justifyContent: 'space-between',\n        },\n        spacer: (_a = {},\n            _a[theme.breakpoints.down('xs')] = {\n                height: '5em',\n            },\n            _a),\n    });\n}, { name: 'RaToolbar' });\nvar valueOrDefault = function (value, defaultValue) {\n    return typeof value === 'undefined' ? defaultValue : value;\n};\n/**\n * The Toolbar displayed at the bottom of forms.\n *\n * @example Always enable the <SaveButton />\n *\n * import * as React from 'react';\n * import {\n *     Create,\n *     DateInput,\n *     TextInput,\n *     SimpleForm,\n *     Toolbar,\n *     required,\n * } from 'react-admin';\n *\n * const now = new Date();\n * const defaultSort = { field: 'title', order: 'ASC' };\n *\n * const CommentCreate = props => (\n *     <Create {...props}>\n *         <SimpleForm redirect={false} toolbar={<Toolbar alwaysEnableSaveButton={true} />}>\n *             <TextInput\n *                 source=\"author.name\"\n *                 fullWidth\n *             />\n *             <DateInput source=\"created_at\" defaultValue={now} />\n *             <TextInput source=\"body\" fullWidth={true} multiline={true} />\n *         </SimpleForm>\n *     </Create>\n * );\n *\n * @typedef {Object} Props the props you can use (other props are injected by the <SimpleForm>)\n * @prop {boolean} alwaysEnableSaveButton Force enabling the <SaveButton>. If it's not defined, the <SaveButton> will be enabled using the `pristine` and `validating` props (disabled if pristine or validating, enabled otherwise).\n * @prop {ReactElement[]} children Customize the buttons you want to display in the <Toolbar>.\n * @prop {string} width Apply to the mobile or desktop classes depending on its value. Pass `xs` to display the mobile version.\n *\n */\nvar Toolbar = function (props) {\n    var _a;\n    var alwaysEnableSaveButton = props.alwaysEnableSaveButton, basePath = props.basePath, children = props.children, className = props.className, classesOverride = props.classes, handleSubmit = props.handleSubmit, handleSubmitWithRedirect = props.handleSubmitWithRedirect, invalid = props.invalid, pristine = props.pristine, record = props.record, redirect = props.redirect, resource = props.resource, saving = props.saving, submitOnEnter = props.submitOnEnter, undoable = props.undoable, mutationMode = props.mutationMode, validating = props.validating, width = props.width, rest = __rest(props, [\"alwaysEnableSaveButton\", \"basePath\", \"children\", \"className\", \"classes\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"pristine\", \"record\", \"redirect\", \"resource\", \"saving\", \"submitOnEnter\", \"undoable\", \"mutationMode\", \"validating\", \"width\"]);\n    var classes = useStyles(props);\n    // Use form pristine and validating to enable or disable the save button\n    // if alwaysEnableSaveButton is undefined\n    var disabled = !valueOrDefault(alwaysEnableSaveButton, !pristine && !validating);\n    return (React.createElement(Fragment, null,\n        React.createElement(MuiToolbar, __assign({ className: classnames(classes.toolbar, (_a = {},\n                _a[classes.mobileToolbar] = width === 'xs',\n                _a[classes.desktopToolbar] = width !== 'xs',\n                _a), className), role: \"toolbar\" }, rest), Children.count(children) === 0 ? (React.createElement(\"div\", { className: classes.defaultToolbar },\n            React.createElement(SaveButton, { handleSubmitWithRedirect: handleSubmitWithRedirect || handleSubmit, disabled: disabled, invalid: invalid, redirect: redirect, saving: saving || validating, submitOnEnter: submitOnEnter }),\n            record && typeof record.id !== 'undefined' && (React.createElement(DeleteButton, { basePath: basePath, record: record, resource: resource, undoable: undoable, mutationMode: mutationMode })))) : (Children.map(children, function (button) {\n            return button && isValidElement(button)\n                ? React.cloneElement(button, {\n                    basePath: valueOrDefault(button.props.basePath, basePath),\n                    handleSubmit: valueOrDefault(button.props.handleSubmit, handleSubmit),\n                    handleSubmitWithRedirect: valueOrDefault(button.props.handleSubmitWithRedirect, handleSubmitWithRedirect),\n                    onSave: button.props.onSave,\n                    invalid: invalid,\n                    pristine: pristine,\n                    record: valueOrDefault(button.props.record, record),\n                    resource: valueOrDefault(button.props.resource, resource),\n                    saving: saving,\n                    submitOnEnter: valueOrDefault(button.props.submitOnEnter, submitOnEnter),\n                    undoable: valueOrDefault(button.props.undoable, undoable),\n                })\n                : null;\n        }))),\n        React.createElement(\"div\", { className: classes.spacer })));\n};\nToolbar.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    handleSubmit: PropTypes.func,\n    handleSubmitWithRedirect: PropTypes.func,\n    invalid: PropTypes.bool,\n    pristine: PropTypes.bool,\n    record: PropTypes.any,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    saving: PropTypes.bool,\n    submitOnEnter: PropTypes.bool,\n    undoable: PropTypes.bool,\n    validating: PropTypes.bool,\n    width: PropTypes.oneOf(['xs', 'sm', 'md', 'lg', 'xl']),\n};\nToolbar.defaultProps = {\n    submitOnEnter: true,\n};\nexport default withWidth({ initialWidth: 'xs' })(Toolbar);\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        root: {\n            paddingTop: 0,\n            paddingBottom: 0,\n            '&:first-child': {\n                paddingTop: 16,\n            },\n            '&:last-child': (_a = {\n                    paddingBottom: 16\n                },\n                _a[theme.breakpoints.only('xs')] = {\n                    paddingBottom: 70,\n                },\n                _a),\n        },\n    });\n}, { name: 'RaCardContentInner' });\n/**\n * Overrides material-ui CardContent to allow inner content\n *\n * When using several CardContent inside the same Card, the top and bottom\n * padding double the spacing between each CardContent, leading to too much\n * wasted space. Use this component as a CardContent alternative.\n */\nvar CardContentInner = function (props) {\n    var className = props.className, children = props.children;\n    var classes = useStyles(props);\n    return (React.createElement(CardContent, { className: classnames(classes.root, className) }, children));\n};\nCardContentInner.propTypes = {\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    children: PropTypes.node,\n};\nexport default CardContentInner;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children } from 'react';\nimport classnames from 'classnames';\nimport FormInput from './FormInput';\nimport PropTypes from 'prop-types';\nimport Toolbar from './Toolbar';\nimport CardContentInner from '../layout/CardContentInner';\nexport var SimpleFormView = function (_a) {\n    var basePath = _a.basePath, children = _a.children, className = _a.className, Component = _a.component, handleSubmit = _a.handleSubmit, handleSubmitWithRedirect = _a.handleSubmitWithRedirect, invalid = _a.invalid, margin = _a.margin, mutationMode = _a.mutationMode, pristine = _a.pristine, record = _a.record, redirect = _a.redirect, resource = _a.resource, saving = _a.saving, submitOnEnter = _a.submitOnEnter, toolbar = _a.toolbar, undoable = _a.undoable, variant = _a.variant, validating = _a.validating, rest = __rest(_a, [\"basePath\", \"children\", \"className\", \"component\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"margin\", \"mutationMode\", \"pristine\", \"record\", \"redirect\", \"resource\", \"saving\", \"submitOnEnter\", \"toolbar\", \"undoable\", \"variant\", \"validating\"]);\n    return (React.createElement(\"form\", __assign({ className: classnames('simple-form', className) }, sanitizeRestProps(rest)),\n        React.createElement(Component, null, Children.map(children, function (input) {\n            return input && (React.createElement(FormInput, { basePath: basePath, input: input, record: record, resource: resource, variant: input.props.variant || variant, margin: input.props.margin || margin }));\n        })),\n        toolbar &&\n            React.cloneElement(toolbar, {\n                basePath: basePath,\n                handleSubmitWithRedirect: handleSubmitWithRedirect,\n                handleSubmit: handleSubmit,\n                invalid: invalid,\n                mutationMode: mutationMode,\n                pristine: pristine,\n                record: record,\n                redirect: redirect,\n                resource: resource,\n                saving: saving,\n                submitOnEnter: submitOnEnter,\n                validating: validating,\n                undoable: undoable,\n            })));\n};\nSimpleFormView.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.node,\n    className: PropTypes.string,\n    handleSubmit: PropTypes.func,\n    invalid: PropTypes.bool,\n    mutationMode: PropTypes.oneOf(['pessimistic', 'optimistic', 'undoable']),\n    pristine: PropTypes.bool,\n    // @ts-ignore\n    record: PropTypes.object,\n    resource: PropTypes.string,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    save: PropTypes.func,\n    saving: PropTypes.bool,\n    submitOnEnter: PropTypes.bool,\n    toolbar: PropTypes.element,\n    undoable: PropTypes.bool,\n    validate: PropTypes.func,\n};\nSimpleFormView.defaultProps = {\n    submitOnEnter: true,\n    toolbar: React.createElement(Toolbar, null),\n    component: CardContentInner,\n};\nvar sanitizeRestProps = function (_a) {\n    var active = _a.active, dirty = _a.dirty, dirtyFields = _a.dirtyFields, dirtyFieldsSinceLastSubmit = _a.dirtyFieldsSinceLastSubmit, dirtySinceLastSubmit = _a.dirtySinceLastSubmit, error = _a.error, errors = _a.errors, form = _a.form, hasSubmitErrors = _a.hasSubmitErrors, hasValidationErrors = _a.hasValidationErrors, initialValues = _a.initialValues, _b = _a.modified, modified = _b === void 0 ? null : _b, modifiedSinceLastSubmit = _a.modifiedSinceLastSubmit, _c = _a.save, save = _c === void 0 ? null : _c, submitError = _a.submitError, submitErrors = _a.submitErrors, submitFailed = _a.submitFailed, submitSucceeded = _a.submitSucceeded, submitting = _a.submitting, _d = _a.touched, touched = _d === void 0 ? null : _d, valid = _a.valid, values = _a.values, _e = _a.visited, visited = _e === void 0 ? null : _e, _f = _a.__versions, __versions = _f === void 0 ? null : _f, props = __rest(_a, [\"active\", \"dirty\", \"dirtyFields\", \"dirtyFieldsSinceLastSubmit\", \"dirtySinceLastSubmit\", \"error\", \"errors\", \"form\", \"hasSubmitErrors\", \"hasValidationErrors\", \"initialValues\", \"modified\", \"modifiedSinceLastSubmit\", \"save\", \"submitError\", \"submitErrors\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touched\", \"valid\", \"values\", \"visited\", \"__versions\"]);\n    return props;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormWithRedirect } from 'ra-core';\nimport { SimpleFormView } from './SimpleFormView';\n/**\n * Form with a one column layout, one input per line.\n *\n * Pass input components as children.\n *\n * @example\n *\n * import * as React from \"react\";\n * import { Create, Edit, SimpleForm, TextInput, DateInput, ReferenceManyField, Datagrid, TextField, DateField, EditButton } from 'react-admin';\n * import RichTextInput from 'ra-input-rich-text';\n *\n * export const PostCreate = (props) => (\n *     <Create {...props}>\n *         <SimpleForm>\n *             <TextInput source=\"title\" />\n *             <TextInput source=\"teaser\" options={{ multiline: true }} />\n *             <RichTextInput source=\"body\" />\n *             <DateInput label=\"Publication date\" source=\"published_at\" defaultValue={new Date()} />\n *         </SimpleForm>\n *     </Create>\n * );\n *\n * @typedef {Object} Props the props you can use (other props are injected by Create or Edit)\n * @prop {ReactElement[]} children Input elements\n * @prop {Object} initialValues\n * @prop {Function} validate\n * @prop {boolean} submitOnEnter\n * @prop {string} redirect\n * @prop {ReactElement} toolbar The element displayed at the bottom of the form, containing the SaveButton\n * @prop {string} variant Apply variant to all inputs. Possible values are 'standard', 'outlined', and 'filled' (default)\n * @prop {string} margin Apply variant to all inputs. Possible values are 'none', 'normal', and 'dense' (default)\n * @prop {boolean} sanitizeEmptyValues Whether or not deleted record attributes should be recreated with a `null` value (default: true)\n *\n * @param {Props} props\n */\nvar SimpleForm = function (props) { return (React.createElement(FormWithRedirect, __assign({}, props, { render: function (formProps) { return React.createElement(SimpleFormView, __assign({}, formProps)); } }))); };\nSimpleForm.propTypes = {\n    children: PropTypes.node,\n    initialValues: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n    mutationMode: PropTypes.oneOf(['pessimistic', 'optimistic', 'undoable']),\n    // @ts-ignore\n    record: PropTypes.object,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    save: PropTypes.func,\n    saving: PropTypes.bool,\n    submitOnEnter: PropTypes.bool,\n    toolbar: PropTypes.element,\n    undoable: PropTypes.bool,\n    validate: PropTypes.func,\n    version: PropTypes.number,\n    sanitizeEmptyValues: PropTypes.bool,\n};\nexport default SimpleForm;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useState } from 'react';\nimport { useTranslate } from 'ra-core';\nimport { InputAdornment, IconButton } from '@material-ui/core';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport TextInput from './TextInput';\nvar PasswordInput = function (props) {\n    var _a = props.initiallyVisible, initiallyVisible = _a === void 0 ? false : _a, rest = __rest(props, [\"initiallyVisible\"]);\n    var _b = useState(initiallyVisible), visible = _b[0], setVisible = _b[1];\n    var translate = useTranslate();\n    var handleClick = function () {\n        setVisible(!visible);\n    };\n    return (React.createElement(TextInput, __assign({}, rest, { type: visible ? 'text' : 'password', InputProps: {\n            endAdornment: (React.createElement(InputAdornment, { position: \"end\" },\n                React.createElement(IconButton, { \"aria-label\": translate(visible\n                        ? 'ra.input.password.toggle_visible'\n                        : 'ra.input.password.toggle_hidden'), onClick: handleClick }, visible ? React.createElement(Visibility, null) : React.createElement(VisibilityOff, null)))),\n        } })));\n};\nexport default PasswordInput;\n","import * as React from 'react';\nimport {\n    Create,\n    CreateProps,\n    DateInput,\n    SimpleForm,\n    TextInput,\n    useTranslate,\n    PasswordInput,\n    required,\n    email,\n} from 'react-admin';\nimport { AnyObject } from 'react-final-form';\nimport { Typography, Box } from '@material-ui/core';\nimport { makeStyles, Theme } from '@material-ui/core/styles';\nimport { Styles } from '@material-ui/styles/withStyles';\n\nexport const styles: Styles<Theme, any> = {\n    first_name: { display: 'inline-block' },\n    last_name: { display: 'inline-block', marginLeft: 32 },\n    email: { width: 544 },\n    address: { maxWidth: 544 },\n    zipcode: { display: 'inline-block' },\n    city: { display: 'inline-block', marginLeft: 32 },\n    comment: {\n        maxWidth: '20em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n    password: { display: 'inline-block' },\n    confirm_password: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\nexport const validatePasswords = ({\n    password,\n    confirm_password,\n}: AnyObject) => {\n    const errors = {} as any;\n\n    if (password && confirm_password && password !== confirm_password) {\n        errors.confirm_password = [\n            'resources.customers.errors.password_mismatch',\n        ];\n    }\n\n    return errors;\n};\n\nconst VisitorCreate = (props: CreateProps) => {\n    const classes = useStyles(props);\n\n    return (\n        <Create {...props}>\n            <SimpleForm validate={validatePasswords}>\n                <SectionTitle label=\"resources.customers.fieldGroups.identity\" />\n                <TextInput\n                    autoFocus\n                    source=\"first_name\"\n                    formClassName={classes.first_name}\n                    validate={requiredValidate}\n                />\n                <TextInput\n                    source=\"last_name\"\n                    formClassName={classes.last_name}\n                    validate={requiredValidate}\n                />\n                <TextInput\n                    type=\"email\"\n                    source=\"email\"\n                    validation={{ email: true }}\n                    fullWidth\n                    formClassName={classes.email}\n                    validate={[required(), email()]}\n                />\n                <DateInput source=\"birthday\" />\n                <Separator />\n                <SectionTitle label=\"resources.customers.fieldGroups.address\" />\n                <TextInput\n                    source=\"address\"\n                    formClassName={classes.address}\n                    multiline\n                    fullWidth\n                    helperText={false}\n                />\n                <TextInput\n                    source=\"zipcode\"\n                    formClassName={classes.zipcode}\n                    helperText={false}\n                />\n                <TextInput\n                    source=\"city\"\n                    formClassName={classes.city}\n                    helperText={false}\n                />\n                <Separator />\n                <SectionTitle label=\"resources.customers.fieldGroups.password\" />\n                <PasswordInput\n                    source=\"password\"\n                    formClassName={classes.password}\n                />\n                <PasswordInput\n                    source=\"confirm_password\"\n                    formClassName={classes.confirm_password}\n                />\n            </SimpleForm>\n        </Create>\n    );\n};\n\nconst requiredValidate = [required()];\n\nconst SectionTitle = ({ label }: { label: string }) => {\n    const translate = useTranslate();\n\n    return (\n        <Typography variant=\"h6\" gutterBottom>\n            {translate(label)}\n        </Typography>\n    );\n};\n\nconst Separator = () => <Box pt=\"1em\" />;\n\nexport default VisitorCreate;\n","import { GET_ONE } from '../../core';\nexport var crudGetOne = function (resource, id, basePath, refresh) {\n    if (refresh === void 0) { refresh = true; }\n    return ({\n        type: CRUD_GET_ONE,\n        payload: { id: id },\n        meta: {\n            resource: resource,\n            fetch: GET_ONE,\n            basePath: basePath,\n            onFailure: {\n                notification: {\n                    body: 'ra.notification.item_doesnt_exist',\n                    level: 'warning',\n                },\n                redirectTo: 'list',\n                refresh: refresh,\n            },\n        },\n    });\n};\nexport var CRUD_GET_ONE = 'RA/CRUD_GET_ONE';\nexport var CRUD_GET_ONE_LOADING = 'RA/CRUD_GET_ONE_LOADING';\nexport var CRUD_GET_ONE_FAILURE = 'RA/CRUD_GET_ONE_FAILURE';\nexport var CRUD_GET_ONE_SUCCESS = 'RA/CRUD_GET_ONE_SUCCESS';\n","import { UPDATE } from '../../core';\nexport var crudUpdate = function (resource, id, data, previousData, basePath, redirectTo, refresh) {\n    if (redirectTo === void 0) { redirectTo = 'show'; }\n    if (refresh === void 0) { refresh = true; }\n    return ({\n        type: CRUD_UPDATE,\n        payload: { id: id, data: data, previousData: previousData },\n        meta: {\n            resource: resource,\n            fetch: UPDATE,\n            onSuccess: {\n                notification: {\n                    body: 'ra.notification.updated',\n                    level: 'info',\n                    messageArgs: {\n                        smart_count: 1,\n                    },\n                },\n                refresh: refresh,\n                redirectTo: redirectTo,\n                basePath: basePath,\n            },\n            onFailure: {\n                notification: {\n                    body: 'ra.notification.http_error',\n                    level: 'warning',\n                },\n            },\n        },\n    });\n};\nexport var CRUD_UPDATE = 'RA/CRUD_UPDATE';\nexport var CRUD_UPDATE_LOADING = 'RA/CRUD_UPDATE_LOADING';\nexport var CRUD_UPDATE_FAILURE = 'RA/CRUD_UPDATE_FAILURE';\nexport var CRUD_UPDATE_SUCCESS = 'RA/CRUD_UPDATE_SUCCESS';\n","import { useCallback } from 'react';\nimport useVersion from '../useVersion';\nimport { useCheckMinimumRequiredProps } from '../checkMinimumRequiredProps';\nimport { useNotify, useRedirect, useRefresh, } from '../../sideEffect';\nimport { useGetOne, useUpdate } from '../../dataProvider';\nimport { useTranslate } from '../../i18n';\nimport { CRUD_GET_ONE, CRUD_UPDATE } from '../../actions';\nimport { useSaveModifiers, } from '../saveModifiers';\nimport { useResourceContext, useGetResourceLabel } from '../../core';\n/**\n * Prepare data for the Edit view\n *\n * @param {Object} props The props passed to the Edit component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Edit view\n *\n * @example\n *\n * import { useEditController } from 'react-admin';\n * import EditView from './EditView';\n *\n * const MyEdit = props => {\n *     const controllerProps = useEditController(props);\n *     return <EditView {...controllerProps} {...props} />;\n * }\n */\nexport var useEditController = function (props) {\n    useCheckMinimumRequiredProps('Edit', ['basePath', 'resource'], props);\n    var basePath = props.basePath, hasCreate = props.hasCreate, hasEdit = props.hasEdit, hasList = props.hasList, hasShow = props.hasShow, id = props.id, successMessage = props.successMessage, \n    // @deprecated use mutationMode: undoable instead\n    _a = props.undoable, \n    // @deprecated use mutationMode: undoable instead\n    undoable = _a === void 0 ? true : _a, onSuccess = props.onSuccess, onFailure = props.onFailure, _b = props.mutationMode, mutationMode = _b === void 0 ? undoable ? 'undoable' : undefined : _b, transform = props.transform;\n    var resource = useResourceContext(props);\n    var translate = useTranslate();\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var version = useVersion();\n    if (process.env.NODE_ENV !== 'production' && successMessage) {\n        console.log('<Edit successMessage> prop is deprecated, use the onSuccess prop instead.');\n    }\n    var _c = useSaveModifiers({ onSuccess: onSuccess, onFailure: onFailure, transform: transform }), onSuccessRef = _c.onSuccessRef, setOnSuccess = _c.setOnSuccess, onFailureRef = _c.onFailureRef, setOnFailure = _c.setOnFailure, transformRef = _c.transformRef, setTransform = _c.setTransform;\n    var _d = useGetOne(resource, id, {\n        action: CRUD_GET_ONE,\n        onFailure: function () {\n            notify('ra.notification.item_doesnt_exist', 'warning');\n            redirect('list', basePath);\n            refresh();\n        },\n    }), record = _d.data, error = _d.error, loading = _d.loading, loaded = _d.loaded, refetch = _d.refetch;\n    var getResourceLabel = useGetResourceLabel();\n    var defaultTitle = translate('ra.page.edit', {\n        name: getResourceLabel(resource, 1),\n        id: id,\n        record: record,\n    });\n    var _e = useUpdate(resource, id, {}, // set by the caller\n    record), update = _e[0], saving = _e[1].loading;\n    var save = useCallback(function (data, redirectTo, _a) {\n        if (redirectTo === void 0) { redirectTo = DefaultRedirect; }\n        var _b = _a === void 0 ? {} : _a, onSuccessFromSave = _b.onSuccess, onFailureFromSave = _b.onFailure, transformFromSave = _b.transform;\n        return Promise.resolve(transformFromSave\n            ? transformFromSave(data)\n            : transformRef.current\n                ? transformRef.current(data)\n                : data).then(function (data) {\n            return update({ payload: { data: data } }, {\n                action: CRUD_UPDATE,\n                onSuccess: onSuccessFromSave\n                    ? onSuccessFromSave\n                    : onSuccessRef.current\n                        ? onSuccessRef.current\n                        : function () {\n                            notify(successMessage ||\n                                'ra.notification.updated', 'info', {\n                                smart_count: 1,\n                            }, mutationMode === 'undoable');\n                            redirect(redirectTo, basePath, data.id, data);\n                        },\n                onFailure: onFailureFromSave\n                    ? onFailureFromSave\n                    : onFailureRef.current\n                        ? onFailureRef.current\n                        : function (error) {\n                            notify(typeof error === 'string'\n                                ? error\n                                : error.message ||\n                                    'ra.notification.http_error', 'warning', {\n                                _: typeof error === 'string'\n                                    ? error\n                                    : error && error.message\n                                        ? error.message\n                                        : undefined,\n                            });\n                            if (mutationMode === 'undoable' ||\n                                mutationMode === 'pessimistic') {\n                                refresh();\n                            }\n                        },\n                mutationMode: mutationMode,\n            });\n        });\n    }, [\n        transformRef,\n        update,\n        onSuccessRef,\n        onFailureRef,\n        notify,\n        successMessage,\n        redirect,\n        basePath,\n        refresh,\n        mutationMode,\n    ]);\n    return {\n        error: error,\n        loading: loading,\n        loaded: loaded,\n        saving: saving,\n        defaultTitle: defaultTitle,\n        hasCreate: hasCreate,\n        hasEdit: hasEdit,\n        hasList: hasList,\n        hasShow: hasShow,\n        onSuccessRef: onSuccessRef,\n        onFailureRef: onFailureRef,\n        transformRef: transformRef,\n        save: save,\n        setOnSuccess: setOnSuccess,\n        setOnFailure: setOnFailure,\n        setTransform: setTransform,\n        refetch: refetch,\n        resource: resource,\n        basePath: basePath,\n        record: record,\n        redirect: DefaultRedirect,\n        version: version,\n    };\n};\nvar DefaultRedirect = 'list';\n","import { createContext } from 'react';\n/**\n * Context to store the result of the useEditController() hook.\n *\n * Use the useEditContext() hook to read the context. That's what the Edit components do in react-admin.\n *\n * @example\n *\n * import { useEditController, EditContextProvider } from 'ra-core';\n *\n * const Edit = props => {\n *     const controllerProps = useEditController(props);\n *     return (\n *         <EditContextProvider value={controllerProps}>\n *             ...\n *         </EditContextProvider>\n *     );\n * };\n */\nexport var EditContext = createContext({\n    basePath: null,\n    record: null,\n    defaultTitle: null,\n    loaded: null,\n    loading: null,\n    onFailureRef: null,\n    onSuccessRef: null,\n    transformRef: null,\n    redirect: null,\n    setOnFailure: null,\n    setOnSuccess: null,\n    setTransform: null,\n    refetch: null,\n    resource: null,\n    save: null,\n    saving: null,\n    successMessage: null,\n    version: null,\n});\nEditContext.displayName = 'EditContext';\n","import * as React from 'react';\nimport { RecordContextProvider } from '../RecordContext';\nimport { EditContext } from './EditContext';\nimport { SaveContextProvider, usePickSaveContext } from './SaveContext';\n/**\n * Create an Edit Context.\n *\n * @example\n *\n * const MyEdit = (props) => {\n *     const controllerProps = useEditController(props);\n *     return (\n *         <EditContextProvider value={controllerProps}>\n *             <MyEditView>\n *         </EditContextProvider>\n *     );\n * };\n *\n * const MyEditView = () => {\n *     const record = useRecordContext();\n *     // or, to rerender only when the save operation change but not data\n *     const { saving } = useEditContext();\n * }\n *\n * @see EditContext\n * @see RecordContext\n */\nexport var EditContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(EditContext.Provider, { value: value },\n        React.createElement(SaveContextProvider, { value: usePickSaveContext(value) },\n            React.createElement(RecordContextProvider, { value: value && value.record }, children))));\n};\n","import { useContext, useMemo } from 'react';\nimport defaults from 'lodash/defaults';\nimport { EditContext } from './EditContext';\n/**\n * Hook to read the edit controller props from the CreateContext.\n *\n * Mostly used within a <EditContext.Provider> (e.g. as a descendent of <Edit>).\n *\n * But you can also use it without a <EditContext.Provider>. In this case, it is up to you\n * to pass all the necessary props.\n *\n * The given props will take precedence over context values.\n *\n * @typedef {Object} EditControllerProps\n *\n * @returns {EditControllerProps} edit controller props\n *\n * @see useEditController for how it is filled\n *\n */\nexport var useEditContext = function (props) {\n    // Can't find a way to specify the RecordType when EditContext is declared\n    // @ts-ignore\n    var context = useContext(EditContext);\n    // Props take precedence over the context\n    return useMemo(function () {\n        return defaults({}, props != null ? extractEditContextProps(props) : {}, context);\n    }, [context, props]);\n};\n/**\n * Extract only the edit controller props\n *\n * @param {Object} props props passed to the useEditContext hook\n *\n * @returns {EditControllerProps} edit controller props\n */\nvar extractEditContextProps = function (_a) {\n    var basePath = _a.basePath, data = _a.data, record = _a.record, defaultTitle = _a.defaultTitle, onFailureRef = _a.onFailureRef, onSuccessRef = _a.onSuccessRef, transformRef = _a.transformRef, loaded = _a.loaded, loading = _a.loading, redirect = _a.redirect, setOnFailure = _a.setOnFailure, setOnSuccess = _a.setOnSuccess, setTransform = _a.setTransform, resource = _a.resource, save = _a.save, saving = _a.saving, successMessage = _a.successMessage, version = _a.version;\n    return ({\n        basePath: basePath,\n        // Necessary for actions (EditActions) which expect a data prop containing the record\n        // @deprecated - to be removed in 4.0d\n        data: record || data,\n        record: record || data,\n        defaultTitle: defaultTitle,\n        onFailureRef: onFailureRef,\n        onSuccessRef: onSuccessRef,\n        transformRef: transformRef,\n        loaded: loaded,\n        loading: loading,\n        redirect: redirect,\n        setOnFailure: setOnFailure,\n        setOnSuccess: setOnSuccess,\n        setTransform: setTransform,\n        resource: resource,\n        save: save,\n        saving: saving,\n        successMessage: successMessage,\n        version: version,\n    });\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport ImageEye from '@material-ui/icons/RemoveRedEye';\nimport { Link } from 'react-router-dom';\nimport { linkToRecord, useResourceContext } from 'ra-core';\nimport Button from './Button';\n/**\n * Opens the Show view of a given record\n *\n * @example // basic usage\n * import { ShowButton } from 'react-admin';\n *\n * const CommentShowButton = ({ record }) => (\n *     <ShowButton basePath=\"/comments\" label=\"Show comment\" record={record} />\n * );\n */\nvar ShowButton = function (props) {\n    var _a = props.basePath, basePath = _a === void 0 ? '' : _a, _b = props.icon, icon = _b === void 0 ? defaultIcon : _b, _c = props.label, label = _c === void 0 ? 'ra.action.show' : _c, record = props.record, _d = props.scrollToTop, scrollToTop = _d === void 0 ? true : _d, rest = __rest(props, [\"basePath\", \"icon\", \"label\", \"record\", \"scrollToTop\"]);\n    var resource = useResourceContext();\n    return (React.createElement(Button, __assign({ component: Link, to: useMemo(function () { return ({\n            pathname: record\n                ? linkToRecord(basePath || \"/\" + resource, record.id) + \"/show\"\n                : '',\n            state: { _scrollToTop: scrollToTop },\n        }); }, [basePath, record, resource, scrollToTop]), label: label, onClick: stopPropagation }, rest), icon));\n};\nvar defaultIcon = React.createElement(ImageEye, null);\n// useful to prevent click bubbling in a datagrid with rowClick\nvar stopPropagation = function (e) { return e.stopPropagation(); };\nShowButton.propTypes = {\n    basePath: PropTypes.string,\n    icon: PropTypes.element,\n    label: PropTypes.string,\n    record: PropTypes.any,\n    scrollToTop: PropTypes.bool,\n};\nvar PureShowButton = memo(ShowButton, function (props, nextProps) {\n    return (props.record && nextProps.record\n        ? props.record.id === nextProps.record.id\n        : props.record == nextProps.record) && // eslint-disable-line eqeqeq\n        props.basePath === nextProps.basePath &&\n        props.to === nextProps.to &&\n        props.disabled === nextProps.disabled;\n});\nexport default PureShowButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { useEditContext, useResourceDefinition } from 'ra-core';\nimport { ShowButton } from '../button';\nimport TopToolbar from '../layout/TopToolbar';\n/**\n * Action Toolbar for the Edit view\n *\n * Internal component. If you want to add or remove actions for an Edit view,\n * write your own EditActions Component. Then, in the <Edit> component,\n * use it in the `actions` prop to pass a custom component.\n *\n * @example\n *     import Button from '@material-ui/core/Button';\n *     import { TopToolbar, ShowButton, Edit } from 'react-admin';\n *\n *     const PostEditActions = ({ basePath, record, resource }) => (\n *         <TopToolbar>\n *             <ShowButton basePath={basePath} record={record} />\n *             // Add your custom actions here\n *             <Button color=\"primary\" onClick={customAction}>Custom Action</Button>\n *         </TopToolbar>\n *     );\n *\n *     export const PostEdit = (props) => (\n *         <Edit actions={<PostEditActions />} {...props}>\n *             ...\n *         </Edit>\n *     );\n */\nexport var EditActions = function (_a) {\n    var className = _a.className, rest = __rest(_a, [\"className\"]);\n    var _b = useEditContext(rest), basePath = _b.basePath, record = _b.record;\n    var hasShow = useResourceDefinition(rest).hasShow;\n    return (React.createElement(TopToolbar, __assign({ className: className }, sanitizeRestProps(rest)), hasShow && React.createElement(ShowButton, { basePath: basePath, record: record })));\n};\nvar sanitizeRestProps = function (_a) {\n    var _b = _a.basePath, basePath = _b === void 0 ? null : _b, _c = _a.hasCreate, hasCreate = _c === void 0 ? null : _c, _d = _a.hasEdit, hasEdit = _d === void 0 ? null : _d, _e = _a.hasShow, hasShow = _e === void 0 ? null : _e, _f = _a.hasList, hasList = _f === void 0 ? null : _f, rest = __rest(_a, [\"basePath\", \"hasCreate\", \"hasEdit\", \"hasShow\", \"hasList\"]);\n    return rest;\n};\nEditActions.propTypes = {\n    basePath: PropTypes.string,\n    className: PropTypes.string,\n    data: PropTypes.object,\n    hasCreate: PropTypes.bool,\n    hasEdit: PropTypes.bool,\n    hasShow: PropTypes.bool,\n    hasList: PropTypes.bool,\n    resource: PropTypes.string,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { ComponentPropType, useEditContext, } from 'ra-core';\nimport { EditActions as DefaultActions } from './EditActions';\nimport TitleForRecord from '../layout/TitleForRecord';\nexport var EditView = function (props) {\n    var _a;\n    var actions = props.actions, aside = props.aside, children = props.children, classesOverride = props.classes, className = props.className, Content = props.component, title = props.title, undoable = props.undoable, mutationMode = props.mutationMode, rest = __rest(props, [\"actions\", \"aside\", \"children\", \"classes\", \"className\", \"component\", \"title\", \"undoable\", \"mutationMode\"]);\n    var classes = useStyles(props);\n    var _b = useEditContext(props), basePath = _b.basePath, defaultTitle = _b.defaultTitle, hasList = _b.hasList, hasShow = _b.hasShow, record = _b.record, redirect = _b.redirect, resource = _b.resource, save = _b.save, saving = _b.saving, version = _b.version;\n    var finalActions = typeof actions === 'undefined' && hasShow ? (React.createElement(DefaultActions, null)) : (actions);\n    if (!children) {\n        return null;\n    }\n    return (React.createElement(\"div\", __assign({ className: classnames('edit-page', classes.root, className) }, sanitizeRestProps(rest)),\n        React.createElement(TitleForRecord, { title: title, record: record, defaultTitle: defaultTitle }),\n        finalActions &&\n            cloneElement(finalActions, __assign({ basePath: basePath, data: record, hasShow: hasShow, hasList: hasList, resource: resource }, finalActions.props)),\n        React.createElement(\"div\", { className: classnames(classes.main, (_a = {},\n                _a[classes.noActions] = !finalActions,\n                _a)) },\n            React.createElement(Content, { className: classes.card }, record ? (cloneElement(Children.only(children), {\n                basePath: basePath,\n                record: record,\n                redirect: typeof children.props.redirect === 'undefined'\n                    ? redirect\n                    : children.props.redirect,\n                resource: resource,\n                save: typeof children.props.save === 'undefined'\n                    ? save\n                    : children.props.save,\n                saving: saving,\n                undoable: undoable,\n                mutationMode: mutationMode,\n                version: version,\n            })) : (React.createElement(CardContent, null, \"\\u00A0\"))),\n            aside &&\n                React.cloneElement(aside, {\n                    basePath: basePath,\n                    record: record,\n                    resource: resource,\n                    version: version,\n                    save: typeof children.props.save === 'undefined'\n                        ? save\n                        : children.props.save,\n                    saving: saving,\n                }))));\n};\nEditView.propTypes = {\n    actions: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\n    aside: PropTypes.element,\n    basePath: PropTypes.string,\n    children: PropTypes.element,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    component: ComponentPropType,\n    defaultTitle: PropTypes.any,\n    hasList: PropTypes.bool,\n    hasShow: PropTypes.bool,\n    mutationMode: PropTypes.oneOf(['pessimistic', 'optimistic', 'undoable']),\n    record: PropTypes.object,\n    redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    resource: PropTypes.string,\n    save: PropTypes.func,\n    title: PropTypes.node,\n    version: PropTypes.number,\n    onSuccess: PropTypes.func,\n    onFailure: PropTypes.func,\n    setOnSuccess: PropTypes.func,\n    setOnFailure: PropTypes.func,\n    setTransform: PropTypes.func,\n    undoable: PropTypes.bool,\n};\nEditView.defaultProps = {\n    classes: {},\n    component: Card,\n};\nvar useStyles = makeStyles({\n    root: {},\n    main: {\n        display: 'flex',\n    },\n    noActions: {\n        marginTop: '1em',\n    },\n    card: {\n        flex: '1 1 auto',\n    },\n}, { name: 'RaEdit' });\nvar sanitizeRestProps = function (_a) {\n    var _b = _a.basePath, basePath = _b === void 0 ? null : _b, _c = _a.defaultTitle, defaultTitle = _c === void 0 ? null : _c, _d = _a.hasCreate, hasCreate = _d === void 0 ? null : _d, _e = _a.hasEdit, hasEdit = _e === void 0 ? null : _e, _f = _a.hasList, hasList = _f === void 0 ? null : _f, _g = _a.hasShow, hasShow = _g === void 0 ? null : _g, _h = _a.history, history = _h === void 0 ? null : _h, _j = _a.id, id = _j === void 0 ? null : _j, _k = _a.loaded, loaded = _k === void 0 ? null : _k, _l = _a.loading, loading = _l === void 0 ? null : _l, _m = _a.location, location = _m === void 0 ? null : _m, _o = _a.match, match = _o === void 0 ? null : _o, _p = _a.onFailure, onFailure = _p === void 0 ? null : _p, _q = _a.onFailureRef, onFailureRef = _q === void 0 ? null : _q, _r = _a.onSuccess, onSuccess = _r === void 0 ? null : _r, _s = _a.onSuccessRef, onSuccessRef = _s === void 0 ? null : _s, _t = _a.options, options = _t === void 0 ? null : _t, _u = _a.permissions, permissions = _u === void 0 ? null : _u, _v = _a.refetch, refetch = _v === void 0 ? null : _v, _w = _a.save, save = _w === void 0 ? null : _w, _x = _a.saving, saving = _x === void 0 ? null : _x, _y = _a.setOnFailure, setOnFailure = _y === void 0 ? null : _y, _z = _a.setOnSuccess, setOnSuccess = _z === void 0 ? null : _z, _0 = _a.setTransform, setTransform = _0 === void 0 ? null : _0, _1 = _a.successMessage, successMessage = _1 === void 0 ? null : _1, _2 = _a.transform, transform = _2 === void 0 ? null : _2, _3 = _a.transformRef, transformRef = _3 === void 0 ? null : _3, rest = __rest(_a, [\"basePath\", \"defaultTitle\", \"hasCreate\", \"hasEdit\", \"hasList\", \"hasShow\", \"history\", \"id\", \"loaded\", \"loading\", \"location\", \"match\", \"onFailure\", \"onFailureRef\", \"onSuccess\", \"onSuccessRef\", \"options\", \"permissions\", \"refetch\", \"save\", \"saving\", \"setOnFailure\", \"setOnSuccess\", \"setTransform\", \"successMessage\", \"transform\", \"transformRef\"]);\n    return rest;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { EditContextProvider, ResourceContextProvider, useCheckMinimumRequiredProps, useEditController, } from 'ra-core';\nimport { EditView } from './EditView';\n/**\n * Page component for the Edit view\n *\n * The `<Edit>` component renders the page title and actions,\n * fetches the record from the data provider.\n * It is not responsible for rendering the actual form -\n * that's the job of its child component (usually `<SimpleForm>`),\n * to which it passes the `record` as prop.\n *\n * The <Edit> component accepts the following props:\n *\n * - actions\n * - aside\n * - component\n * - successMessage\n * - title\n * - mutationMode\n * - undoable (deprecated)\n *\n * @example\n *\n * // in src/posts.js\n * import * as React from \"react\";\n * import { Edit, SimpleForm, TextInput } from 'react-admin';\n *\n * export const PostEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <TextInput source=\"title\" />\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * // in src/App.js\n * import * as React from \"react\";\n * import { Admin, Resource } from 'react-admin';\n *\n * import { PostEdit } from './posts';\n *\n * const App = () => (\n *     <Admin dataProvider={...}>\n *         <Resource name=\"posts\" edit={PostEdit} />\n *     </Admin>\n * );\n * export default App;\n */\nexport var Edit = function (props) {\n    useCheckMinimumRequiredProps('Edit', ['children'], props);\n    var controllerProps = useEditController(props);\n    var body = (React.createElement(EditContextProvider, { value: controllerProps },\n        React.createElement(EditView, __assign({}, props, controllerProps))));\n    return props.resource ? (\n    // support resource override via props\n    React.createElement(ResourceContextProvider, { value: props.resource }, body)) : (body);\n};\nEdit.propTypes = {\n    actions: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\n    aside: PropTypes.element,\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    hasCreate: PropTypes.bool,\n    hasEdit: PropTypes.bool,\n    hasShow: PropTypes.bool,\n    hasList: PropTypes.bool,\n    id: PropTypes.any.isRequired,\n    mutationMode: PropTypes.oneOf(['pessimistic', 'optimistic', 'undoable']),\n    onSuccess: PropTypes.func,\n    onFailure: PropTypes.func,\n    resource: PropTypes.string,\n    successMessage: PropTypes.string,\n    title: PropTypes.node,\n    transform: PropTypes.func,\n    undoable: PropTypes.bool,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport get from 'lodash/get';\nimport Typography from '@material-ui/core/Typography';\nimport { useRecordContext } from 'ra-core';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\nimport { fieldPropTypes } from './types';\nvar TextField = memo(function (props) {\n    var className = props.className, source = props.source, emptyText = props.emptyText, rest = __rest(props, [\"className\", \"source\", \"emptyText\"]);\n    var record = useRecordContext(props);\n    var value = get(record, source);\n    return (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeFieldRestProps(rest)), value != null && typeof value !== 'string'\n        ? JSON.stringify(value)\n        : value || emptyText));\n});\n// what? TypeScript loses the displayName if we don't set it explicitly\nTextField.displayName = 'TextField';\nTextField.defaultProps = {\n    addLabel: true,\n};\nTextField.propTypes = __assign(__assign({}, Typography.propTypes), fieldPropTypes);\nexport default TextField;\n","import get from 'lodash/get';\nimport { linkToRecord } from '../../util';\n/**\n * Get the link toward the referenced resource\n *\n * @example\n *\n * const linkPath = getResourceLinkPath({\n *      basePath: '/comments',\n *      link: 'edit',\n *      reference: 'users',\n *      record: {\n *          userId: 7\n *      },\n *      resource: 'comments',\n *      source: 'userId',\n * }); // '/users/7'\n *\n * @param {Object} option\n * @param {string} option.basePath basepath to current resource\n * @param {string | false | LinkToFunctionType} option.link=\"edit\" The link toward the referenced record. 'edit', 'show' or false for no link (default to edit). Alternatively a function that returns a string\n * @param {string | false | LinkToFunctionType} [option.linkType] DEPRECATED : old name for link\n * @param {string} option.reference The linked resource name\n * @param {Object} option.record The current resource record\n * @param {string} option.resource The current resource name\n * @param {string} option.source The key of the linked resource identifier\n *\n * @returns {string | false} The link to the reference record\n */\nvar getResourceLinkPath = function (_a) {\n    var resource = _a.resource, source = _a.source, reference = _a.reference, _b = _a.link, link = _b === void 0 ? 'edit' : _b, _c = _a.record, record = _c === void 0 ? { id: '' } : _c, _d = _a.basePath, basePath = _d === void 0 ? '' : _d, linkType = _a.linkType;\n    if (linkType !== undefined) {\n        console.warn(\"The 'linkType' prop is deprecated and should be named to 'link' in <ReferenceField />\");\n    }\n    var sourceId = get(record, source);\n    var rootPath = basePath\n        ? basePath.replace(resource, reference)\n        : \"/\" + reference;\n    var linkTo = linkType !== undefined ? linkType : link;\n    // Backward compatibility: keep linkType but with warning\n    return !linkTo\n        ? false\n        : typeof linkTo === 'function'\n            ? linkTo(record, reference)\n            : linkToRecord(rootPath, sourceId, linkTo);\n};\nexport default getResourceLinkPath;\n","import { useGetMany } from '../dataProvider';\n/**\n * @typedef ReferenceProps\n * @type {Object}\n * @property {boolean} loading: boolean indicating if the reference is loading\n * @property {boolean} loaded: boolean indicating if the reference has loaded\n * @property {Object} referenceRecord: the referenced record.\n */\n/**\n * Fetch reference record, and return it when available\n *\n * The reference prop should be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n *\n * const { loading, loaded, referenceRecord } = useReference({\n *     id: 7,\n *     reference: 'users',\n * });\n *\n * @param {Object} option\n * @param {string} option.reference The linked resource name\n * @param {string} option.id The id of the reference\n *\n * @returns {ReferenceProps} The reference record\n */\nexport var useReference = function (_a) {\n    var reference = _a.reference, id = _a.id;\n    var _b = useGetMany(reference, [\n        id,\n    ]), data = _b.data, error = _b.error, loading = _b.loading, loaded = _b.loaded, refetch = _b.refetch;\n    return {\n        referenceRecord: error ? undefined : data[0],\n        refetch: refetch,\n        error: error,\n        loading: loading,\n        loaded: loaded,\n    };\n};\nexport default useReference;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport get from 'lodash/get';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Typography } from '@material-ui/core';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport { useSelector } from 'react-redux';\nimport { useReference, getResourceLinkPath, ResourceContextProvider, RecordContextProvider, useRecordContext, } from 'ra-core';\nimport LinearProgress from '../layout/LinearProgress';\nimport Link from '../Link';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\nimport { fieldPropTypes } from './types';\n/**\n * Fetch reference record, and delegate rendering to child component.\n *\n * The reference prop should be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\">\n *     <TextField source=\"name\" />\n * </ReferenceField>\n *\n * @default\n * By default, includes a link to the <Edit> page of the related record\n * (`/users/:userId` in the previous example).\n *\n * Set the `link` prop to \"show\" to link to the <Show> page instead.\n *\n * @example\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\" link=\"show\">\n *     <TextField source=\"name\" />\n * </ReferenceField>\n *\n * @default\n * You can also prevent `<ReferenceField>` from adding link to children by setting\n * `link` to false.\n *\n * @example\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\" link={false}>\n *     <TextField source=\"name\" />\n * </ReferenceField>\n *\n * @default\n * Alternatively, you can also pass a custom function to `link`. It must take reference and record\n * as arguments and return a string\n *\n * @example\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\" link={(record, reference) => \"/path/to/${reference}/${record}\"}>\n *     <TextField source=\"name\" />\n * </ReferenceField>\n *\n * @default\n * In previous versions of React-Admin, the prop `linkType` was used. It is now deprecated and replaced with `link`. However\n * backward-compatibility is still kept\n */\nvar ReferenceField = function (props) {\n    var source = props.source, emptyText = props.emptyText, rest = __rest(props, [\"source\", \"emptyText\"]);\n    var record = useRecordContext(props);\n    var isReferenceDeclared = useSelector(function (state) { return typeof state.admin.resources[props.reference] !== 'undefined'; });\n    if (!isReferenceDeclared) {\n        throw new Error(\"You must declare a <Resource name=\\\"\" + props.reference + \"\\\"> in order to use a <ReferenceField reference=\\\"\" + props.reference + \"\\\">\");\n    }\n    return get(record, source) == null ? (emptyText ? (React.createElement(Typography, { component: \"span\", variant: \"body2\" }, emptyText)) : null) : (React.createElement(NonEmptyReferenceField, __assign({}, rest, { record: record, source: source })));\n};\nReferenceField.propTypes = {\n    addLabel: PropTypes.bool,\n    basePath: PropTypes.string,\n    children: PropTypes.element.isRequired,\n    classes: PropTypes.any,\n    className: PropTypes.string,\n    cellClassName: PropTypes.string,\n    headerClassName: PropTypes.string,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    record: PropTypes.any,\n    reference: PropTypes.string.isRequired,\n    resource: PropTypes.string,\n    sortBy: PropTypes.string,\n    sortByOrder: fieldPropTypes.sortByOrder,\n    source: PropTypes.string.isRequired,\n    translateChoice: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n    linkType: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    link: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]).isRequired,\n};\nReferenceField.defaultProps = {\n    addLabel: true,\n    classes: {},\n    link: 'edit',\n};\n/**\n * This intermediate component is made necessary by the useReference hook,\n * which cannot be called conditionally when get(record, source) is empty.\n */\nexport var NonEmptyReferenceField = function (_a) {\n    var children = _a.children, record = _a.record, source = _a.source, props = __rest(_a, [\"children\", \"record\", \"source\"]);\n    if (React.Children.count(children) !== 1) {\n        throw new Error('<ReferenceField> only accepts a single child');\n    }\n    var basePath = props.basePath, resource = props.resource, reference = props.reference;\n    var resourceLinkPath = getResourceLinkPath(__assign(__assign({}, props), { resource: resource, record: record, source: source, basePath: basePath }));\n    return (React.createElement(ResourceContextProvider, { value: reference },\n        React.createElement(PureReferenceFieldView, __assign({}, props, useReference({\n            reference: reference,\n            id: get(record, source),\n        }), { resourceLinkPath: resourceLinkPath }), children)));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    link: {\n        color: theme.palette.primary.main,\n    },\n}); }, { name: 'RaReferenceField' });\n// useful to prevent click bubbling in a datagrid with rowClick\nvar stopPropagation = function (e) { return e.stopPropagation(); };\nexport var ReferenceFieldView = function (props) {\n    var basePath = props.basePath, children = props.children, className = props.className, classesOverride = props.classes, error = props.error, loaded = props.loaded, loading = props.loading, record = props.record, reference = props.reference, referenceRecord = props.referenceRecord, refetch = props.refetch, resource = props.resource, resourceLinkPath = props.resourceLinkPath, source = props.source, _a = props.translateChoice, translateChoice = _a === void 0 ? false : _a, rest = __rest(props, [\"basePath\", \"children\", \"className\", \"classes\", \"error\", \"loaded\", \"loading\", \"record\", \"reference\", \"referenceRecord\", \"refetch\", \"resource\", \"resourceLinkPath\", \"source\", \"translateChoice\"]);\n    var classes = useStyles(props);\n    if (error) {\n        return (\n        /* eslint-disable jsx-a11y/role-supports-aria-props */\n        React.createElement(ErrorIcon, { \"aria-errormessage\": error.message ? error.message : error, role: \"presentation\", color: \"error\", fontSize: \"small\" })\n        /* eslint-enable */\n        );\n    }\n    if (!loaded) {\n        return React.createElement(LinearProgress, null);\n    }\n    if (!referenceRecord) {\n        return null;\n    }\n    if (resourceLinkPath) {\n        return (React.createElement(RecordContextProvider, { value: referenceRecord },\n            React.createElement(Link, { to: resourceLinkPath, className: className, onClick: stopPropagation }, cloneElement(Children.only(children), __assign({ className: classnames(children.props.className, classes.link // force color override for Typography components\n                ), record: referenceRecord, refetch: refetch, resource: reference, basePath: basePath, translateChoice: translateChoice }, sanitizeFieldRestProps(rest))))));\n    }\n    return (React.createElement(RecordContextProvider, { value: referenceRecord }, cloneElement(Children.only(children), __assign({ record: referenceRecord, resource: reference, basePath: basePath, translateChoice: translateChoice }, sanitizeFieldRestProps(rest)))));\n};\nReferenceFieldView.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.element,\n    className: PropTypes.string,\n    classes: PropTypes.any,\n    loading: PropTypes.bool,\n    record: PropTypes.any,\n    reference: PropTypes.string,\n    referenceRecord: PropTypes.any,\n    resource: PropTypes.string,\n    resourceLinkPath: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.oneOf([false]),\n    ]),\n    source: PropTypes.string,\n    translateChoice: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n};\nvar PureReferenceFieldView = memo(ReferenceFieldView);\nexport default ReferenceField;\n","var isMatchingReferencesError = function (matchingReferences) {\n    return matchingReferences && matchingReferences.error !== undefined;\n};\nexport var getStatusForInput = function (_a) {\n    var input = _a.input, matchingReferences = _a.matchingReferences, referenceRecord = _a.referenceRecord, _b = _a.translate, translate = _b === void 0 ? function (x) { return x; } : _b;\n    var matchingReferencesError = isMatchingReferencesError(matchingReferences)\n        ? translate(matchingReferences.error, {\n            _: matchingReferences.error,\n        })\n        : null;\n    var selectedReferenceError = input.value && !referenceRecord\n        ? translate('ra.input.references.single_missing', {\n            _: 'ra.input.references.single_missing',\n        })\n        : null;\n    return {\n        waiting: (input.value && selectedReferenceError && !matchingReferences) ||\n            (!input.value && !matchingReferences),\n        error: (input.value &&\n            selectedReferenceError &&\n            matchingReferencesError) ||\n            (!input.value && matchingReferencesError)\n            ? input.value\n                ? selectedReferenceError\n                : matchingReferencesError\n            : null,\n        warning: selectedReferenceError || matchingReferencesError,\n        choices: Array.isArray(matchingReferences)\n            ? matchingReferences\n            : [referenceRecord].filter(function (choice) { return choice; }),\n    };\n};\nexport var REFERENCES_STATUS_READY = 'REFERENCES_STATUS_READY';\nexport var REFERENCES_STATUS_INCOMPLETE = 'REFERENCES_STATUS_INCOMPLETE';\nexport var REFERENCES_STATUS_EMPTY = 'REFERENCES_STATUS_EMPTY';\nexport var getSelectedReferencesStatus = function (input, referenceRecords) {\n    return !input.value || input.value.length === referenceRecords.length\n        ? REFERENCES_STATUS_READY\n        : referenceRecords.length > 0\n            ? REFERENCES_STATUS_INCOMPLETE\n            : REFERENCES_STATUS_EMPTY;\n};\nexport var getStatusForArrayInput = function (_a) {\n    var input = _a.input, matchingReferences = _a.matchingReferences, referenceRecords = _a.referenceRecords, _b = _a.translate, translate = _b === void 0 ? function (x) { return x; } : _b;\n    // selectedReferencesDataStatus can be \"empty\" (no data was found for references from input.value)\n    // or \"incomplete\" (Not all of the reference data was found)\n    // or \"ready\" (all references data was found or there is no references from input.value)\n    var selectedReferencesDataStatus = getSelectedReferencesStatus(input, referenceRecords);\n    var matchingReferencesError = isMatchingReferencesError(matchingReferences)\n        ? translate(matchingReferences.error, {\n            _: matchingReferences.error,\n        })\n        : null;\n    return {\n        waiting: (!matchingReferences &&\n            input.value &&\n            selectedReferencesDataStatus === REFERENCES_STATUS_EMPTY) ||\n            (!matchingReferences && !input.value),\n        error: matchingReferencesError &&\n            (!input.value ||\n                (input.value &&\n                    selectedReferencesDataStatus === REFERENCES_STATUS_EMPTY))\n            ? translate('ra.input.references.all_missing', {\n                _: 'ra.input.references.all_missing',\n            })\n            : null,\n        warning: matchingReferencesError ||\n            (input.value &&\n                selectedReferencesDataStatus !== REFERENCES_STATUS_READY)\n            ? matchingReferencesError ||\n                translate('ra.input.references.many_missing', {\n                    _: 'ra.input.references.many_missing',\n                })\n            : null,\n        choices: Array.isArray(matchingReferences)\n            ? matchingReferences\n            : referenceRecords,\n    };\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useEffect, useReducer, useCallback, useRef } from 'react';\nvar paginationReducer = function (prevState, nextState) {\n    return __assign(__assign({}, prevState), nextState);\n};\nvar defaultPagination = {\n    page: 1,\n    perPage: 25,\n};\n/**\n * Hooks to provide pagination state (page and perPage)\n *\n * @example\n *\n * const { page, setPage, perPage, setPerPage } = usePagination(initialPerPage);\n *\n * @param {number} initialPagination the initial value per page\n * @returns {PaginationHookResult} The pagination props\n */\nexport default (function (initialPagination) {\n    if (initialPagination === void 0) { initialPagination = {}; }\n    var _a = useReducer(paginationReducer, __assign(__assign({}, defaultPagination), initialPagination)), pagination = _a[0], setPagination = _a[1];\n    var isFirstRender = useRef(true);\n    var setPerPage = useCallback(function (perPage) { return setPagination({ perPage: perPage }); }, []);\n    var setPage = useCallback(function (page) { return setPagination({ page: page }); }, []);\n    useEffect(function () {\n        if (isFirstRender.current) {\n            isFirstRender.current = false;\n            return;\n        }\n        setPerPage(initialPagination.perPage || 25);\n    }, [initialPagination.perPage, setPerPage]);\n    return {\n        page: pagination.page,\n        perPage: pagination.perPage,\n        pagination: pagination,\n        setPage: setPage,\n        setPerPage: setPerPage,\n        setPagination: setPagination,\n    };\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useReducer, useEffect, useRef, useCallback } from 'react';\nimport { SORT_ASC, SORT_DESC, } from '../reducer/admin/resource/list/queryReducer';\nvar sortReducer = function (state, action) {\n    switch (action.type) {\n        case 'SET_SORT':\n            return action.payload.sort;\n        case 'SET_SORT_FIELD': {\n            var field = action.payload.field;\n            var order = state.field === field\n                ? state.order === SORT_ASC\n                    ? SORT_DESC\n                    : SORT_ASC\n                : SORT_ASC;\n            return { field: field, order: order };\n        }\n        case 'SET_SORT_ORDER': {\n            var order = action.payload.order;\n            return __assign(__assign({}, state), { order: order });\n        }\n        default:\n            return state;\n    }\n};\nexport var defaultSort = { field: 'id', order: 'DESC' };\n/**\n * Set the sort { field, order }\n * @name setSort\n * @function\n * @param {SortPayload} sort the sort object\n */\n/**\n * Set the sort field, swap the order if the field is the same\n * @name setSortField\n * @function\n * @param {string} field the sort field\n */\n/**\n * Set the sort order\n * @name setSortOrder\n * @function\n * @param {string} order The sort order, either ASC or DESC\n */\n/**\n * @typedef SortProps\n * @type {Object}\n * @property {Object} sort: the sort object.\n * @property {string} sort.field: the sort object.\n * @property {'ASC' | 'DESC'} sort.order: the sort object.\n * @property {setSort} setSort\n * @property {setSortField} setSortField\n * @property {setSortOrder} setSortOrder\n */\n/**\n * Hooks to provide sort state\n *\n * @example\n *\n * const { sort, setSort, setSortField, setSortOrder } = useSort({\n *      field: 'name',\n *      order: 'ASC',\n * });\n *\n * setSort({ field: 'name', order: 'ASC' });\n * // is the same as\n * setSortField('name');\n * setSortOrder('ASC');\n *\n * @param {Object} initialSort\n * @param {string} initialSort.field The initial sort field\n * @param {string} initialSort.order The initial sort order\n * @returns {SortProps} The sort props\n */\nvar useSortState = function (initialSort) {\n    if (initialSort === void 0) { initialSort = defaultSort; }\n    var _a = useReducer(sortReducer, initialSort), sort = _a[0], dispatch = _a[1];\n    var isFirstRender = useRef(true);\n    useEffect(function () {\n        if (isFirstRender.current) {\n            isFirstRender.current = false;\n            return;\n        }\n        dispatch({ type: 'SET_SORT', payload: { sort: initialSort } });\n    }, [initialSort.field, initialSort.order]); // eslint-disable-line react-hooks/exhaustive-deps\n    return {\n        setSort: useCallback(function (sort) {\n            return dispatch({ type: 'SET_SORT', payload: { sort: sort } });\n        }, [dispatch]),\n        setSortField: useCallback(function (field) {\n            return dispatch({ type: 'SET_SORT_FIELD', payload: { field: field } });\n        }, [dispatch]),\n        setSortOrder: useCallback(function (order) {\n            return dispatch({ type: 'SET_SORT_ORDER', payload: { order: order } });\n        }, [dispatch]),\n        sort: sort,\n    };\n};\nexport default useSortState;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useEffect, useRef, useCallback } from 'react';\nimport debounce from 'lodash/debounce';\nimport isEqual from 'lodash/isEqual';\nimport { useSafeSetState } from '../util';\nvar defaultFilterToQuery = function (v) { return ({ q: v }); };\n/**\n * Hooks to provide filter state and setFilter which update the query part of the filter\n *\n * @example\n *\n * const { filter, setFilter } = useFilter({\n *      filterToQuery: v => ({ query: v }),\n *      permanentFilter: { foo: 'bar' },\n *      debounceTime: 500,\n * });\n * // filter initial value:\n * {\n *      query: '',\n *      foo: 'bar'\n * }\n *  // after updating filter\n *  setFilter('needle');\n *  {\n *      query: 'needle',\n *      foo: 'bar'\n *  }\n *\n * @param {Object} option\n * @param {Function} option.filterToQuery Function to convert the filter string to a filter object. Defaults to v => ({ q: v }).\n * @param {Object} option.permanentFilter Permanent filter to be merged with the filter string. Defaults to {}.\n * @param {number} option.debounceTime Time in ms between filter updates - used to debounce the search. Defaults to 500ms.\n *\n * @returns {UseFilterStateOptions} The filter props\n */\nexport default (function (_a) {\n    var _b = _a.filterToQuery, filterToQuery = _b === void 0 ? defaultFilterToQuery : _b, _c = _a.permanentFilter, permanentFilter = _c === void 0 ? {} : _c, _d = _a.debounceTime, debounceTime = _d === void 0 ? 500 : _d;\n    var permanentFilterProp = useRef(permanentFilter);\n    var latestValue = useRef();\n    var _e = useSafeSetState(__assign(__assign({}, permanentFilter), filterToQuery(''))), filter = _e[0], setFilterValue = _e[1];\n    // Developers often pass an object literal as permanent filter\n    // e.g. <ReferenceInput source=\"book_id\" reference=\"books\" filter={{ is_published: true }}>\n    // The effect should execute again when the parent component updates the filter value,\n    // but not when the object literal describes the same values. Therefore,\n    // we use JSON.stringify(permanentFilter) in the `useEffect` and `useCallback`\n    // dependencies instead of permanentFilter.\n    var permanentFilterSignature = JSON.stringify(permanentFilter);\n    useEffect(function () {\n        if (!isEqual(permanentFilterProp.current, permanentFilter)) {\n            permanentFilterProp.current = permanentFilter;\n            setFilterValue(__assign(__assign({}, permanentFilter), filterToQuery(latestValue.current)));\n        }\n    }, [permanentFilterSignature, permanentFilterProp, filterToQuery]); // eslint-disable-line react-hooks/exhaustive-deps\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    var setFilter = useCallback(debounce(function (value) {\n        setFilterValue(__assign(__assign({}, permanentFilter), filterToQuery(value)));\n        latestValue.current = value;\n    }, debounceTime), [permanentFilterSignature] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    return {\n        filter: filter,\n        setFilter: setFilter,\n    };\n});\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useCallback, useEffect, useRef } from 'react';\nimport { useSafeSetState } from '../util';\nvar defaultSelection = [];\n/**\n * Hooks to provide selection state.\n *\n * The names of the return values match the ListContext interface\n *\n * @example\n *\n * const { selectedIds, onSelect, onToggleItem, onUnselectItems } = useSelectionState();\n *\n */\nvar useSelectionState = function (initialSelection) {\n    if (initialSelection === void 0) { initialSelection = defaultSelection; }\n    var _a = useSafeSetState(initialSelection), selectedIds = _a[0], setSelectedIds = _a[1];\n    var isFirstRender = useRef(true);\n    useEffect(function () {\n        if (isFirstRender.current) {\n            isFirstRender.current = false;\n            return;\n        }\n        setSelectedIds(initialSelection);\n    }, [initialSelection, setSelectedIds]);\n    var onSelect = useCallback(function (newIds) {\n        setSelectedIds(newIds);\n    }, [setSelectedIds]);\n    var onToggleItem = useCallback(function (id) {\n        setSelectedIds(function (previousState) {\n            var index = previousState.indexOf(id);\n            if (index > -1) {\n                return __spreadArray(__spreadArray([], previousState.slice(0, index), true), previousState.slice(index + 1), true);\n            }\n            else {\n                return __spreadArray(__spreadArray([], previousState, true), [id], false);\n            }\n        });\n    }, [setSelectedIds]);\n    var onUnselectItems = useCallback(function () {\n        setSelectedIds([]);\n    }, [setSelectedIds]);\n    return {\n        selectedIds: selectedIds,\n        onSelect: onSelect,\n        onToggleItem: onToggleItem,\n        onUnselectItems: onUnselectItems,\n    };\n};\nexport default useSelectionState;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useCallback } from 'react';\nimport useGetList from '../../dataProvider/useGetList';\nimport { getStatusForInput as getDataStatus } from './referenceDataStatus';\nimport useTranslate from '../../i18n/useTranslate';\nimport useReference from '../useReference';\nimport usePaginationState from '../usePaginationState';\nimport { useSortState } from '..';\nimport useFilterState from '../useFilterState';\nimport useSelectionState from '../useSelectionState';\nimport { useResourceContext } from '../../core';\nvar defaultReferenceSource = function (resource, source) {\n    return resource + \"@\" + source;\n};\nvar defaultFilter = {};\n/**\n * A hook for choosing a reference record. Useful for foreign keys.\n *\n * This hook fetches the possible values in the reference resource\n * (using `dataProvider.getList()`), it returns the possible choices\n * as the `choices` attribute.\n *\n * @example\n * const {\n *      choices, // the available reference resource\n * } = useReferenceInputController({\n *      input, // the input props\n *      resource: 'comments',\n *      reference: 'posts',\n *      source: 'post_id',\n * });\n *\n * The hook also allow to filter results. It returns a `setFilter`\n * function. It uses the value to create a filter\n * for the query - by default { q: [searchText] }. You can customize the mapping\n * searchText => searchQuery by setting a custom `filterToQuery` function option\n * You can also add a permanentFilter to further filter the result:\n *\n * @example\n * const {\n *      choices, // the available reference resource\n *      setFilter,\n * } = useReferenceInputController({\n *      input, // the input props\n *      resource: 'comments',\n *      reference: 'posts',\n *      source: 'post_id',\n *      permanentFilter: {\n *          author: 'john'\n *      },\n *      filterToQuery: searchText => ({ title: searchText })\n * });\n */\nexport var useReferenceInputController = function (props) {\n    var _a;\n    var basePath = props.basePath, input = props.input, _b = props.page, initialPage = _b === void 0 ? 1 : _b, _c = props.perPage, initialPerPage = _c === void 0 ? 25 : _c, _d = props.filter, filter = _d === void 0 ? defaultFilter : _d, reference = props.reference, filterToQuery = props.filterToQuery, sortOverride = props.sort, enableGetChoices = props.enableGetChoices;\n    var resource = useResourceContext(props);\n    var translate = useTranslate();\n    // pagination logic\n    var _e = usePaginationState({ page: initialPage, perPage: initialPerPage }), pagination = _e.pagination, setPagination = _e.setPagination, page = _e.page, setPage = _e.setPage, perPage = _e.perPage, setPerPage = _e.setPerPage;\n    // sort logic\n    var _f = useSortState(sortOverride), sort = _f.sort, setSortObject = _f.setSort;\n    var setSort = useCallback(function (field, order) {\n        if (order === void 0) { order = 'ASC'; }\n        setSortObject({ field: field, order: order });\n        setPage(1);\n    }, [setPage, setSortObject]);\n    // filter logic\n    var _g = useFilterState({\n        permanentFilter: filter,\n        filterToQuery: filterToQuery,\n    }), filterValues = _g.filter, setFilter = _g.setFilter;\n    var displayedFilters = [];\n    // plus showFilter and hideFilter defined outside of the hook because\n    // they never change\n    // selection logic\n    var _h = useSelectionState(), selectedIds = _h.selectedIds, onSelect = _h.onSelect, onToggleItem = _h.onToggleItem, onUnselectItems = _h.onUnselectItems;\n    // fetch possible values\n    var _j = useGetList(reference, pagination, sort, filterValues, {\n        action: 'CUSTOM_QUERY',\n        enabled: enableGetChoices ? enableGetChoices(filterValues) : true,\n    }), possibleValuesIds = _j.ids, possibleValuesData = _j.data, possibleValuesTotal = _j.total, possibleValuesLoaded = _j.loaded, possibleValuesLoading = _j.loading, possibleValuesError = _j.error, refetchGetList = _j.refetch;\n    // fetch current value\n    var _k = useReference({\n        id: input.value,\n        reference: reference,\n    }), referenceRecord = _k.referenceRecord, refetchReference = _k.refetch, referenceError = _k.error, referenceLoading = _k.loading, referenceLoaded = _k.loaded;\n    // add current value to possible sources\n    var finalIds, finalData, finalTotal;\n    if (!referenceRecord || possibleValuesIds.includes(input.value)) {\n        finalIds = possibleValuesIds;\n        finalData = possibleValuesData;\n        finalTotal = possibleValuesTotal;\n    }\n    else {\n        finalIds = __spreadArray([input.value], possibleValuesIds, true);\n        finalData = __assign((_a = {}, _a[input.value] = referenceRecord, _a), possibleValuesData);\n        finalTotal = possibleValuesTotal + 1;\n    }\n    // overall status\n    var dataStatus = getDataStatus({\n        input: input,\n        matchingReferences: Object.keys(finalData).map(function (id) { return finalData[id]; }),\n        referenceRecord: referenceRecord,\n        translate: translate,\n    });\n    var refetch = useCallback(function () {\n        refetchGetList();\n        refetchReference();\n    }, [refetchGetList, refetchReference]);\n    return {\n        // should match the ListContext shape\n        possibleValues: {\n            basePath: basePath,\n            data: finalData,\n            ids: finalIds,\n            total: finalTotal,\n            error: possibleValuesError,\n            loaded: possibleValuesLoaded,\n            loading: possibleValuesLoading,\n            hasCreate: false,\n            page: page,\n            setPage: setPage,\n            perPage: perPage,\n            setPerPage: setPerPage,\n            currentSort: sort,\n            setSort: setSort,\n            filterValues: filterValues,\n            displayedFilters: displayedFilters,\n            setFilters: setFilter,\n            showFilter: showFilter,\n            hideFilter: hideFilter,\n            selectedIds: selectedIds,\n            onSelect: onSelect,\n            onToggleItem: onToggleItem,\n            onUnselectItems: onUnselectItems,\n            refetch: refetch,\n            resource: resource,\n        },\n        referenceRecord: {\n            data: referenceRecord,\n            loaded: referenceLoaded,\n            loading: referenceLoading,\n            error: referenceError,\n            refetch: refetchReference,\n        },\n        dataStatus: {\n            error: dataStatus.error,\n            loading: dataStatus.waiting,\n            warning: dataStatus.warning,\n        },\n        choices: finalIds.map(function (id) { return finalData[id]; }),\n        // kept for backwards compatibility\n        // @deprecated to be removed in 4.0\n        error: dataStatus.error,\n        loading: possibleValuesLoading || referenceLoading,\n        loaded: possibleValuesLoaded && referenceLoaded,\n        filter: filterValues,\n        refetch: refetch,\n        setFilter: setFilter,\n        pagination: pagination,\n        setPagination: setPagination,\n        sort: sort,\n        setSort: setSortObject,\n        warning: dataStatus.warning,\n    };\n};\nvar hideFilter = function () { };\nvar showFilter = function () { };\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nvar ReferenceError = function (_a) {\n    var label = _a.label, error = _a.error;\n    return (React.createElement(TextField, { error: true, disabled: true, label: label, value: error, margin: \"normal\" }));\n};\nReferenceError.propTypes = {\n    error: PropTypes.string.isRequired,\n    label: PropTypes.string.isRequired,\n};\nexport default ReferenceError;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport { useInput, useReferenceInputController, warning as warningLog, ListContextProvider, ResourceContextProvider, } from 'ra-core';\nimport sanitizeInputRestProps from './sanitizeInputRestProps';\nimport ReferenceError from './ReferenceError';\n/**\n * An Input component for choosing a reference record. Useful for foreign keys.\n *\n * This component fetches the possible values in the reference resource\n * (using `dataProvider.getList()`), then delegates rendering\n * to a subcomponent, to which it passes the possible choices\n * as the `choices` attribute.\n *\n * Use it with a selector component as child, like `<AutocompleteInput>`,\n * `<SelectInput>`, or `<RadioButtonGroupInput>`.\n *\n * @example\n * export const CommentEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <ReferenceInput label=\"Post\" source=\"post_id\" reference=\"posts\">\n *                 <AutocompleteInput optionText=\"title\" />\n *             </ReferenceInput>\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * @example\n * export const CommentEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <ReferenceInput label=\"Post\" source=\"post_id\" reference=\"posts\">\n *                 <SelectInput optionText=\"title\" />\n *             </ReferenceInput>\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * By default, restricts the possible values to 25. You can extend this limit\n * by setting the `perPage` prop.\n *\n * @example\n * <ReferenceInput\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      perPage={100}>\n *     <SelectInput optionText=\"title\" />\n * </ReferenceInput>\n *\n * By default, orders the possible values by id desc. You can change this order\n * by setting the `sort` prop (an object with `field` and `order` properties).\n *\n * @example\n * <ReferenceInput\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      sort={{ field: 'title', order: 'ASC' }}>\n *     <SelectInput optionText=\"title\" />\n * </ReferenceInput>\n *\n * Also, you can filter the query used to populate the possible values. Use the\n * `filter` prop for that.\n *\n * @example\n * <ReferenceInput\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      filter={{ is_published: true }}>\n *     <SelectInput optionText=\"title\" />\n * </ReferenceInput>\n *\n * The enclosed component may filter results. ReferenceInput passes a `setFilter`\n * function as prop to its child component. It uses the value to create a filter\n * for the query - by default { q: [searchText] }. You can customize the mapping\n * searchText => searchQuery by setting a custom `filterToQuery` function prop:\n *\n * @example\n * <ReferenceInput\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      filterToQuery={searchText => ({ title: searchText })}>\n *     <AutocompleteInput optionText=\"title\" />\n * </ReferenceInput>\n */\nvar ReferenceInput = function (props) {\n    var format = props.format, onBlur = props.onBlur, onChange = props.onChange, onFocus = props.onFocus, parse = props.parse, validate = props.validate, rest = __rest(props, [\"format\", \"onBlur\", \"onChange\", \"onFocus\", \"parse\", \"validate\"]);\n    var inputProps = useInput(__assign({ format: format, onBlur: onBlur, onChange: onChange, onFocus: onFocus, parse: parse, validate: validate }, rest));\n    return (React.createElement(ReferenceInputView, __assign({}, inputProps, rest, useReferenceInputController(__assign(__assign({}, rest), inputProps)))));\n};\nReferenceInput.propTypes = {\n    allowEmpty: PropTypes.bool,\n    basePath: PropTypes.string,\n    children: PropTypes.element.isRequired,\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    filter: PropTypes.object,\n    filterToQuery: PropTypes.func.isRequired,\n    label: PropTypes.string,\n    onChange: PropTypes.func,\n    perPage: PropTypes.number,\n    record: PropTypes.object,\n    reference: PropTypes.string.isRequired,\n    resource: PropTypes.string,\n    sort: PropTypes.shape({\n        field: PropTypes.string,\n        order: PropTypes.oneOf(['ASC', 'DESC']),\n    }),\n    source: PropTypes.string,\n};\nReferenceInput.defaultProps = {\n    filter: {},\n    filterToQuery: function (searchText) { return (searchText ? { q: searchText } : {}); },\n    perPage: 25,\n    sort: { field: 'id', order: 'DESC' },\n};\nvar sanitizeRestProps = function (_a) {\n    var _b = _a.dataStatus, dataStatus = _b === void 0 ? null : _b, _c = _a.filter, filter = _c === void 0 ? null : _c, _d = _a.filterToQuery, filterToQuery = _d === void 0 ? null : _d, _e = _a.onChange, onChange = _e === void 0 ? null : _e, _f = _a.perPage, perPage = _f === void 0 ? null : _f, _g = _a.reference, reference = _g === void 0 ? null : _g, _h = _a.referenceRecord, referenceRecord = _h === void 0 ? null : _h, _j = _a.referenceSource, referenceSource = _j === void 0 ? null : _j, _k = _a.sort, sort = _k === void 0 ? null : _k, _l = _a.validation, validation = _l === void 0 ? null : _l, rest = __rest(_a, [\"dataStatus\", \"filter\", \"filterToQuery\", \"onChange\", \"perPage\", \"reference\", \"referenceRecord\", \"referenceSource\", \"sort\", \"validation\"]);\n    return sanitizeInputRestProps(rest);\n};\nexport var ReferenceInputView = function (props) {\n    var allowEmpty = props.allowEmpty, basePath = props.basePath, children = props.children, choices = props.choices, classes = props.classes, className = props.className, error = props.error, helperText = props.helperText, id = props.id, input = props.input, isRequired = props.isRequired, label = props.label, meta = props.meta, possibleValues = props.possibleValues, resource = props.resource, reference = props.reference, setFilter = props.setFilter, setPagination = props.setPagination, setSort = props.setSort, source = props.source, warning = props.warning, rest = __rest(props, [\"allowEmpty\", \"basePath\", \"children\", \"choices\", \"classes\", \"className\", \"error\", \"helperText\", \"id\", \"input\", \"isRequired\", \"label\", \"meta\", \"possibleValues\", \"resource\", \"reference\", \"setFilter\", \"setPagination\", \"setSort\", \"source\", \"warning\"]);\n    if (Children.count(children) !== 1) {\n        throw new Error('<ReferenceInput> only accepts a single child');\n    }\n    // This is not a final-form error but an unrecoverable error from the\n    // useReferenceInputController hook\n    if (error) {\n        return React.createElement(ReferenceError, { label: label, error: error });\n    }\n    // When the useReferenceInputController returns a warning, it means it\n    // had an issue trying to load the referenced record\n    // We display it by overriding the final-form meta\n    var finalMeta = warning\n        ? __assign(__assign({}, meta), { error: warning }) : meta;\n    // helperText should never be set on ReferenceInput, only in child component\n    // But in a Filter component, the child helperText have to be forced to false\n    warningLog(helperText !== undefined && helperText !== false, \"<ReferenceInput> doesn't accept a helperText prop. Set the helperText prop on the child component instead\");\n    var disabledHelperText = helperText === false ? { helperText: helperText } : {};\n    return (React.createElement(ResourceContextProvider, { value: reference },\n        React.createElement(ListContextProvider, { value: possibleValues }, cloneElement(children, __assign(__assign({ allowEmpty: allowEmpty, classes: classes, className: className, input: input, isRequired: isRequired, label: label, resource: resource, meta: finalMeta, source: source, choices: choices, basePath: basePath, setFilter: setFilter, setPagination: setPagination, setSort: setSort, translateChoice: false }, disabledHelperText), sanitizeRestProps(rest))))));\n};\nexport default ReferenceInput;\n","import { useCallback, isValidElement } from 'react';\nimport set from 'lodash/set';\nimport useChoices from './useChoices';\nimport { useTranslate } from '../i18n';\n/*\n * Returns helper functions for suggestions handling.\n *\n * @param allowDuplicates A boolean indicating whether a suggestion can be added several times\n * @param allowEmpty A boolean indicating whether an empty suggestion should be added\n * @param choices An array of available choices\n * @param emptyText The text to use for the empty suggestion. Defaults to an empty string\n * @param emptyValue The value to use for the empty suggestion. Defaults to `null`\n * @param limitChoicesToValue A boolean indicating whether the initial suggestions should be limited to the currently selected one(s)\n * @param matchSuggestion Optional unless `optionText` is a React element. Function which check whether a choice matches a filter. Must return a boolean.\n * @param optionText Either a string defining the property to use to get the choice text, a function or a React element\n * @param optionValue The property to use to get the choice value\n * @param selectedItem The currently selected item. May be an array of selected items\n * @param suggestionLimit The maximum number of suggestions returned, excluding the empty one if `allowEmpty` is `true`\n * @param translateChoice A boolean indicating whether to option text should be translated\n *\n * @returns An object with helper functions:\n * - getChoiceText: Returns the choice text or a React element\n * - getChoiceValue: Returns the choice value\n * - getSuggestions: A function taking a filter value (string) and returning the matching suggestions\n */\nvar useSuggestions = function (_a) {\n    var allowCreate = _a.allowCreate, allowDuplicates = _a.allowDuplicates, allowEmpty = _a.allowEmpty, choices = _a.choices, _b = _a.createText, createText = _b === void 0 ? 'ra.action.create' : _b, _c = _a.createValue, createValue = _c === void 0 ? '@@create' : _c, _d = _a.emptyText, emptyText = _d === void 0 ? '' : _d, _e = _a.emptyValue, emptyValue = _e === void 0 ? null : _e, limitChoicesToValue = _a.limitChoicesToValue, matchSuggestion = _a.matchSuggestion, optionText = _a.optionText, optionValue = _a.optionValue, selectedItem = _a.selectedItem, _f = _a.suggestionLimit, suggestionLimit = _f === void 0 ? 0 : _f, translateChoice = _a.translateChoice;\n    var translate = useTranslate();\n    var _g = useChoices({\n        optionText: optionText,\n        optionValue: optionValue,\n        translateChoice: translateChoice,\n    }), getChoiceText = _g.getChoiceText, getChoiceValue = _g.getChoiceValue;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    var getSuggestions = useCallback(getSuggestionsFactory({\n        allowCreate: allowCreate,\n        allowDuplicates: allowDuplicates,\n        allowEmpty: allowEmpty,\n        choices: choices,\n        createText: createText,\n        createValue: createValue,\n        emptyText: translate(emptyText, { _: emptyText }),\n        emptyValue: emptyValue,\n        getChoiceText: getChoiceText,\n        getChoiceValue: getChoiceValue,\n        limitChoicesToValue: limitChoicesToValue,\n        matchSuggestion: matchSuggestion,\n        optionText: optionText,\n        optionValue: optionValue,\n        selectedItem: selectedItem,\n        suggestionLimit: suggestionLimit,\n    }), [\n        allowCreate,\n        allowDuplicates,\n        allowEmpty,\n        choices,\n        createText,\n        createValue,\n        emptyText,\n        emptyValue,\n        getChoiceText,\n        getChoiceValue,\n        limitChoicesToValue,\n        matchSuggestion,\n        optionText,\n        optionValue,\n        selectedItem,\n        suggestionLimit,\n        translate,\n    ]);\n    return {\n        getChoiceText: getChoiceText,\n        getChoiceValue: getChoiceValue,\n        getSuggestions: getSuggestions,\n    };\n};\nexport default useSuggestions;\nvar escapeRegExp = function (value) {\n    return value ? value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') : '';\n}; // $& means the whole matched string\n/**\n * Default matcher implementation which check whether the suggestion text matches the filter.\n */\nvar defaultMatchSuggestion = function (getChoiceText) { return function (filter, suggestion, exact) {\n    if (exact === void 0) { exact = false; }\n    var suggestionText = getChoiceText(suggestion);\n    var isReactElement = isValidElement(suggestionText);\n    var regex = escapeRegExp(filter);\n    return isReactElement\n        ? false\n        : suggestionText &&\n            suggestionText.match(\n            // We must escape any RegExp reserved characters to avoid errors\n            // For example, the filter might contains * which must be escaped as \\*\n            new RegExp(exact ? \"^\" + regex + \"$\" : regex, 'i'));\n}; };\n/**\n * Get the suggestions to display after applying a fuzzy search on the available choices\n *\n * @example\n *\n * getSuggestions({\n *   choices: [{ id: 1, name: 'admin' }, { id: 2, name: 'publisher' }],\n *   optionText: 'name',\n *   optionValue: 'id',\n *   getSuggestionText: choice => choice[optionText],\n * })('pub')\n *\n * // Will return [{ id: 2, name: 'publisher' }]\n * getSuggestions({\n *   choices: [{ id: 1, name: 'admin' }, { id: 2, name: 'publisher' }],\n *   optionText: 'name',\n *   optionValue: 'id',\n *   getSuggestionText: choice => choice[optionText],\n * })('pub')\n *\n * // Will return [{ id: 2, name: 'publisher' }]\n */\nexport var getSuggestionsFactory = function (_a) {\n    var _b = _a.allowCreate, allowCreate = _b === void 0 ? false : _b, _c = _a.allowDuplicates, allowDuplicates = _c === void 0 ? false : _c, _d = _a.allowEmpty, allowEmpty = _d === void 0 ? false : _d, _e = _a.choices, choices = _e === void 0 ? [] : _e, _f = _a.createText, createText = _f === void 0 ? 'ra.action.create' : _f, _g = _a.createValue, createValue = _g === void 0 ? '@@create' : _g, _h = _a.emptyText, emptyText = _h === void 0 ? '' : _h, _j = _a.emptyValue, emptyValue = _j === void 0 ? null : _j, _k = _a.optionText, optionText = _k === void 0 ? 'name' : _k, _l = _a.optionValue, optionValue = _l === void 0 ? 'id' : _l, getChoiceText = _a.getChoiceText, getChoiceValue = _a.getChoiceValue, _m = _a.limitChoicesToValue, limitChoicesToValue = _m === void 0 ? false : _m, _o = _a.matchSuggestion, matchSuggestion = _o === void 0 ? defaultMatchSuggestion(getChoiceText) : _o, selectedItem = _a.selectedItem, _p = _a.suggestionLimit, suggestionLimit = _p === void 0 ? 0 : _p;\n    return function (filter) {\n        var suggestions = [];\n        // if an item is selected and matches the filter\n        if (selectedItem &&\n            !Array.isArray(selectedItem) &&\n            matchSuggestion(filter, selectedItem)) {\n            if (limitChoicesToValue) {\n                // display only the selected item\n                suggestions = choices.filter(function (choice) {\n                    return getChoiceValue(choice) === getChoiceValue(selectedItem);\n                });\n            }\n            else if (!allowDuplicates) {\n                // ignore the filter to show more choices\n                suggestions = removeAlreadySelectedSuggestions(choices, selectedItem, getChoiceValue);\n            }\n            else {\n                suggestions = choices;\n            }\n        }\n        else {\n            suggestions = choices.filter(function (choice) { return matchSuggestion(filter, choice); });\n            if (!allowDuplicates) {\n                suggestions = removeAlreadySelectedSuggestions(suggestions, selectedItem, getChoiceValue);\n            }\n        }\n        suggestions = limitSuggestions(suggestions, suggestionLimit);\n        var hasExactMatch = suggestions.some(function (suggestion) {\n            return matchSuggestion(filter, suggestion, true);\n        });\n        if (allowCreate) {\n            var filterIsSelectedItem = \n            // If the selectedItem is an array (for example AutocompleteArrayInput)\n            // we shouldn't try to match\n            !!selectedItem && !Array.isArray(selectedItem)\n                ? matchSuggestion(filter, selectedItem, true)\n                : false;\n            if (!hasExactMatch && !filterIsSelectedItem) {\n                suggestions.push(getSuggestion({\n                    optionText: optionText,\n                    optionValue: optionValue,\n                    text: createText,\n                    value: createValue,\n                }));\n            }\n        }\n        if (allowEmpty) {\n            suggestions.unshift(getSuggestion({\n                optionText: optionText,\n                optionValue: optionValue,\n                text: emptyText,\n                value: emptyValue,\n            }));\n        }\n        return suggestions;\n    };\n};\n/**\n * @example\n *\n * removeAlreadySelectedSuggestions(\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\n *  [{ id: 1, name: 'foo'}]\n * );\n *\n * // Will return [{ id: 2, name: 'bar' }]\n *\n * @param suggestions List of suggestions\n * @param selectedItems List of selection\n * @param getChoiceValue Converter function from suggestion to value\n */\nvar removeAlreadySelectedSuggestions = function (suggestions, selectedItems, getChoiceValue) {\n    if (!selectedItems) {\n        return suggestions;\n    }\n    var selectedValues = Array.isArray(selectedItems)\n        ? selectedItems.map(getChoiceValue)\n        : [getChoiceValue(selectedItems)];\n    return suggestions.filter(function (suggestion) { return !selectedValues.includes(getChoiceValue(suggestion)); });\n};\n/**\n * @example\n *\n * limitSuggestions(\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\n *  1\n * );\n *\n * // Will return [{ id: 1, name: 'foo' }]\n *\n * @param suggestions List of suggestions\n * @param limit\n */\nvar limitSuggestions = function (suggestions, limit) {\n    if (limit === void 0) { limit = 0; }\n    return Number.isInteger(limit) && limit > 0\n        ? suggestions.slice(0, limit)\n        : suggestions;\n};\n/**\n * addSuggestion(\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\n * );\n *\n * // Will return [{ id: null, name: '' }, { id: 1, name: 'foo' }, , { id: 2, name: 'bar' }]\n *\n * @param suggestions List of suggestions\n * @param options\n * @param options.optionText\n */\nvar getSuggestion = function (_a) {\n    var _b = _a.optionText, optionText = _b === void 0 ? 'name' : _b, _c = _a.optionValue, optionValue = _c === void 0 ? 'id' : _c, _d = _a.text, text = _d === void 0 ? '' : _d, _e = _a.value, value = _e === void 0 ? null : _e;\n    var suggestion = {};\n    set(suggestion, optionValue, value);\n    if (typeof optionText === 'string') {\n        set(suggestion, optionText, text);\n    }\n    return suggestion;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport classnames from 'classnames';\nimport { Paper, Popper } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles({\n    suggestionsContainer: {\n        zIndex: 2,\n    },\n    suggestionsPaper: {\n        maxHeight: '50vh',\n        overflowY: 'auto',\n    },\n}, { name: 'RaAutocompleteSuggestionList' });\nvar AutocompleteSuggestionList = function (props) {\n    var children = props.children, className = props.className, isOpen = props.isOpen, menuProps = props.menuProps, inputEl = props.inputEl, suggestionsContainerProps = props.suggestionsContainerProps;\n    var classes = useStyles(props);\n    return (React.createElement(Popper, __assign({ open: isOpen, anchorEl: inputEl, className: classnames(classes.suggestionsContainer, className), modifiers: {} }, suggestionsContainerProps),\n        React.createElement(\"div\", __assign({}, (isOpen ? menuProps : {})),\n            React.createElement(Paper, { square: true, style: {\n                    marginTop: 8,\n                    minWidth: inputEl ? inputEl.clientWidth : null,\n                }, className: classes.suggestionsPaper }, children))));\n};\nexport default AutocompleteSuggestionList;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { isValidElement, cloneElement } from 'react';\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\nimport { MenuItem } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        fontWeight: 400,\n    },\n    selected: {\n        fontWeight: 500,\n    },\n    suggestion: {\n        display: 'block',\n        fontFamily: theme.typography.fontFamily,\n        minHeight: 24,\n    },\n    suggestionText: { fontWeight: 300 },\n    highlightedSuggestionText: { fontWeight: 500 },\n}); }, { name: 'RaAutocompleteSuggestionItem' });\nvar AutocompleteSuggestionItem = function (props) {\n    var _a;\n    var createValue = props.createValue, suggestion = props.suggestion, index = props.index, highlightedIndex = props.highlightedIndex, isSelected = props.isSelected, filterValue = props.filterValue, classesOverride = props.classes, getSuggestionText = props.getSuggestionText, rest = __rest(props, [\"createValue\", \"suggestion\", \"index\", \"highlightedIndex\", \"isSelected\", \"filterValue\", \"classes\", \"getSuggestionText\"]);\n    var classes = useStyles(props);\n    var isHighlighted = highlightedIndex === index;\n    var suggestionText = 'id' in suggestion && suggestion.id === createValue\n        ? suggestion.name\n        : getSuggestionText(suggestion);\n    var matches;\n    var parts;\n    if (!isValidElement(suggestionText)) {\n        matches = match(suggestionText, filterValue);\n        parts = parse(suggestionText, matches);\n    }\n    return (React.createElement(MenuItem, __assign({ key: suggestionText, selected: isHighlighted, className: classnames(classes.root, (_a = {},\n            _a[classes.selected] = isSelected,\n            _a)) }, rest), isValidElement(suggestionText) ? (cloneElement(suggestionText, { filterValue: filterValue })) : (React.createElement(\"div\", { className: classes.suggestion }, parts.map(function (part, index) {\n        return part.highlight ? (React.createElement(\"span\", { key: index, className: classes.highlightedSuggestionText }, part.text)) : (React.createElement(\"strong\", { key: index, className: classes.suggestionText }, part.text));\n    })))));\n};\nexport default AutocompleteSuggestionItem;\n","import React from 'react';\nimport { CircularProgress } from '@material-ui/core';\nimport { useTimeout } from 'ra-core';\nexport var AutocompleteInputLoader = function (_a) {\n    var _b = _a.timeout, timeout = _b === void 0 ? 1000 : _b;\n    var oneSecondHasPassed = useTimeout(timeout);\n    if (oneSecondHasPassed) {\n        return React.createElement(CircularProgress, { size: 24 });\n    }\n    return null;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React, { useCallback, useEffect, useRef, useState, useMemo, isValidElement, } from 'react';\nimport Downshift from 'downshift';\nimport get from 'lodash/get';\nimport classNames from 'classnames';\nimport { TextField, InputAdornment, IconButton, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport { useInput, FieldTitle, mergeRefs, useSuggestions, useTranslate, warning, } from 'ra-core';\nimport InputHelperText from './InputHelperText';\nimport AutocompleteSuggestionList from './AutocompleteSuggestionList';\nimport AutocompleteSuggestionItem from './AutocompleteSuggestionItem';\nimport { AutocompleteInputLoader } from './AutocompleteInputLoader';\nimport { useSupportCreateSuggestion, } from './useSupportCreateSuggestion';\n/**\n * An Input component for an autocomplete field, using an array of objects for the options\n *\n * Pass possible options as an array of objects in the 'choices' attribute.\n *\n * By default, the options are built from:\n *  - the 'id' property as the option value,\n *  - the 'name' property as the option text\n * @example\n * const choices = [\n *    { id: 'M', name: 'Male' },\n *    { id: 'F', name: 'Female' },\n * ];\n * <AutocompleteInput source=\"gender\" choices={choices} />\n *\n * You can also customize the properties to use for the option name and value,\n * thanks to the 'optionText' and 'optionValue' attributes.\n * @example\n * const choices = [\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\n * ];\n * <AutocompleteInput source=\"author_id\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\n *\n * `optionText` also accepts a function, so you can shape the option text at will:\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\n * <AutocompleteInput source=\"author_id\" choices={choices} optionText={optionRenderer} />\n *\n * `optionText` also accepts a React Element, that will be cloned and receive\n * the related choice as the `record` prop. You can use Field components there.\n * Note that you must also specify the `matchSuggestion` prop\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const matchSuggestion = (filterValue, choice) => choice.first_name.match(filterValue) || choice.last_name.match(filterValue);\n * const FullNameField = ({ record }) => <span>{record.first_name} {record.last_name}</span>;\n * <SelectInput source=\"gender\" choices={choices} optionText={<FullNameField />} matchSuggestion={matchSuggestion} />\n *\n * The choices are translated by default, so you can use translation identifiers as choices:\n * @example\n * const choices = [\n *    { id: 'M', name: 'myroot.gender.male' },\n *    { id: 'F', name: 'myroot.gender.female' },\n * ];\n *\n * However, in some cases (e.g. inside a `<ReferenceInput>`), you may not want\n * the choice to be translated. In that case, set the `translateChoice` prop to false.\n * @example\n * <AutocompleteInput source=\"gender\" choices={choices} translateChoice={false}/>\n *\n * The object passed as `options` props is passed to the material-ui <TextField> component\n *\n * @example\n * <AutocompleteInput source=\"author_id\" options={{ color: 'secondary', InputLabelProps: { shrink: true } }} />\n */\nexport var AutocompleteInput = function (props) {\n    var allowEmpty = props.allowEmpty, className = props.className, classesOverride = props.classes, clearAlwaysVisible = props.clearAlwaysVisible, _a = props.choices, choices = _a === void 0 ? [] : _a, createLabel = props.createLabel, createItemLabel = props.createItemLabel, createValue = props.createValue, create = props.create, disabled = props.disabled, emptyText = props.emptyText, emptyValue = props.emptyValue, format = props.format, fullWidth = props.fullWidth, helperText = props.helperText, idOverride = props.id, inputOverride = props.input, inputText = props.inputText, isRequiredOverride = props.isRequired, label = props.label, limitChoicesToValue = props.limitChoicesToValue, loaded = props.loaded, loading = props.loading, _b = props.margin, margin = _b === void 0 ? 'dense' : _b, matchSuggestion = props.matchSuggestion, metaOverride = props.meta, onBlur = props.onBlur, onChange = props.onChange, onCreate = props.onCreate, onFocus = props.onFocus, _c = props.options, _d = _c === void 0 ? {\n        suggestionsContainerProps: undefined,\n        labelProps: undefined,\n        InputProps: undefined,\n    } : _c, suggestionsContainerProps = _d.suggestionsContainerProps, labelProps = _d.labelProps, InputProps = _d.InputProps, options = __rest(_d, [\"suggestionsContainerProps\", \"labelProps\", \"InputProps\"]), _e = props.optionText, optionText = _e === void 0 ? 'name' : _e, _f = props.optionValue, optionValue = _f === void 0 ? 'id' : _f, parse = props.parse, refetch = props.refetch, resettable = props.resettable, resource = props.resource, setFilter = props.setFilter, shouldRenderSuggestionsOverride = props.shouldRenderSuggestions, source = props.source, suggestionLimit = props.suggestionLimit, _g = props.translateChoice, translateChoice = _g === void 0 ? true : _g, validate = props.validate, _h = props.variant, variant = _h === void 0 ? 'filled' : _h, rest = __rest(props, [\"allowEmpty\", \"className\", \"classes\", \"clearAlwaysVisible\", \"choices\", \"createLabel\", \"createItemLabel\", \"createValue\", \"create\", \"disabled\", \"emptyText\", \"emptyValue\", \"format\", \"fullWidth\", \"helperText\", \"id\", \"input\", \"inputText\", \"isRequired\", \"label\", \"limitChoicesToValue\", \"loaded\", \"loading\", \"margin\", \"matchSuggestion\", \"meta\", \"onBlur\", \"onChange\", \"onCreate\", \"onFocus\", \"options\", \"optionText\", \"optionValue\", \"parse\", \"refetch\", \"resettable\", \"resource\", \"setFilter\", \"shouldRenderSuggestions\", \"source\", \"suggestionLimit\", \"translateChoice\", \"validate\", \"variant\"]);\n    if (isValidElement(optionText) && !inputText) {\n        throw new Error(\"If the optionText prop is a React element, you must also specify the inputText prop:\\n        <AutocompleteInput\\n            inputText={(record) => record.title}\\n        />\");\n    }\n    warning(isValidElement(optionText) && !matchSuggestion, \"If the optionText prop is a React element, you must also specify the matchSuggestion prop:\\n<AutocompleteInput\\n    matchSuggestion={(filterValue, suggestion) => true}\\n/>\\n        \");\n    warning(source === undefined, \"If you're not wrapping the AutocompleteInput inside a ReferenceInput, you must provide the source prop\");\n    warning(choices === undefined, \"If you're not wrapping the AutocompleteInput inside a ReferenceInput, you must provide the choices prop\");\n    var classes = useStyles(props);\n    var inputEl = useRef();\n    var anchorEl = useRef();\n    var translate = useTranslate();\n    var _j = useInput(__assign({ format: format, id: idOverride, input: inputOverride, meta: metaOverride, onBlur: onBlur, onChange: onChange, onFocus: onFocus, parse: parse, resource: resource, source: source, validate: validate }, rest)), id = _j.id, input = _j.input, isRequired = _j.isRequired, _k = _j.meta, touched = _k.touched, error = _k.error, submitError = _k.submitError;\n    var _l = useState(''), filterValue = _l[0], setFilterValue = _l[1];\n    var getSuggestionFromValue = useCallback(function (value) { return choices.find(function (choice) { return get(choice, optionValue) === value; }); }, [choices, optionValue]);\n    var selectedItem = useMemo(function () { return getSuggestionFromValue(input.value) || null; }, [input.value, getSuggestionFromValue]);\n    var doesQueryMatchSuggestion = useMemo(function () {\n        if (isValidElement(optionText)) {\n            return choices.some(function (choice) { return matchSuggestion(filterValue, choice); });\n        }\n        var isFunction = typeof optionText === 'function';\n        if (isFunction) {\n            var hasOption_1 = choices.some(function (choice) {\n                var text = optionText(choice);\n                return get(choice, text) === filterValue;\n            });\n            var selectedItemText_1 = optionText(selectedItem);\n            return hasOption_1 || selectedItemText_1 === filterValue;\n        }\n        var selectedItemText = get(selectedItem, optionText);\n        var hasOption = choices.some(function (choice) {\n            return get(choice, optionText) === filterValue;\n        });\n        return selectedItemText === filterValue || hasOption;\n    }, [choices, optionText, filterValue, matchSuggestion, selectedItem]);\n    var shouldAllowCreate = !doesQueryMatchSuggestion;\n    var _m = useSuggestions({\n        allowEmpty: allowEmpty,\n        choices: choices,\n        emptyText: emptyText,\n        emptyValue: emptyValue,\n        limitChoicesToValue: limitChoicesToValue,\n        matchSuggestion: matchSuggestion,\n        optionText: optionText,\n        optionValue: optionValue,\n        selectedItem: selectedItem,\n        suggestionLimit: suggestionLimit,\n        translateChoice: translateChoice,\n    }), getChoiceText = _m.getChoiceText, getChoiceValue = _m.getChoiceValue, getSuggestions = _m.getSuggestions;\n    var handleChange = useCallback(function (item, newItem) { return __awaiter(void 0, void 0, void 0, function () {\n        var value;\n        return __generator(this, function (_a) {\n            value = getChoiceValue(newItem || item);\n            if (value == null && filterValue) {\n                setFilterValue('');\n            }\n            input.onChange(value);\n            return [2 /*return*/];\n        });\n    }); }, [filterValue, getChoiceValue, input]);\n    var _o = useSupportCreateSuggestion({\n        create: create,\n        createLabel: createLabel,\n        createItemLabel: createItemLabel,\n        createValue: createValue,\n        handleChange: handleChange,\n        filter: filterValue,\n        onCreate: onCreate,\n        optionText: optionText,\n    }), getCreateItem = _o.getCreateItem, handleChangeWithCreateSupport = _o.handleChange, createElement = _o.createElement;\n    var handleFilterChange = useCallback(function (eventOrValue) {\n        var event = eventOrValue;\n        var value = event.target\n            ? event.target.value\n            : eventOrValue;\n        if (setFilter) {\n            setFilter(value);\n        }\n    }, [setFilter]);\n    // We must reset the filter every time the value changes to ensure we\n    // display at least some choices even if the input has a value.\n    // Otherwise, it would only display the currently selected one and the user\n    // would have to first clear the input before seeing any other choices\n    useEffect(function () {\n        handleFilterChange('');\n        // If we have a value, set the filter to its text so that\n        // Downshift displays it correctly\n        setFilterValue(typeof input.value === 'undefined' ||\n            input.value === null ||\n            selectedItem === null\n            ? ''\n            : inputText\n                ? inputText(getChoiceText(selectedItem).props.record)\n                : getChoiceText(selectedItem));\n        inputEl.current.blur();\n    }, [\n        input.value,\n        handleFilterChange,\n        selectedItem,\n        getChoiceText,\n        inputText,\n    ]);\n    // This function ensures that the suggestion list stay aligned to the\n    // input element even if it moves (because user scrolled for example)\n    var updateAnchorEl = function () {\n        if (!inputEl.current) {\n            return;\n        }\n        var inputPosition = inputEl.current.getBoundingClientRect();\n        // It works by implementing a mock element providing the only method used\n        // by the PopOver component, getBoundingClientRect, which will return a\n        // position based on the input position\n        if (!anchorEl.current) {\n            anchorEl.current = { getBoundingClientRect: function () { return inputPosition; } };\n        }\n        else {\n            var anchorPosition = anchorEl.current.getBoundingClientRect();\n            if (anchorPosition.x !== inputPosition.x ||\n                anchorPosition.y !== inputPosition.y) {\n                anchorEl.current = {\n                    getBoundingClientRect: function () { return inputPosition; },\n                };\n            }\n        }\n    };\n    var storeInputRef = function (input) {\n        inputEl.current = input;\n        updateAnchorEl();\n    };\n    var handleBlur = useCallback(function (event) {\n        handleFilterChange('');\n        // If we had a value before, set the filter back to its text so that\n        // Downshift displays it correctly\n        setFilterValue(input.value\n            ? inputText\n                ? inputText(getChoiceText(selectedItem).props.record)\n                : getChoiceText(selectedItem)\n            : '');\n        input.onBlur(event);\n    }, [getChoiceText, handleFilterChange, input, inputText, selectedItem]);\n    var handleFocus = useCallback(function (openMenu) { return function (event) {\n        openMenu(event);\n        input.onFocus(event);\n    }; }, [input]);\n    var shouldRenderSuggestions = function (val) {\n        if (shouldRenderSuggestionsOverride !== undefined &&\n            typeof shouldRenderSuggestionsOverride === 'function') {\n            return shouldRenderSuggestionsOverride(val);\n        }\n        return true;\n    };\n    var _p = InputProps || {}, endAdornment = _p.endAdornment, inputRef = _p.inputRef, InputPropsWithoutEndAdornment = __rest(_p, [\"endAdornment\", \"inputRef\"]);\n    var handleClickClearButton = useCallback(function (openMenu) { return function (event) {\n        event.stopPropagation();\n        setFilterValue('');\n        input.onChange('');\n        openMenu(event);\n        input.onFocus(event);\n    }; }, [input]);\n    var getEndAdornment = function (openMenu) {\n        var _a;\n        if (!resettable) {\n            if (endAdornment) {\n                return endAdornment;\n            }\n            if (loading) {\n                return React.createElement(AutocompleteInputLoader, null);\n            }\n        }\n        else if (!filterValue) {\n            var label_1 = translate('ra.action.clear_input_value');\n            if (clearAlwaysVisible) {\n                // show clear button, inactive\n                return (React.createElement(InputAdornment, { position: \"end\" },\n                    React.createElement(IconButton, { className: classes.clearButton, \"aria-label\": label_1, title: label_1, disableRipple: true, disabled: true },\n                        React.createElement(ClearIcon, { className: classNames(classes.clearIcon, classes.visibleClearIcon) })),\n                    loading && React.createElement(AutocompleteInputLoader, null)));\n            }\n            else {\n                if (endAdornment) {\n                    return endAdornment;\n                }\n                else {\n                    // show spacer\n                    return (React.createElement(InputAdornment, { position: \"end\" },\n                        React.createElement(\"span\", { className: classes.clearButton }, \"\\u00A0\"),\n                        loading && React.createElement(AutocompleteInputLoader, null)));\n                }\n            }\n        }\n        else {\n            // show clear\n            var label_2 = translate('ra.action.clear_input_value');\n            return (React.createElement(InputAdornment, { position: \"end\" },\n                React.createElement(IconButton, { className: classes.clearButton, \"aria-label\": label_2, title: label_2, disableRipple: true, onClick: handleClickClearButton(openMenu), onMouseDown: handleMouseDownClearButton, disabled: disabled },\n                    React.createElement(ClearIcon, { className: classNames(classes.clearIcon, (_a = {},\n                            _a[classes.visibleClearIcon] = clearAlwaysVisible || filterValue,\n                            _a)) })),\n                loading && React.createElement(AutocompleteInputLoader, null)));\n        }\n    };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Downshift, __assign({ inputValue: filterValue, onChange: handleChangeWithCreateSupport, selectedItem: selectedItem, itemToString: function (item) { return getChoiceValue(item); } }, rest), function (_a) {\n            var getInputProps = _a.getInputProps, getItemProps = _a.getItemProps, getLabelProps = _a.getLabelProps, getMenuProps = _a.getMenuProps, isOpen = _a.isOpen, highlightedIndex = _a.highlightedIndex, openMenu = _a.openMenu;\n            var isMenuOpen = isOpen && shouldRenderSuggestions(filterValue);\n            var _b = getInputProps(__assign({ onBlur: handleBlur, onFocus: handleFocus(openMenu) }, InputProps)), downshiftId = _b.id, // We want to ignore this to correctly link our label and the input\n            value = _b.value, onBlur = _b.onBlur, onChange = _b.onChange, onFocus = _b.onFocus, ref = _b.ref, size = _b.size, color = _b.color, inputProps = __rest(_b, [\"id\", \"value\", \"onBlur\", \"onChange\", \"onFocus\", \"ref\", \"size\", \"color\"]);\n            var suggestions = __spreadArray(__spreadArray([], getSuggestions(filterValue), true), ((onCreate || create) && shouldAllowCreate\n                ? [getCreateItem()]\n                : []), true);\n            return (React.createElement(\"div\", { className: classes.container },\n                React.createElement(TextField, __assign({ id: id, name: input.name, InputProps: __assign({ inputRef: mergeRefs([\n                            storeInputRef,\n                            inputRef,\n                        ]), endAdornment: getEndAdornment(openMenu), onBlur: onBlur, onChange: function (event) {\n                            setFilterValue(event.target.value);\n                            handleFilterChange(event);\n                            onChange(event);\n                        }, onFocus: onFocus }, InputPropsWithoutEndAdornment), error: !!(touched && (error || submitError)), label: React.createElement(FieldTitle, __assign({ label: label }, labelProps, { source: source, resource: resource, isRequired: typeof isRequiredOverride !==\n                            'undefined'\n                            ? isRequiredOverride\n                            : isRequired })), InputLabelProps: getLabelProps({\n                        htmlFor: id,\n                    }), helperText: React.createElement(InputHelperText, { touched: touched, error: error || submitError, helperText: helperText }), disabled: disabled, variant: variant, margin: margin, fullWidth: fullWidth, value: filterValue, className: className, size: size, color: color }, inputProps, options)),\n                React.createElement(AutocompleteSuggestionList, { isOpen: isMenuOpen, menuProps: getMenuProps({}, \n                    // https://github.com/downshift-js/downshift/issues/235\n                    { suppressRefError: true }), inputEl: inputEl.current, suggestionsContainerProps: suggestionsContainerProps, className: classes.suggestionsContainer }, suggestions.map(function (suggestion, index) { return (React.createElement(AutocompleteSuggestionItem, __assign({ key: getChoiceValue(suggestion), suggestion: suggestion, index: index, highlightedIndex: highlightedIndex, isSelected: input.value ===\n                        getChoiceValue(suggestion), filterValue: filterValue, getSuggestionText: getChoiceText, createValue: createValue }, getItemProps({\n                    item: suggestion,\n                })))); }))));\n        }),\n        createElement));\n};\nvar handleMouseDownClearButton = function (event) {\n    event.preventDefault();\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    container: {\n        flexGrow: 1,\n        position: 'relative',\n    },\n    clearIcon: {\n        height: 16,\n        width: 0,\n    },\n    visibleClearIcon: {\n        width: 16,\n    },\n    clearButton: {\n        height: 24,\n        width: 24,\n        padding: 0,\n    },\n    selectAdornment: {\n        position: 'absolute',\n        right: 24,\n    },\n    inputAdornedEnd: {\n        paddingRight: 0,\n    },\n    suggestionsContainer: {\n        zIndex: theme.zIndex.modal,\n    },\n}); }, { name: 'RaAutocompleteInput' });\n","// https://github.com/gregberge/react-merge-refs\nexport function mergeRefs(refs) {\n    return function (value) {\n        refs.forEach(function (ref) {\n            if (typeof ref === 'function') {\n                ref(value);\n            }\n            else if (ref != null) {\n                ref.current = value;\n            }\n        });\n    };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport { useRecordContext } from 'ra-core';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\nimport { fieldPropTypes } from './types';\n/**\n * Field using a render function\n *\n * @example\n * <FunctionField\n *     source=\"last_name\" // used for sorting\n *     label=\"Name\"\n *     render={record => record && `${record.first_name} ${record.last_name}`}\n * />\n */\nvar FunctionField = function (props) {\n    var className = props.className, _a = props.source, source = _a === void 0 ? '' : _a, render = props.render, rest = __rest(props, [\"className\", \"source\", \"render\"]);\n    var record = useRecordContext(props);\n    return useMemo(function () {\n        return record ? (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeFieldRestProps(rest)), render(record, source))) : null;\n    }, [className, record, source, render, rest]);\n};\nFunctionField.defaultProps = {\n    addLabel: true,\n};\nFunctionField.propTypes = __assign(__assign(__assign({}, Typography.propTypes), fieldPropTypes), { render: PropTypes.func.isRequired });\nexport default FunctionField;\n","import * as React from 'react';\nimport { FunctionField, FieldProps } from 'react-admin';\nimport { Order } from '../types';\n\nconst render = (record?: Order) => record && record.basket.length;\n\nconst NbItemsField = ({ record }: FieldProps<Order>) => (\n    <FunctionField<Order> record={record} render={render} />\n);\n\nNbItemsField.defaultProps = {\n    label: 'resources.commands.fields.nb_items',\n    textAlign: 'right',\n};\n\nexport default NbItemsField;\n","import * as React from 'react';\nimport { ReferenceField, ReferenceFieldProps } from 'react-admin';\n\nimport FullNameField from './FullNameField';\n\nconst CustomerReferenceField = (\n    props: Omit<ReferenceFieldProps, 'reference' | 'children' | 'source'> & {\n        source?: string;\n    }\n) => (\n    <ReferenceField source=\"customer_id\" reference=\"customers\" {...props}>\n        <FullNameField />\n    </ReferenceField>\n);\n\nCustomerReferenceField.defaultProps = {\n    source: 'customer_id',\n    addLabel: true,\n};\n\nexport default CustomerReferenceField;\n","import * as React from 'react';\nimport { FieldProps } from 'react-admin';\nimport { Customer } from '../types';\n\nconst AddressField = ({ record }: FieldProps<Customer>) =>\n    record ? (\n        <span>\n            {record.address}, {record.city}, {record.stateAbbr} {record.zipcode}\n        </span>\n    ) : null;\n\nexport default AddressField;\n","// in src/comments.js\nimport * as React from 'react';\nimport { Card, CardHeader, CardContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    DateField,\n    EditButton,\n    NumberField,\n    TextField,\n    BooleanField,\n    useTranslate,\n    RecordMap,\n    Identifier,\n    Record,\n} from 'react-admin';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\n\nconst useListStyles = makeStyles(theme => ({\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: theme.typography.body1,\n    cardContentRow: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        margin: '0.5rem 0',\n    },\n}));\n\ninterface MobileGridProps {\n    ids?: Identifier[];\n    data?: RecordMap<Record>;\n    basePath?: string;\n}\n\nconst MobileGrid = (props: MobileGridProps) => {\n    const { ids, data, basePath } = props;\n    const translate = useTranslate();\n    const classes = useListStyles();\n\n    if (!ids || !data || !basePath) {\n        return null;\n    }\n\n    return (\n        <div style={{ margin: '1em' }}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <span>\n                                    {translate('resources.commands.name', 1)}\n                                    :&nbsp;\n                                    <TextField\n                                        record={data[id]}\n                                        source=\"reference\"\n                                    />\n                                </span>\n                                <EditButton\n                                    resource=\"commands\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.customers.name', 1)}:&nbsp;\n                            <CustomerReferenceField\n                                record={data[id]}\n                                basePath={basePath}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.reviews.fields.date')}:&nbsp;\n                            <DateField\n                                record={data[id]}\n                                source=\"date\"\n                                showTime\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                            :&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"total\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.status')}\n                            :&nbsp;\n                            <TextField source=\"status\" record={data[id]} />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.returned')}\n                            :&nbsp;\n                            <BooleanField record={data[id]} source=\"returned\" />\n                        </span>\n                    </CardContent>\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import * as React from 'react';\nimport { Fragment, useCallback, useEffect, useState } from 'react';\nimport {\n    AutocompleteInput,\n    BooleanField,\n    Datagrid,\n    DatagridProps,\n    DateField,\n    DateInput,\n    Identifier,\n    List,\n    ListContextProvider,\n    ListProps,\n    NullableBooleanInput,\n    NumberField,\n    ReferenceInput,\n    ReferenceField,\n    SearchInput,\n    TextField,\n    TextInput,\n    useGetList,\n    useListContext,\n} from 'react-admin';\nimport { useMediaQuery, Divider, Tabs, Tab, Theme } from '@material-ui/core';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport NbItemsField from './NbItemsField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport AddressField from '../visitors/AddressField';\nimport MobileGrid from './MobileGrid';\nimport { Customer } from '../types';\n\nconst orderFilters = [\n    <SearchInput source=\"q\" alwaysOn />,\n    <ReferenceInput source=\"customer_id\" reference=\"customers\">\n        <AutocompleteInput\n            optionText={(choice: Customer) =>\n                choice.id // the empty choice is { id: '' }\n                    ? `${choice.first_name} ${choice.last_name}`\n                    : ''\n            }\n        />\n    </ReferenceInput>,\n    <DateInput source=\"date_gte\" />,\n    <DateInput source=\"date_lte\" />,\n    <TextInput source=\"total_gte\" />,\n    <NullableBooleanInput source=\"returned\" />,\n];\n\nconst useDatagridStyles = makeStyles({\n    total: { fontWeight: 'bold' },\n});\n\nconst tabs = [\n    { id: 'ordered', name: 'ordered' },\n    { id: 'delivered', name: 'delivered' },\n    { id: 'cancelled', name: 'cancelled' },\n];\n\ninterface TabbedDatagridProps extends DatagridProps {}\n\nconst useGetTotals = (filterValues: any) => {\n    const { total: totalOrdered } = useGetList(\n        'commands',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'ordered' }\n    );\n    const { total: totalDelivered } = useGetList(\n        'commands',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'delivered' }\n    );\n    const { total: totalCancelled } = useGetList(\n        'commands',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'cancelled' }\n    );\n\n    return {\n        ordered: totalOrdered,\n        delivered: totalDelivered,\n        cancelled: totalCancelled,\n    };\n};\n\nconst TabbedDatagrid = (props: TabbedDatagridProps) => {\n    const listContext = useListContext();\n    const { ids, filterValues, setFilters, displayedFilters } = listContext;\n    const classes = useDatagridStyles();\n    const isXSmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const [ordered, setOrdered] = useState<Identifier[]>([] as Identifier[]);\n    const [delivered, setDelivered] = useState<Identifier[]>(\n        [] as Identifier[]\n    );\n    const [cancelled, setCancelled] = useState<Identifier[]>(\n        [] as Identifier[]\n    );\n    const totals = useGetTotals(filterValues) as any;\n\n    useEffect(() => {\n        if (ids && ids !== filterValues.status) {\n            switch (filterValues.status) {\n                case 'ordered':\n                    setOrdered(ids);\n                    break;\n                case 'delivered':\n                    setDelivered(ids);\n                    break;\n                case 'cancelled':\n                    setCancelled(ids);\n                    break;\n            }\n        }\n    }, [ids, filterValues.status]);\n\n    const handleChange = useCallback(\n        (event: React.ChangeEvent<{}>, value: any) => {\n            setFilters &&\n                setFilters(\n                    { ...filterValues, status: value },\n                    displayedFilters\n                );\n        },\n        [displayedFilters, filterValues, setFilters]\n    );\n\n    const selectedIds =\n        filterValues.status === 'ordered'\n            ? ordered\n            : filterValues.status === 'delivered'\n            ? delivered\n            : cancelled;\n\n    return (\n        <Fragment>\n            <Tabs\n                variant=\"fullWidth\"\n                centered\n                value={filterValues.status}\n                indicatorColor=\"primary\"\n                onChange={handleChange}\n            >\n                {tabs.map(choice => (\n                    <Tab\n                        key={choice.id}\n                        label={\n                            totals[choice.name]\n                                ? `${choice.name} (${totals[choice.name]})`\n                                : choice.name\n                        }\n                        value={choice.id}\n                    />\n                ))}\n            </Tabs>\n            <Divider />\n            {isXSmall ? (\n                <ListContextProvider\n                    value={{ ...listContext, ids: selectedIds }}\n                >\n                    <MobileGrid {...props} ids={selectedIds} />\n                </ListContextProvider>\n            ) : (\n                <div>\n                    {filterValues.status === 'ordered' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: ordered }}\n                        >\n                            <Datagrid {...props} optimized rowClick=\"edit\">\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <ReferenceField\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    link={false}\n                                    label=\"resources.commands.fields.address\"\n                                >\n                                    <AddressField />\n                                </ReferenceField>\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                    {filterValues.status === 'delivered' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: delivered }}\n                        >\n                            <Datagrid {...props} rowClick=\"edit\">\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <ReferenceField\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    link={false}\n                                    label=\"resources.commands.fields.address\"\n                                >\n                                    <AddressField />\n                                </ReferenceField>\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                                <BooleanField source=\"returned\" />\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                    {filterValues.status === 'cancelled' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: cancelled }}\n                        >\n                            <Datagrid {...props} rowClick=\"edit\">\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <ReferenceField\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    link={false}\n                                    label=\"resources.commands.fields.address\"\n                                >\n                                    <AddressField />\n                                </ReferenceField>\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                                <BooleanField source=\"returned\" />\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                </div>\n            )}\n        </Fragment>\n    );\n};\n\nconst OrderList = (props: ListProps) => (\n    <List\n        {...props}\n        filterDefaultValues={{ status: 'ordered' }}\n        sort={{ field: 'date', order: 'DESC' }}\n        perPage={25}\n        filters={orderFilters}\n    >\n        <TabbedDatagrid />\n    </List>\n);\n\nexport default OrderList;\n","import PropTypes from 'prop-types';\n/**\n * Common PropTypes for all react-admin inputs\n */\nvar InputPropTypes = {\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    resource: PropTypes.string,\n    source: PropTypes.string,\n};\nexport default InputPropTypes;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Switch from '@material-ui/core/Switch';\nimport { FieldTitle, useInput } from 'ra-core';\nimport sanitizeInputRestProps from './sanitizeInputRestProps';\nimport InputHelperText from './InputHelperText';\nimport InputPropTypes from './InputPropTypes';\nvar BooleanInput = function (props) {\n    var format = props.format, label = props.label, fullWidth = props.fullWidth, helperText = props.helperText, onBlur = props.onBlur, onChange = props.onChange, onFocus = props.onFocus, options = props.options, disabled = props.disabled, parse = props.parse, resource = props.resource, source = props.source, validate = props.validate, rest = __rest(props, [\"format\", \"label\", \"fullWidth\", \"helperText\", \"onBlur\", \"onChange\", \"onFocus\", \"options\", \"disabled\", \"parse\", \"resource\", \"source\", \"validate\"]);\n    var _a = useInput(__assign({ format: format, onBlur: onBlur, onChange: onChange, onFocus: onFocus, parse: parse, resource: resource, source: source, type: 'checkbox', validate: validate }, rest)), id = _a.id, _b = _a.input, finalFormOnChange = _b.onChange, type = _b.type, value = _b.value, inputProps = __rest(_b, [\"onChange\", \"type\", \"value\"]), isRequired = _a.isRequired, _c = _a.meta, error = _c.error, submitError = _c.submitError, touched = _c.touched;\n    var handleChange = useCallback(function (event, value) {\n        finalFormOnChange(value);\n    }, [finalFormOnChange]);\n    return (React.createElement(FormGroup, __assign({}, sanitizeInputRestProps(rest)),\n        React.createElement(FormControlLabel, { control: React.createElement(Switch, __assign({ id: id, color: \"primary\", onChange: handleChange }, inputProps, options, { disabled: disabled })), label: React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired }) }),\n        React.createElement(FormHelperText, { error: !!(error || submitError) },\n            React.createElement(InputHelperText, { touched: touched, error: error || submitError, helperText: helperText }))));\n};\nBooleanInput.propTypes = __assign(__assign({}, InputPropTypes), { \n    // @ts-ignore\n    options: PropTypes.shape(Switch.propTypes), disabled: PropTypes.bool });\nBooleanInput.defaultProps = {\n    options: {},\n};\nexport default BooleanInput;\n","import * as React from 'react';\nimport {\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link, FieldProps, useTranslate, useQueryWithStore } from 'react-admin';\n\nimport { AppState, Order, Product } from '../types';\n\nconst useStyles = makeStyles({\n    rightAlignedCell: { textAlign: 'right' },\n});\n\nconst Basket = (props: FieldProps<Order>) => {\n    const { record } = props;\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    const { loaded, data: products } = useQueryWithStore<AppState>(\n        {\n            type: 'getMany',\n            resource: 'products',\n            payload: {\n                ids: record ? record.basket.map(item => item.product_id) : [],\n            },\n        },\n        {},\n        state => {\n            const productIds = record\n                ? record.basket.map(item => item.product_id)\n                : [];\n\n            return productIds\n                .map<Product>(\n                    productId =>\n                        state.admin.resources.products.data[\n                            productId\n                        ] as Product\n                )\n                .filter(r => typeof r !== 'undefined')\n                .reduce((prev, next) => {\n                    prev[next.id] = next;\n                    return prev;\n                }, {} as { [key: string]: Product });\n        }\n    );\n\n    if (!loaded || !record) return null;\n\n    return (\n        <Table>\n            <TableHead>\n                <TableRow>\n                    <TableCell>\n                        {translate(\n                            'resources.commands.fields.basket.reference'\n                        )}\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {translate(\n                            'resources.commands.fields.basket.unit_price'\n                        )}\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {translate('resources.commands.fields.basket.quantity')}\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {translate('resources.commands.fields.basket.total')}\n                    </TableCell>\n                </TableRow>\n            </TableHead>\n            <TableBody>\n                {record.basket.map(\n                    (item: any) =>\n                        products[item.product_id] && (\n                            <TableRow key={item.product_id}>\n                                <TableCell>\n                                    <Link to={`/products/${item.product_id}`}>\n                                        {products[item.product_id].reference}\n                                    </Link>\n                                </TableCell>\n                                <TableCell className={classes.rightAlignedCell}>\n                                    {products[\n                                        item.product_id\n                                    ].price.toLocaleString(undefined, {\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    })}\n                                </TableCell>\n                                <TableCell className={classes.rightAlignedCell}>\n                                    {item.quantity}\n                                </TableCell>\n                                <TableCell className={classes.rightAlignedCell}>\n                                    {(\n                                        products[item.product_id].price *\n                                        item.quantity\n                                    ).toLocaleString(undefined, {\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    })}\n                                </TableCell>\n                            </TableRow>\n                        )\n                )}\n            </TableBody>\n        </Table>\n    );\n};\n\nexport default Basket;\n","import * as React from 'react';\nimport classnames from 'classnames';\nimport { Table, TableBody, TableCell, TableRow } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps, useTranslate } from 'react-admin';\n\nimport { Order } from '../types';\n\nconst useStyles = makeStyles({\n    container: { minWidth: '35em' },\n    rightAlignedCell: { textAlign: 'right' },\n    boldCell: { fontWeight: 'bold' },\n});\n\nconst Totals = (props: FieldProps<Order>) => {\n    const { record } = props;\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    return (\n        <Table className={classes.container}>\n            <TableBody>\n                <TableRow>\n                    <TableCell>\n                        {translate('resources.commands.fields.basket.sum')}\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {record?.total_ex_taxes.toLocaleString(undefined, {\n                            style: 'currency',\n                            currency: 'USD',\n                        })}\n                    </TableCell>\n                </TableRow>\n                <TableRow>\n                    <TableCell>\n                        {translate('resources.commands.fields.basket.delivery')}\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {record?.delivery_fees.toLocaleString(undefined, {\n                            style: 'currency',\n                            currency: 'USD',\n                        })}\n                    </TableCell>\n                </TableRow>\n                <TableRow>\n                    <TableCell>\n                        {translate('resources.commands.fields.basket.taxes')} (\n                        {record?.tax_rate.toLocaleString(undefined, {\n                            style: 'percent',\n                        })}\n                        )\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {record?.taxes.toLocaleString(undefined, {\n                            style: 'currency',\n                            currency: 'USD',\n                        })}\n                    </TableCell>\n                </TableRow>\n                <TableRow>\n                    <TableCell className={classes.boldCell}>\n                        {translate('resources.commands.fields.basket.total')}\n                    </TableCell>\n                    <TableCell\n                        className={classnames(\n                            classes.boldCell,\n                            classes.rightAlignedCell\n                        )}\n                    >\n                        {record?.total.toLocaleString(undefined, {\n                            style: 'currency',\n                            currency: 'USD',\n                        })}\n                    </TableCell>\n                </TableRow>\n            </TableBody>\n        </Table>\n    );\n};\n\nexport default Totals;\n","import * as React from 'react';\nimport {\n    BooleanInput,\n    DateField,\n    Edit,\n    EditProps,\n    FormWithRedirect,\n    Labeled,\n    ReferenceField,\n    SelectInput,\n    TextField,\n    Toolbar,\n    useTranslate,\n} from 'react-admin';\nimport { Link as RouterLink } from 'react-router-dom';\nimport {\n    Card,\n    CardContent,\n    Box,\n    Grid,\n    Typography,\n    Link,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { Order, Customer } from '../types';\nimport Basket from './Basket';\nimport Totals from './Totals';\n\ninterface OrderTitleProps {\n    record?: Order;\n}\n\nconst OrderTitle = ({ record }: OrderTitleProps) => {\n    const translate = useTranslate();\n    return record ? (\n        <span>\n            {translate('resources.commands.title', {\n                reference: record.reference,\n            })}\n        </span>\n    ) : null;\n};\n\nconst CustomerDetails = ({ record }: { record?: Customer }) => (\n    <Box display=\"flex\" flexDirection=\"column\">\n        <Typography\n            component={RouterLink}\n            color=\"primary\"\n            to={`/customers/${record?.id}`}\n            style={{ textDecoration: 'none' }}\n        >\n            {record?.first_name} {record?.last_name}\n        </Typography>\n        <Typography\n            component={Link}\n            color=\"primary\"\n            href={`mailto:${record?.email}`}\n            style={{ textDecoration: 'none' }}\n        >\n            {record?.email}\n        </Typography>\n    </Box>\n);\n\nconst CustomerAddress = ({ record }: { record?: Customer }) => (\n    <Box>\n        <Typography>\n            {record?.first_name} {record?.last_name}\n        </Typography>\n        <Typography>{record?.address}</Typography>\n        <Typography>\n            {record?.city}, {record?.stateAbbr} {record?.zipcode}\n        </Typography>\n    </Box>\n);\n\nconst useEditStyles = makeStyles({\n    root: { alignItems: 'flex-start' },\n});\n\nconst Spacer = () => <Box m={1}>&nbsp;</Box>;\n\nconst OrderForm = (props: any) => {\n    const translate = useTranslate();\n    return (\n        <FormWithRedirect\n            {...props}\n            render={(formProps: any) => (\n                <Box maxWidth=\"50em\">\n                    <Card>\n                        <CardContent>\n                            <Grid container spacing={1}>\n                                <Grid item xs={12} sm={12} md={8}>\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.commands.section.order'\n                                        )}\n                                    </Typography>\n                                    <Grid container>\n                                        <Grid item xs={12} sm={12} md={6}>\n                                            <Labeled\n                                                source=\"date\"\n                                                resource=\"commands\"\n                                            >\n                                                <DateField\n                                                    source=\"date\"\n                                                    resource=\"commands\"\n                                                    record={formProps.record}\n                                                />\n                                            </Labeled>\n                                        </Grid>\n                                        <Grid item xs={12} sm={12} md={6}>\n                                            <Labeled\n                                                source=\"reference\"\n                                                resource=\"commands\"\n                                            >\n                                                <TextField\n                                                    source=\"reference\"\n                                                    resource=\"commands\"\n                                                    record={formProps.record}\n                                                />\n                                            </Labeled>\n                                        </Grid>\n                                    </Grid>\n                                    <Grid container>\n                                        <Grid item xs={12} sm={12} md={6}>\n                                            <SelectInput\n                                                resource=\"commands\"\n                                                source=\"status\"\n                                                choices={[\n                                                    {\n                                                        id: 'delivered',\n                                                        name: 'delivered',\n                                                    },\n                                                    {\n                                                        id: 'ordered',\n                                                        name: 'ordered',\n                                                    },\n                                                    {\n                                                        id: 'cancelled',\n                                                        name: 'cancelled',\n                                                    },\n                                                    {\n                                                        id: 'unknown',\n                                                        name: 'unknown',\n                                                        disabled: true,\n                                                    },\n                                                ]}\n                                            />\n                                        </Grid>\n                                        <Grid item xs={12} sm={12} md={6}>\n                                            <Box mt={2}>\n                                                <BooleanInput\n                                                    row={true}\n                                                    resource=\"commands\"\n                                                    source=\"returned\"\n                                                />\n                                            </Box>\n                                        </Grid>\n                                    </Grid>\n                                </Grid>\n                                <Grid item xs={12} sm={12} md={4}>\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.commands.section.customer'\n                                        )}\n                                    </Typography>\n                                    <ReferenceField\n                                        source=\"customer_id\"\n                                        resource=\"commands\"\n                                        reference=\"customers\"\n                                        basePath=\"/customers\"\n                                        record={formProps.record}\n                                        link={false}\n                                    >\n                                        <CustomerDetails />\n                                    </ReferenceField>\n                                    <Spacer />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.commands.section.shipping_address'\n                                        )}\n                                    </Typography>\n                                    <ReferenceField\n                                        source=\"customer_id\"\n                                        resource=\"commands\"\n                                        reference=\"customers\"\n                                        basePath=\"/customers\"\n                                        record={formProps.record}\n                                        link={false}\n                                    >\n                                        <CustomerAddress />\n                                    </ReferenceField>\n                                </Grid>\n                            </Grid>\n                            <Spacer />\n\n                            <Typography variant=\"h6\" gutterBottom>\n                                {translate('resources.commands.section.items')}\n                            </Typography>\n                            <Box>\n                                <Basket record={formProps.record} />\n                            </Box>\n                            <Spacer />\n\n                            <Typography variant=\"h6\" gutterBottom>\n                                {translate('resources.commands.section.total')}\n                            </Typography>\n                            <Box>\n                                <Totals record={formProps.record} />\n                            </Box>\n                        </CardContent>\n                        <Toolbar\n                            record={formProps.record}\n                            basePath={formProps.basePath}\n                            undoable={true}\n                            invalid={formProps.invalid}\n                            handleSubmit={formProps.handleSubmit}\n                            saving={formProps.saving}\n                            resource=\"commands\"\n                        />\n                    </Card>\n                </Box>\n            )}\n        />\n    );\n};\nconst OrderEdit = (props: EditProps) => {\n    const classes = useEditStyles();\n    return (\n        <Edit\n            title={<OrderTitle />}\n            classes={classes}\n            {...props}\n            component=\"div\"\n        >\n            <OrderForm />\n        </Edit>\n    );\n};\n\nexport default OrderEdit;\n","import OrderIcon from '@material-ui/icons/AttachMoney';\n\nimport OrderList from './OrderList';\nimport OrderEdit from './OrderEdit';\n\nexport default {\n    list: OrderList,\n    edit: OrderEdit,\n    icon: OrderIcon,\n};\n","import { UPDATE_MANY } from '../../core';\nexport var crudUpdateMany = function (resource, ids, data, basePath, refresh) {\n    if (refresh === void 0) { refresh = true; }\n    return ({\n        type: CRUD_UPDATE_MANY,\n        payload: { ids: ids, data: data },\n        meta: {\n            resource: resource,\n            fetch: UPDATE_MANY,\n            onSuccess: {\n                notification: {\n                    body: 'ra.notification.updated',\n                    level: 'info',\n                    messageArgs: {\n                        smart_count: ids.length,\n                    },\n                },\n                basePath: basePath,\n                refresh: refresh,\n                unselectAll: true,\n            },\n            onFailure: {\n                notification: {\n                    body: 'ra.notification.http_error',\n                    level: 'warning',\n                },\n            },\n        },\n    });\n};\nexport var CRUD_UPDATE_MANY = 'RA/CRUD_UPDATE_MANY';\nexport var CRUD_UPDATE_MANY_LOADING = 'RA/CRUD_UPDATE_MANY_LOADING';\nexport var CRUD_UPDATE_MANY_FAILURE = 'RA/CRUD_UPDATE_MANY_FAILURE';\nexport var CRUD_UPDATE_MANY_SUCCESS = 'RA/CRUD_UPDATE_MANY_SUCCESS';\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\n\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRefresh,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n    BulkActionProps,\n    Identifier,\n} from 'react-admin';\n\nconst noSelection: Identifier[] = [];\n\nconst BulkAcceptButton = (props: BulkActionProps) => {\n    const { selectedIds = noSelection } = props;\n    const notify = useNotify();\n    const refresh = useRefresh();\n    const unselectAll = useUnselectAll('reviews');\n\n    const [approve, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'accepted' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                refresh();\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.accept\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp />\n        </Button>\n    );\n};\n\nBulkAcceptButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkAcceptButton;\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbDown from '@material-ui/icons/ThumbDown';\n\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRefresh,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n    BulkActionProps,\n    Identifier,\n} from 'react-admin';\n\nconst noSelection: Identifier[] = [];\n\nconst BulkRejectButton = (props: BulkActionProps) => {\n    const { selectedIds = noSelection } = props;\n    const notify = useNotify();\n    const refresh = useRefresh();\n    const unselectAll = useUnselectAll('reviews');\n\n    const [reject, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'rejected' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                refresh();\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.reject\"\n            onClick={reject}\n            disabled={loading}\n        >\n            <ThumbDown />\n        </Button>\n    );\n};\n\nBulkRejectButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkRejectButton;\n","import * as React from 'react';\nimport { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport {\n    linkToRecord,\n    ReferenceField,\n    FunctionField,\n    TextField,\n    useListContext,\n    Record,\n} from 'react-admin';\n\nimport AvatarField from '../visitors/AvatarField';\nimport { Review, Customer } from './../types';\n\nconst useStyles = makeStyles({\n    root: {\n        width: '100vw',\n    },\n    link: {\n        textDecoration: 'none',\n        color: 'inherit',\n    },\n    inline: {\n        display: 'inline',\n    },\n});\n\nconst ReviewListMobile = () => {\n    const classes = useStyles();\n    const { basePath, data, ids, loaded, total } = useListContext<Review>();\n\n    return loaded || Number(total) > 0 ? (\n        <List className={classes.root}>\n            {(ids as Exclude<typeof ids, undefined>).map(id => {\n                const item = (data as Exclude<typeof data, undefined>)[id];\n                if (!item) return null;\n\n                return (\n                    <Link\n                        to={linkToRecord(basePath, id)}\n                        className={classes.link}\n                        key={id}\n                    >\n                        <ListItem button>\n                            <ListItemAvatar>\n                                <ReferenceField\n                                    record={item}\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    basePath={basePath}\n                                    link={false}\n                                >\n                                    <AvatarField size=\"40\" />\n                                </ReferenceField>\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={\n                                    <Fragment>\n                                        <ReferenceField\n                                            record={item}\n                                            source=\"customer_id\"\n                                            reference=\"customers\"\n                                            basePath={basePath}\n                                            link={false}\n                                        >\n                                            <FunctionField\n                                                render={(record?: Record) =>\n                                                    record\n                                                        ? `${\n                                                              (record as Customer)\n                                                                  .first_name\n                                                          } ${\n                                                              (record as Customer)\n                                                                  .last_name\n                                                          }`\n                                                        : ''\n                                                }\n                                                variant=\"subtitle1\"\n                                                className={classes.inline}\n                                            />\n                                        </ReferenceField>{' '}\n                                        on{' '}\n                                        <ReferenceField\n                                            record={item}\n                                            source=\"product_id\"\n                                            reference=\"products\"\n                                            basePath={basePath}\n                                            link={false}\n                                        >\n                                            <TextField\n                                                source=\"reference\"\n                                                variant=\"subtitle1\"\n                                                className={classes.inline}\n                                            />\n                                        </ReferenceField>\n                                    </Fragment>\n                                }\n                                secondary={item.comment}\n                                secondaryTypographyProps={{ noWrap: true }}\n                            />\n                        </ListItem>\n                    </Link>\n                );\n            })}\n        </List>\n    ) : null;\n};\n\nReviewListMobile.propTypes = {\n    basePath: PropTypes.string,\n    data: PropTypes.any,\n    hasBulkActions: PropTypes.bool.isRequired,\n    ids: PropTypes.array,\n    onToggleItem: PropTypes.func,\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nReviewListMobile.defaultProps = {\n    hasBulkActions: false,\n    selectedIds: [],\n};\n\nexport default ReviewListMobile;\n","import * as React from 'react';\nimport { ReferenceField, ReferenceFieldProps, TextField } from 'react-admin';\n\ninterface Props {\n    source?: string;\n}\n\nconst ProductReferenceField = (\n    props: Props &\n        Omit<Omit<ReferenceFieldProps, 'source'>, 'reference' | 'children'>\n) => (\n    <ReferenceField\n        label=\"Product\"\n        source=\"product_id\"\n        reference=\"products\"\n        {...props}\n    >\n        <TextField source=\"reference\" />\n    </ReferenceField>\n);\n\nProductReferenceField.defaultProps = {\n    source: 'product_id',\n    addLabel: true,\n};\n\nexport default ProductReferenceField;\n","import * as React from 'react';\nimport Icon from '@material-ui/icons/Stars';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { FieldProps } from 'react-admin';\n\nconst useStyles = makeStyles({\n    root: {\n        opacity: 0.87,\n        whiteSpace: 'nowrap',\n        display: 'flex',\n    },\n    large: {\n        width: 20,\n        height: 20,\n    },\n    small: {\n        width: 15,\n        height: 15,\n    },\n});\n\ninterface OwnProps {\n    size?: 'large' | 'small';\n}\n\nconst StarRatingField = ({ record, size = 'large' }: FieldProps & OwnProps) => {\n    const classes = useStyles();\n    return record ? (\n        <span className={classes.root}>\n            {Array(record.rating)\n                .fill(true)\n                .map((_, i) => (\n                    <Icon\n                        key={i}\n                        className={\n                            size === 'large' ? classes.large : classes.small\n                        }\n                    />\n                ))}\n        </span>\n    ) : null;\n};\n\nStarRatingField.defaultProps = {\n    label: 'resources.reviews.fields.rating',\n    source: 'rating',\n    addLabel: true,\n};\n\nexport default StarRatingField;\n","import green from '@material-ui/core/colors/green';\nimport orange from '@material-ui/core/colors/orange';\nimport red from '@material-ui/core/colors/red';\nimport { useTheme } from '@material-ui/core/styles';\nimport { Identifier } from 'react-admin';\n\nimport { Review } from './../types';\n\nconst rowStyle = (selectedRow?: Identifier) => (record: Review) => {\n    const theme = useTheme();\n    let style = {};\n    if (!record) {\n        return style;\n    }\n    if (selectedRow && selectedRow === record.id) {\n        style = {\n            ...style,\n            backgroundColor: theme.palette.action.selected,\n        };\n    }\n    if (record.status === 'accepted')\n        return {\n            ...style,\n            borderLeftColor: green[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    if (record.status === 'pending')\n        return {\n            ...style,\n            borderLeftColor: orange[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    if (record.status === 'rejected')\n        return {\n            ...style,\n            borderLeftColor: red[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    return style;\n};\n\nexport default rowStyle;\n","import * as React from 'react';\nimport {\n    Identifier,\n    Datagrid,\n    DateField,\n    TextField,\n    DatagridProps,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\nimport rowStyle from './rowStyle';\n\nconst useListStyles = makeStyles({\n    headerRow: {\n        borderLeftColor: 'transparent',\n        borderLeftWidth: 5,\n        borderLeftStyle: 'solid',\n    },\n    headerCell: {\n        padding: '6px 8px 6px 8px',\n    },\n    rowCell: {\n        padding: '6px 8px 6px 8px',\n    },\n    comment: {\n        maxWidth: '18em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n});\n\nexport interface ReviewListDesktopProps extends DatagridProps {\n    selectedRow?: Identifier;\n}\n\nconst ReviewListDesktop = ({\n    selectedRow,\n    ...props\n}: ReviewListDesktopProps) => {\n    const classes = useListStyles();\n    return (\n        <Datagrid\n            rowClick=\"edit\"\n            // @ts-ignore\n            rowStyle={rowStyle(selectedRow)}\n            classes={{\n                headerRow: classes.headerRow,\n                headerCell: classes.headerCell,\n                rowCell: classes.rowCell,\n            }}\n            optimized\n            {...props}\n        >\n            <DateField source=\"date\" />\n            <CustomerReferenceField link={false} />\n            <ProductReferenceField link={false} />\n            <StarRatingField size=\"small\" />\n            <TextField source=\"comment\" cellClassName={classes.comment} />\n            <TextField source=\"status\" />\n        </Datagrid>\n    );\n};\n\nexport default ReviewListDesktop;\n","import * as React from 'react';\nimport {\n    AutocompleteInput,\n    DateInput,\n    ReferenceInput,\n    SearchInput,\n    SelectInput,\n} from 'react-admin';\nimport { Customer } from '../types';\n\nconst reviewFilters = [\n    <SearchInput source=\"q\" alwaysOn />,\n    <SelectInput\n        source=\"status\"\n        choices={[\n            { id: 'accepted', name: 'Accepted' },\n            { id: 'pending', name: 'Pending' },\n            { id: 'rejected', name: 'Rejected' },\n        ]}\n    />,\n    <ReferenceInput source=\"customer_id\" reference=\"customers\">\n        <AutocompleteInput\n            optionText={(choice?: Customer) =>\n                choice?.id // the empty choice is { id: '' }\n                    ? `${choice.first_name} ${choice.last_name}`\n                    : ''\n            }\n        />\n    </ReferenceInput>,\n    <ReferenceInput source=\"product_id\" reference=\"products\">\n        <AutocompleteInput optionText=\"reference\" />\n    </ReferenceInput>,\n    <DateInput source=\"date_gte\" />,\n    <DateInput source=\"date_lte\" />,\n];\n\nexport default reviewFilters;\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\nimport { useTranslate, useUpdate, useNotify, useRedirect } from 'react-admin';\nimport { Review } from './../types';\n\n/**\n * This custom button demonstrate using useUpdate to update data\n */\nconst AcceptButton = ({ record }: { record: Review }) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n\n    const [approve, { loading }] = useUpdate(\n        'reviews',\n        record.id,\n        { status: 'accepted' },\n        record,\n        {\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp\n                color=\"primary\"\n                style={{ paddingRight: '0.5em', color: 'green' }}\n            />\n            {translate('resources.reviews.action.accept')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nAcceptButton.propTypes = {\n    record: PropTypes.any,\n};\n\nexport default AcceptButton;\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport ThumbDown from '@material-ui/icons/ThumbDown';\nimport { useTranslate, useUpdate, useNotify, useRedirect } from 'react-admin';\nimport { Review } from '../types';\n\n/**\n * This custom button demonstrate using a custom action to update data\n */\nconst RejectButton = ({ record }: { record: Review }) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n\n    const [reject, { loading }] = useUpdate(\n        'reviews',\n        record.id,\n        { status: 'rejected' },\n        record,\n        {\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.rejected_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.rejected_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={reject}\n            disabled={loading}\n        >\n            <ThumbDown\n                color=\"primary\"\n                style={{ paddingRight: '0.5em', color: 'red' }}\n            />\n            {translate('resources.reviews.action.reject')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nRejectButton.propTypes = {\n    record: PropTypes.any,\n};\n\nexport default RejectButton;\n","import * as React from 'react';\nimport { Fragment } from 'react';\nimport MuiToolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { SaveButton, DeleteButton, ToolbarProps } from 'react-admin';\nimport AcceptButton from './AcceptButton';\nimport RejectButton from './RejectButton';\nimport { Review } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: theme.palette.background.paper,\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n}));\n\nconst ReviewEditToolbar = (props: ToolbarProps<Review>) => {\n    const {\n        basePath,\n        handleSubmitWithRedirect,\n        invalid,\n        record,\n        resource,\n        saving,\n    } = props;\n    const classes = useStyles();\n\n    if (!record) return null;\n    return (\n        <MuiToolbar className={classes.root}>\n            {record.status === 'pending' ? (\n                <Fragment>\n                    <AcceptButton record={record} />\n                    <RejectButton record={record} />\n                </Fragment>\n            ) : (\n                <Fragment>\n                    <SaveButton\n                        handleSubmitWithRedirect={handleSubmitWithRedirect}\n                        invalid={invalid}\n                        saving={saving}\n                        redirect=\"list\"\n                        submitOnEnter={true}\n                    />\n                    <DeleteButton\n                        basePath={basePath}\n                        record={record}\n                        resource={resource}\n                    />\n                </Fragment>\n            )}\n        </MuiToolbar>\n    );\n};\n\nexport default ReviewEditToolbar;\n","import * as React from 'react';\nimport {\n    useEditController,\n    EditContextProvider,\n    useTranslate,\n    TextInput,\n    SimpleForm,\n    DateField,\n    EditProps,\n} from 'react-admin';\nimport { IconButton, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\nimport ReviewEditToolbar from './ReviewEditToolbar';\nimport { Review } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        paddingTop: 40,\n    },\n    title: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        margin: '1em',\n    },\n    form: {\n        [theme.breakpoints.up('xs')]: {\n            width: 400,\n        },\n        [theme.breakpoints.down('xs')]: {\n            width: '100vw',\n            marginTop: -30,\n        },\n    },\n    inlineField: {\n        display: 'inline-block',\n        width: '50%',\n    },\n}));\n\ninterface Props extends EditProps {\n    onCancel: () => void;\n}\n\nconst ReviewEdit = ({ onCancel, ...props }: Props) => {\n    const classes = useStyles();\n    const controllerProps = useEditController<Review>(props);\n    const translate = useTranslate();\n    if (!controllerProps.record) {\n        return null;\n    }\n    return (\n        <div className={classes.root}>\n            <div className={classes.title}>\n                <Typography variant=\"h6\">\n                    {translate('resources.reviews.detail')}\n                </Typography>\n                <IconButton onClick={onCancel}>\n                    <CloseIcon />\n                </IconButton>\n            </div>\n            <EditContextProvider value={controllerProps}>\n                <SimpleForm\n                    className={classes.form}\n                    basePath={controllerProps.basePath}\n                    record={controllerProps.record}\n                    save={controllerProps.save}\n                    version={controllerProps.version}\n                    redirect=\"list\"\n                    resource=\"reviews\"\n                    toolbar={<ReviewEditToolbar />}\n                >\n                    <CustomerReferenceField\n                        formClassName={classes.inlineField}\n                    />\n                    <ProductReferenceField\n                        formClassName={classes.inlineField}\n                    />\n                    <DateField\n                        source=\"date\"\n                        formClassName={classes.inlineField}\n                    />\n                    <StarRatingField formClassName={classes.inlineField} />\n                    <TextInput\n                        source=\"comment\"\n                        rowsMax={15}\n                        multiline\n                        fullWidth\n                    />\n                </SimpleForm>\n            </EditContextProvider>\n        </div>\n    );\n};\n\nexport default ReviewEdit;\n","import * as React from 'react';\nimport { Fragment, useCallback } from 'react';\nimport classnames from 'classnames';\nimport {\n    BulkDeleteButton,\n    List,\n    ListProps,\n    BulkActionProps,\n} from 'react-admin';\nimport { Route, RouteChildrenProps, useHistory } from 'react-router-dom';\nimport { Drawer, useMediaQuery, Theme } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport BulkAcceptButton from './BulkAcceptButton';\nimport BulkRejectButton from './BulkRejectButton';\nimport ReviewListMobile from './ReviewListMobile';\nimport ReviewListDesktop from './ReviewListDesktop';\nimport reviewFilters from './reviewFilters';\nimport ReviewEdit from './ReviewEdit';\n\nconst ReviewsBulkActionButtons = (props: BulkActionProps) => (\n    <Fragment>\n        <BulkAcceptButton {...props} />\n        <BulkRejectButton {...props} />\n        <BulkDeleteButton {...props} />\n    </Fragment>\n);\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n    },\n    list: {\n        flexGrow: 1,\n        transition: theme.transitions.create(['all'], {\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n        marginRight: 0,\n    },\n    listWithDrawer: {\n        marginRight: 400,\n    },\n    drawerPaper: {\n        zIndex: 100,\n    },\n}));\n\nconst ReviewList = (props: ListProps) => {\n    const classes = useStyles();\n    const isXSmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const history = useHistory();\n\n    const handleClose = useCallback(() => {\n        history.push('/reviews');\n    }, [history]);\n\n    return (\n        <div className={classes.root}>\n            <Route path=\"/reviews/:id\">\n                {({ match }: RouteChildrenProps<{ id: string }>) => {\n                    const isMatch = !!(\n                        match &&\n                        match.params &&\n                        match.params.id !== 'create'\n                    );\n\n                    return (\n                        <Fragment>\n                            <List\n                                {...props}\n                                className={classnames(classes.list, {\n                                    [classes.listWithDrawer]: isMatch,\n                                })}\n                                bulkActionButtons={<ReviewsBulkActionButtons />}\n                                filters={reviewFilters}\n                                perPage={25}\n                                sort={{ field: 'date', order: 'DESC' }}\n                            >\n                                {isXSmall ? (\n                                    <ReviewListMobile />\n                                ) : (\n                                    <ReviewListDesktop\n                                        selectedRow={\n                                            isMatch\n                                                ? parseInt(\n                                                      (match as any).params.id,\n                                                      10\n                                                  )\n                                                : undefined\n                                        }\n                                    />\n                                )}\n                            </List>\n                            <Drawer\n                                variant=\"persistent\"\n                                open={isMatch}\n                                anchor=\"right\"\n                                onClose={handleClose}\n                                classes={{\n                                    paper: classes.drawerPaper,\n                                }}\n                            >\n                                {/* To avoid any errors if the route does not match, we don't render at all the component in this case */}\n                                {isMatch ? (\n                                    <ReviewEdit\n                                        id={(match as any).params.id}\n                                        onCancel={handleClose}\n                                        resource={props.resource}\n                                        basePath={props.basePath}\n                                    />\n                                ) : null}\n                            </Drawer>\n                        </Fragment>\n                    );\n                }}\n            </Route>\n        </div>\n    );\n};\n\nexport default ReviewList;\n","import ReviewIcon from '@material-ui/icons/Comment';\nimport ReviewList from './ReviewList';\n\nexport default {\n    icon: ReviewIcon,\n    list: ReviewList,\n};\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n    NumberField,\n    TextField,\n    DateField,\n    useTranslate,\n    useGetList,\n    Record,\n    RecordMap,\n    Identifier,\n    ReferenceField,\n    useLocale,\n} from 'react-admin';\nimport {\n    Typography,\n    Card,\n    CardContent,\n    Box,\n    Link,\n    Stepper,\n    Step,\n    StepLabel,\n    StepContent,\n} from '@material-ui/core';\nimport { Link as RouterLink } from 'react-router-dom';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport order from '../orders';\nimport review from '../reviews';\nimport StarRatingField from '../reviews/StarRatingField';\nimport { Order as OrderRecord, Review as ReviewRecord } from '../types';\n\nconst useAsideStyles = makeStyles(theme => ({\n    root: {\n        width: 400,\n        [theme.breakpoints.down('md')]: {\n            display: 'none',\n        },\n    },\n}));\n\ninterface AsideProps {\n    record?: Record;\n    basePath?: string;\n}\n\nconst Aside = ({ record, basePath }: AsideProps) => {\n    const classes = useAsideStyles();\n    return (\n        <div className={classes.root}>\n            {record && <EventList record={record} basePath={basePath} />}\n        </div>\n    );\n};\n\nAside.propTypes = {\n    record: PropTypes.any,\n    basePath: PropTypes.string,\n};\n\ninterface EventListProps {\n    record?: Record;\n    basePath?: string;\n}\n\nconst useEventStyles = makeStyles({\n    stepper: {\n        background: 'none',\n        border: 'none',\n        marginLeft: '0.3em',\n    },\n});\n\nconst EventList = ({ record, basePath }: EventListProps) => {\n    const translate = useTranslate();\n    const classes = useEventStyles();\n    const locale = useLocale();\n    const { data: orders, ids: orderIds } = useGetList<OrderRecord>(\n        'commands',\n        { page: 1, perPage: 100 },\n        { field: 'date', order: 'DESC' },\n        { customer_id: record && record.id }\n    );\n    const { data: reviews, ids: reviewIds } = useGetList<ReviewRecord>(\n        'reviews',\n        { page: 1, perPage: 100 },\n        { field: 'date', order: 'DESC' },\n        { customer_id: record && record.id }\n    );\n    const events = mixOrdersAndReviews(orders, orderIds, reviews, reviewIds);\n\n    return (\n        <>\n            <Box m=\"0 0 1em 1em\">\n                <Card>\n                    <CardContent>\n                        <Typography variant=\"h6\" gutterBottom>\n                            {translate(\n                                'resources.customers.fieldGroups.history'\n                            )}\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Box flexGrow={1}>\n                                <Box display=\"flex\" mb=\"1em\">\n                                    <Box mr=\"1em\">\n                                        <AccessTimeIcon\n                                            fontSize=\"small\"\n                                            color=\"disabled\"\n                                        />\n                                    </Box>\n                                    <Box flexGrow={1}>\n                                        <Typography>\n                                            {translate(\n                                                'resources.customers.fields.first_seen'\n                                            )}\n                                        </Typography>\n                                        <DateField\n                                            record={record}\n                                            source=\"first_seen\"\n                                        />\n                                    </Box>\n                                </Box>\n                                {orderIds && orderIds.length > 0 && (\n                                    <Box display=\"flex\">\n                                        <Box mr=\"1em\">\n                                            <order.icon\n                                                fontSize=\"small\"\n                                                color=\"disabled\"\n                                            />\n                                        </Box>\n                                        <Box flexGrow={1}>\n                                            <Typography>\n                                                {translate(\n                                                    'resources.commands.amount',\n                                                    {\n                                                        smart_count:\n                                                            orderIds.length,\n                                                    }\n                                                )}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                )}\n                            </Box>\n                            <Box flexGrow={1}>\n                                <Box display=\"flex\" mb=\"1em\">\n                                    <Box mr=\"1em\">\n                                        <AccessTimeIcon\n                                            fontSize=\"small\"\n                                            color=\"disabled\"\n                                        />\n                                    </Box>\n                                    <Box flexGrow={1}>\n                                        <Typography>\n                                            {translate(\n                                                'resources.customers.fields.last_seen'\n                                            )}\n                                        </Typography>\n                                        <DateField\n                                            record={record}\n                                            source=\"last_seen\"\n                                        />\n                                    </Box>\n                                </Box>\n                                {reviewIds && reviewIds.length > 0 && (\n                                    <Box display=\"flex\">\n                                        <Box mr=\"1em\">\n                                            <review.icon\n                                                fontSize=\"small\"\n                                                color=\"disabled\"\n                                            />\n                                        </Box>\n                                        <Box flexGrow={1}>\n                                            <Typography>\n                                                {translate(\n                                                    'resources.reviews.amount',\n                                                    {\n                                                        smart_count:\n                                                            reviewIds.length,\n                                                    }\n                                                )}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                )}\n                            </Box>\n                        </Box>\n                    </CardContent>\n                </Card>\n            </Box>\n            <Stepper orientation=\"vertical\" classes={{ root: classes.stepper }}>\n                {events.map(event => (\n                    <Step\n                        key={`${event.type}-${event.data.id}`}\n                        expanded\n                        active\n                        completed\n                    >\n                        <StepLabel\n                            StepIconComponent={() => {\n                                const Component =\n                                    event.type === 'order'\n                                        ? order.icon\n                                        : review.icon;\n                                return (\n                                    <Component\n                                        fontSize=\"small\"\n                                        color=\"disabled\"\n                                        style={{ paddingLeft: 3 }}\n                                    />\n                                );\n                            }}\n                        >\n                            {new Date(event.date).toLocaleString(locale, {\n                                weekday: 'long',\n                                year: 'numeric',\n                                month: 'short',\n                                day: 'numeric',\n                                hour: 'numeric',\n                                minute: 'numeric',\n                            })}\n                        </StepLabel>\n                        <StepContent>\n                            {event.type === 'order' ? (\n                                <Order\n                                    record={event.data as OrderRecord}\n                                    key={`event_${event.data.id}`}\n                                    basePath={basePath}\n                                />\n                            ) : (\n                                <Review\n                                    record={event.data as ReviewRecord}\n                                    key={`review_${event.data.id}`}\n                                    basePath={basePath}\n                                />\n                            )}\n                        </StepContent>\n                    </Step>\n                ))}\n            </Stepper>\n        </>\n    );\n};\n\ninterface AsideEvent {\n    type: string;\n    date: Date;\n    data: OrderRecord | ReviewRecord;\n}\n\nconst mixOrdersAndReviews = (\n    orders?: RecordMap<OrderRecord>,\n    orderIds?: Identifier[],\n    reviews?: RecordMap<ReviewRecord>,\n    reviewIds?: Identifier[]\n): AsideEvent[] => {\n    const eventsFromOrders =\n        orderIds && orders\n            ? orderIds.map<AsideEvent>(id => ({\n                  type: 'order',\n                  date: orders[id].date,\n                  data: orders[id],\n              }))\n            : [];\n    const eventsFromReviews =\n        reviewIds && reviews\n            ? reviewIds.map<AsideEvent>(id => ({\n                  type: 'review',\n                  date: reviews[id].date,\n                  data: reviews[id],\n              }))\n            : [];\n    const events = eventsFromOrders.concat(eventsFromReviews);\n    events.sort(\n        (e1, e2) => new Date(e2.date).getTime() - new Date(e1.date).getTime()\n    );\n    return events;\n};\n\ninterface OrderProps {\n    record?: OrderRecord;\n    basePath?: string;\n}\n\nconst Order = ({ record, basePath }: OrderProps) => {\n    const translate = useTranslate();\n    return record ? (\n        <>\n            <Typography variant=\"body2\" gutterBottom>\n                <Link to={`/commands/${record.id}`} component={RouterLink}>\n                    {translate('resources.commands.name', {\n                        smart_count: 1,\n                    })}{' '}\n                    #{record.reference}\n                </Link>\n            </Typography>\n            <Typography variant=\"body2\" color=\"textSecondary\">\n                {translate('resources.commands.nb_items', {\n                    smart_count: record.basket.length,\n                    _: '1 item |||| %{smart_count} items',\n                })}\n                &nbsp;-&nbsp;\n                <NumberField\n                    source=\"total\"\n                    options={{\n                        style: 'currency',\n                        currency: 'USD',\n                    }}\n                    record={record}\n                    basePath={basePath}\n                />\n                &nbsp;-&nbsp;\n                <TextField\n                    source=\"status\"\n                    record={record}\n                    basePath={basePath}\n                />\n            </Typography>\n        </>\n    ) : null;\n};\n\ninterface ReviewProps {\n    record?: ReviewRecord;\n    basePath?: string;\n}\n\nconst useReviewStyles = makeStyles({\n    clamp: {\n        display: '-webkit-box',\n        '-webkit-line-clamp': 3,\n        '-webkit-box-orient': 'vertical',\n        overflow: 'hidden',\n    },\n});\n\nconst Review = ({ record, basePath }: ReviewProps) => {\n    const classes = useReviewStyles();\n    const translate = useTranslate();\n    return record ? (\n        <>\n            <Typography variant=\"body2\" gutterBottom>\n                <Link to={`/reviews/${record.id}`} component={RouterLink}>\n                    {translate('resources.reviews.relative_to_poster')} \"\n                    <ReferenceField\n                        source=\"product_id\"\n                        reference=\"products\"\n                        resource=\"reviews\"\n                        record={record}\n                        basePath={basePath}\n                        link={false}\n                    >\n                        <TextField source=\"reference\" component=\"span\" />\n                    </ReferenceField>\n                    \"\n                </Link>\n            </Typography>\n            <Typography variant=\"body2\" color=\"textSecondary\" gutterBottom>\n                <StarRatingField record={record} />\n            </Typography>\n            <Typography\n                variant=\"body2\"\n                color=\"textSecondary\"\n                className={classes.clamp}\n            >\n                {record.comment}\n            </Typography>\n        </>\n    ) : null;\n};\n\nexport default Aside;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport * as React from 'react';\nimport { useCallback, useRef, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Select, MenuItem, InputLabel, FormHelperText, FormControl, Chip, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { FieldTitle, useInput, useChoices, } from 'ra-core';\nimport InputHelperText from './InputHelperText';\nimport Labeled from './Labeled';\nimport { LinearProgress } from '../layout';\nimport { useSupportCreateSuggestion, } from './useSupportCreateSuggestion';\n/**\n * An Input component for a select box allowing multiple selections, using an array of objects for the options\n *\n * Pass possible options as an array of objects in the 'choices' attribute.\n *\n * By default, the options are built from:\n *  - the 'id' property as the option value,\n *  - the 'name' property as the option text\n * @example\n * const choices = [\n *    { id: 'programming', name: 'Programming' },\n *    { id: 'lifestyle', name: 'Lifestyle' },\n *    { id: 'photography', name: 'Photography' },\n * ];\n * <SelectArrayInput source=\"tags\" choices={choices} />\n *\n * You can also customize the properties to use for the option name and value,\n * thanks to the 'optionText' and 'optionValue' attributes.\n * @example\n * const choices = [\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\n * ];\n * <SelectArrayInput source=\"authors\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\n *\n * `optionText` also accepts a function, so you can shape the option text at will:\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\n * <SelectArrayInput source=\"authors\" choices={choices} optionText={optionRenderer} />\n *\n * `optionText` also accepts a React Element, that will be cloned and receive\n * the related choice as the `record` prop. You can use Field components there.\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const FullNameField = ({ record }) => <span>{record.first_name} {record.last_name}</span>;\n * <SelectArrayInput source=\"authors\" choices={choices} optionText={<FullNameField />}/>\n *\n * The choices are translated by default, so you can use translation identifiers as choices:\n * @example\n * const choices = [\n *    { id: 'programming', name: 'myroot.tags.programming' },\n *    { id: 'lifestyle', name: 'myroot.tags.lifestyle' },\n *    { id: 'photography', name: 'myroot.tags.photography' },\n * ];\n */\nvar SelectArrayInput = function (props) {\n    var _a = props.choices, choices = _a === void 0 ? [] : _a, classesOverride = props.classes, className = props.className, create = props.create, createLabel = props.createLabel, createValue = props.createValue, disableValue = props.disableValue, format = props.format, helperText = props.helperText, label = props.label, loaded = props.loaded, loading = props.loading, _b = props.margin, margin = _b === void 0 ? 'dense' : _b, onBlur = props.onBlur, onChange = props.onChange, onCreate = props.onCreate, onFocus = props.onFocus, options = props.options, optionText = props.optionText, optionValue = props.optionValue, parse = props.parse, resource = props.resource, source = props.source, translateChoice = props.translateChoice, validate = props.validate, _c = props.variant, variant = _c === void 0 ? 'filled' : _c, rest = __rest(props, [\"choices\", \"classes\", \"className\", \"create\", \"createLabel\", \"createValue\", \"disableValue\", \"format\", \"helperText\", \"label\", \"loaded\", \"loading\", \"margin\", \"onBlur\", \"onChange\", \"onCreate\", \"onFocus\", \"options\", \"optionText\", \"optionValue\", \"parse\", \"resource\", \"source\", \"translateChoice\", \"validate\", \"variant\"]);\n    var classes = useStyles(props);\n    var inputLabel = useRef(null);\n    var _d = useState(0), labelWidth = _d[0], setLabelWidth = _d[1];\n    useEffect(function () {\n        // Will be null while loading and we don't need this fix in that case\n        if (inputLabel.current) {\n            setLabelWidth(inputLabel.current.offsetWidth);\n        }\n    }, []);\n    var _e = useChoices({\n        optionText: optionText,\n        optionValue: optionValue,\n        disableValue: disableValue,\n        translateChoice: translateChoice,\n    }), getChoiceText = _e.getChoiceText, getChoiceValue = _e.getChoiceValue, getDisableValue = _e.getDisableValue;\n    var _f = useInput(__assign({ format: format, onBlur: onBlur, onChange: onChange, onFocus: onFocus, parse: parse, resource: resource, source: source, validate: validate }, rest)), input = _f.input, isRequired = _f.isRequired, _g = _f.meta, error = _g.error, submitError = _g.submitError, touched = _g.touched;\n    var handleChange = useCallback(function (event, newItem) {\n        if (newItem) {\n            input.onChange(__spreadArray(__spreadArray([], input.value, true), [getChoiceValue(newItem)], false));\n            return;\n        }\n        input.onChange(event);\n    }, [input, getChoiceValue]);\n    var _h = useSupportCreateSuggestion({\n        create: create,\n        createLabel: createLabel,\n        createValue: createValue,\n        handleChange: handleChange,\n        onCreate: onCreate,\n        optionText: optionText,\n    }), getCreateItem = _h.getCreateItem, handleChangeWithCreateSupport = _h.handleChange, createElement = _h.createElement;\n    var createItem = create || onCreate ? getCreateItem() : null;\n    var finalChoices = create || onCreate ? __spreadArray(__spreadArray([], choices, true), [createItem], false) : choices;\n    var renderMenuItemOption = useCallback(function (choice) { return getChoiceText(choice); }, [\n        getChoiceText,\n    ]);\n    var renderMenuItem = useCallback(function (choice) {\n        return choice ? (React.createElement(MenuItem, { key: getChoiceValue(choice), value: getChoiceValue(choice), disabled: getDisableValue(choice) }, !!createItem && (choice === null || choice === void 0 ? void 0 : choice.id) === createItem.id\n            ? createItem.name\n            : renderMenuItemOption(choice))) : null;\n    }, [getChoiceValue, getDisableValue, renderMenuItemOption, createItem]);\n    if (loading) {\n        return (React.createElement(Labeled, { label: label, source: source, resource: resource, className: className, isRequired: isRequired, margin: margin },\n            React.createElement(LinearProgress, null)));\n    }\n    return (React.createElement(React.Fragment, null,\n        React.createElement(FormControl, __assign({ margin: margin, className: classnames(classes.root, className), error: touched && !!(error || submitError), variant: variant }, sanitizeRestProps(rest)),\n            React.createElement(InputLabel, { ref: inputLabel, id: label + \"-outlined-label\", error: touched && !!(error || submitError) },\n                React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired })),\n            React.createElement(Select, __assign({ autoWidth: true, labelId: label + \"-outlined-label\", multiple: true, error: !!(touched && (error || submitError)), renderValue: function (selected) { return (React.createElement(\"div\", { className: classes.chips }, selected\n                    .map(function (item) {\n                    return choices.find(function (choice) {\n                        return getChoiceValue(choice) === item;\n                    });\n                })\n                    .filter(function (item) { return !!item; })\n                    .map(function (item) { return (React.createElement(Chip, { key: getChoiceValue(item), label: renderMenuItemOption(item), className: classes.chip })); }))); }, \"data-testid\": \"selectArray\" }, input, { onChange: handleChangeWithCreateSupport, value: input.value || [], labelWidth: labelWidth }, options), finalChoices.map(renderMenuItem)),\n            React.createElement(FormHelperText, { error: touched && !!(error || submitError) },\n                React.createElement(InputHelperText, { touched: touched, error: error || submitError, helperText: helperText }))),\n        createElement));\n};\nSelectArrayInput.propTypes = {\n    choices: PropTypes.arrayOf(PropTypes.object),\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    children: PropTypes.node,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    options: PropTypes.object,\n    optionText: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.func,\n        PropTypes.element,\n    ]).isRequired,\n    optionValue: PropTypes.string.isRequired,\n    disableValue: PropTypes.string,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n    translateChoice: PropTypes.bool,\n};\nSelectArrayInput.defaultProps = {\n    options: {},\n    optionText: 'name',\n    optionValue: 'id',\n    disableValue: 'disabled',\n    translateChoice: true,\n};\nvar sanitizeRestProps = function (_a) {\n    var addLabel = _a.addLabel, allowEmpty = _a.allowEmpty, alwaysOn = _a.alwaysOn, basePath = _a.basePath, choices = _a.choices, classNamInputWithOptionsPropse = _a.classNamInputWithOptionsPropse, componenInputWithOptionsPropst = _a.componenInputWithOptionsPropst, crudGetMInputWithOptionsPropsatching = _a.crudGetMInputWithOptionsPropsatching, crudGetOInputWithOptionsPropsne = _a.crudGetOInputWithOptionsPropsne, defaultValue = _a.defaultValue, disableValue = _a.disableValue, filter = _a.filter, filterToQuery = _a.filterToQuery, formClassName = _a.formClassName, initializeForm = _a.initializeForm, input = _a.input, isRequired = _a.isRequired, label = _a.label, limitChoicesToValue = _a.limitChoicesToValue, loaded = _a.loaded, locale = _a.locale, meta = _a.meta, onChange = _a.onChange, options = _a.options, optionValue = _a.optionValue, optionText = _a.optionText, perPage = _a.perPage, record = _a.record, reference = _a.reference, resource = _a.resource, setFilter = _a.setFilter, setPagination = _a.setPagination, setSort = _a.setSort, sort = _a.sort, source = _a.source, textAlign = _a.textAlign, translate = _a.translate, translateChoice = _a.translateChoice, validation = _a.validation, rest = __rest(_a, [\"addLabel\", \"allowEmpty\", \"alwaysOn\", \"basePath\", \"choices\", \"classNamInputWithOptionsPropse\", \"componenInputWithOptionsPropst\", \"crudGetMInputWithOptionsPropsatching\", \"crudGetOInputWithOptionsPropsne\", \"defaultValue\", \"disableValue\", \"filter\", \"filterToQuery\", \"formClassName\", \"initializeForm\", \"input\", \"isRequired\", \"label\", \"limitChoicesToValue\", \"loaded\", \"locale\", \"meta\", \"onChange\", \"options\", \"optionValue\", \"optionText\", \"perPage\", \"record\", \"reference\", \"resource\", \"setFilter\", \"setPagination\", \"setSort\", \"sort\", \"source\", \"textAlign\", \"translate\", \"translateChoice\", \"validation\"]);\n    return rest;\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {},\n    chips: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    chip: {\n        margin: theme.spacing(1 / 4),\n    },\n}); }, { name: 'RaSelectArrayInput' });\nexport default SelectArrayInput;\n","import * as React from 'react';\nimport { useTranslate, SelectArrayInput, InputProps } from 'react-admin';\n\nimport segments from '../segments/data';\n\ninterface Props extends Omit<InputProps, 'source'> {\n    source?: string;\n}\n\nconst SegmentsInput = ({ addField, ...rest }: Props) => {\n    const translate = useTranslate();\n    return (\n        <SelectArrayInput\n            source=\"groups\"\n            {...rest}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n        />\n    );\n};\n\nSegmentsInput.defaultProps = {\n    addField: true,\n    source: 'groups',\n    resource: 'customers',\n};\n\nexport default SegmentsInput;\n","import * as React from 'react';\nimport {\n    DateInput,\n    Edit,\n    EditProps,\n    NullableBooleanInput,\n    TextInput,\n    PasswordInput,\n    Toolbar,\n    useTranslate,\n    FormWithRedirect,\n    required,\n    email,\n    FieldProps,\n} from 'react-admin';\nimport { Box, Card, CardContent, Typography } from '@material-ui/core';\n\nimport Aside from './Aside';\nimport FullNameField from './FullNameField';\nimport SegmentsInput from './SegmentsInput';\nimport { validatePasswords } from './VisitorCreate';\nimport { Customer } from '../types';\n\nconst VisitorEdit = (props: EditProps) => {\n    return (\n        <Edit\n            title={<VisitorTitle />}\n            aside={<Aside />}\n            component=\"div\"\n            {...props}\n        >\n            <VisitorForm />\n        </Edit>\n    );\n};\n\nconst VisitorTitle = ({ record }: FieldProps<Customer>) =>\n    record ? <FullNameField record={record} size=\"32\" /> : null;\n\nconst VisitorForm = (props: any) => {\n    const translate = useTranslate();\n\n    return (\n        <FormWithRedirect\n            {...props}\n            validate={validatePasswords}\n            render={(formProps: any) => (\n                <Card>\n                    <form>\n                        <CardContent>\n                            <Box display={{ md: 'block', lg: 'flex' }}>\n                                <Box flex={2} mr={{ md: 0, lg: '1em' }}>\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.identity'\n                                        )}\n                                    </Typography>\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"first_name\"\n                                                resource=\"customers\"\n                                                validate={requiredValidate}\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"last_name\"\n                                                resource=\"customers\"\n                                                validate={requiredValidate}\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n                                    <TextInput\n                                        type=\"email\"\n                                        source=\"email\"\n                                        resource=\"customers\"\n                                        validate={[email(), required()]}\n                                        fullWidth\n                                    />\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <DateInput\n                                                source=\"birthday\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                                helperText={false}\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={2}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        />\n                                    </Box>\n\n                                    <Box mt=\"1em\" />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.address'\n                                        )}\n                                    </Typography>\n                                    <TextInput\n                                        source=\"address\"\n                                        resource=\"customers\"\n                                        multiline\n                                        fullWidth\n                                        helperText={false}\n                                    />\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={2}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"city\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                                helperText={false}\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"stateAbbr\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                                helperText={false}\n                                            />\n                                        </Box>\n                                        <Box flex={2}>\n                                            <TextInput\n                                                source=\"zipcode\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                                helperText={false}\n                                            />\n                                        </Box>\n                                    </Box>\n\n                                    <Box mt=\"1em\" />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.change_password'\n                                        )}\n                                    </Typography>\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <PasswordInput\n                                                source=\"password\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <PasswordInput\n                                                source=\"confirm_password\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n                                </Box>\n                                <Box\n                                    flex={1}\n                                    ml={{ xs: 0, lg: '1em' }}\n                                    mt={{ xs: '1em', lg: 0 }}\n                                >\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.stats'\n                                        )}\n                                    </Typography>\n                                    <div>\n                                        <SegmentsInput fullWidth />\n                                    </div>\n                                    <div>\n                                        <NullableBooleanInput\n                                            source=\"has_newsletter\"\n                                            resource=\"customers\"\n                                        />\n                                    </div>\n                                </Box>\n                            </Box>\n                        </CardContent>\n                        <Toolbar\n                            record={formProps.record}\n                            basePath={formProps.basePath}\n                            undoable={true}\n                            invalid={formProps.invalid}\n                            handleSubmit={formProps.handleSubmit}\n                            saving={formProps.saving}\n                            resource=\"customers\"\n                        />\n                    </form>\n                </Card>\n            )}\n        />\n    );\n};\n\nconst requiredValidate = [required()];\n\nexport default VisitorEdit;\n","import VisitorIcon from '@material-ui/icons/People';\n\nimport VisitorList from './VisitorList';\nimport VisitorCreate from './VisitorCreate';\nimport VisitorEdit from './VisitorEdit';\n\nconst resource = {\n    list: VisitorList,\n    create: VisitorCreate,\n    edit: VisitorEdit,\n    icon: VisitorIcon,\n};\n\nexport default resource;\n","import * as React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    useShowController,\n    ReferenceField,\n    TextField,\n    FieldProps,\n} from 'react-admin';\n\nimport Basket from '../orders/Basket';\nimport { Customer, Invoice } from '../types';\n\nconst CustomerField = ({ record }: FieldProps<Customer>) =>\n    record ? (\n        <Typography>\n            {record.first_name} {record.last_name}\n            <br />\n            {record.address}\n            <br />\n            {record.city}, {record.zipcode}\n        </Typography>\n    ) : null;\n\nconst InvoiceShow = (props: any) => {\n    const { record } = useShowController<Invoice>(props);\n    const classes = useStyles();\n\n    if (!record) return null;\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom>\n                            Posters Galore\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom align=\"right\">\n                            Invoice {record.id}\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <Grid container spacing={2}>\n                    <Grid item xs={12} container alignContent=\"flex-end\">\n                        <ReferenceField\n                            resource=\"invoices\"\n                            reference=\"customers\"\n                            source=\"customer_id\"\n                            basePath=\"/invoices\"\n                            record={record}\n                            link={false}\n                        >\n                            <CustomerField />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Date{' '}\n                        </Typography>\n                        <Typography gutterBottom align=\"center\">\n                            {new Date(record.date).toLocaleDateString()}\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={5}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Order\n                        </Typography>\n                        <ReferenceField\n                            resource=\"invoices\"\n                            reference=\"commands\"\n                            source=\"command_id\"\n                            basePath=\"/invoices\"\n                            record={record}\n                            link={false}\n                        >\n                            <TextField\n                                source=\"reference\"\n                                align=\"center\"\n                                component=\"p\"\n                                gutterBottom\n                            />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <div className={classes.invoices}>\n                    <ReferenceField\n                        resource=\"invoices\"\n                        reference=\"commands\"\n                        source=\"command_id\"\n                        basePath=\"/invoices\"\n                        record={record}\n                        link={false}\n                    >\n                        <Basket />\n                    </ReferenceField>\n                </div>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default InvoiceShow;\n\nconst useStyles = makeStyles({\n    root: { width: 600, margin: 'auto' },\n    spacer: { height: 20 },\n    invoices: { margin: '10px 0' },\n});\n","import useVersion from '../useVersion';\nimport { useCheckMinimumRequiredProps } from '../checkMinimumRequiredProps';\nimport { useGetOne } from '../../dataProvider';\nimport { useTranslate } from '../../i18n';\nimport { useNotify, useRedirect, useRefresh } from '../../sideEffect';\nimport { CRUD_GET_ONE } from '../../actions';\nimport { useResourceContext, useGetResourceLabel } from '../../core';\n/**\n * Prepare data for the Show view\n *\n * @param {Object} props The props passed to the Show component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Show view\n *\n * @example\n *\n * import { useShowController } from 'react-admin';\n * import ShowView from './ShowView';\n *\n * const MyShow = props => {\n *     const controllerProps = useShowController(props);\n *     return <ShowView {...controllerProps} {...props} />;\n * }\n */\nexport var useShowController = function (props) {\n    useCheckMinimumRequiredProps('Show', ['basePath', 'resource'], props);\n    var basePath = props.basePath, hasCreate = props.hasCreate, hasEdit = props.hasEdit, hasList = props.hasList, hasShow = props.hasShow, id = props.id, onFailure = props.onFailure;\n    var resource = useResourceContext(props);\n    var translate = useTranslate();\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var version = useVersion();\n    var _a = useGetOne(resource, id, {\n        action: CRUD_GET_ONE,\n        onFailure: onFailure !== null && onFailure !== void 0 ? onFailure : (function () {\n            notify('ra.notification.item_doesnt_exist', 'warning');\n            redirect('list', basePath);\n            refresh();\n        }),\n    }), record = _a.data, error = _a.error, loading = _a.loading, loaded = _a.loaded, refetch = _a.refetch;\n    var getResourceLabel = useGetResourceLabel();\n    var defaultTitle = translate('ra.page.show', {\n        name: getResourceLabel(resource, 1),\n        id: id,\n        record: record,\n    });\n    return {\n        error: error,\n        loading: loading,\n        loaded: loaded,\n        defaultTitle: defaultTitle,\n        resource: resource,\n        basePath: basePath,\n        record: record,\n        refetch: refetch,\n        hasCreate: hasCreate,\n        hasEdit: hasEdit,\n        hasList: hasList,\n        hasShow: hasShow,\n        version: version,\n    };\n};\n","import * as React from 'react';\nimport {\n    List,\n    ListProps,\n    Datagrid,\n    TextField,\n    DateField,\n    ReferenceField,\n    NumberField,\n    DateInput,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport FullNameField from '../visitors/FullNameField';\nimport AddressField from '../visitors/AddressField';\nimport InvoiceShow from './InvoiceShow';\n\nconst listFilters = [\n    <DateInput source=\"date_gte\" alwaysOn />,\n    <DateInput source=\"date_lte\" alwaysOn />,\n];\n\nconst useStyles = makeStyles(theme => ({\n    hiddenOnSmallScreens: {\n        display: 'table-cell',\n        [theme.breakpoints.down('md')]: {\n            display: 'none',\n        },\n    },\n}));\n\nconst InvoiceList = (props: ListProps) => {\n    const classes = useStyles();\n    return (\n        <List\n            {...props}\n            filters={listFilters}\n            perPage={25}\n            sort={{ field: 'date', order: 'desc' }}\n        >\n            <Datagrid rowClick=\"expand\" expand={<InvoiceShow />}>\n                <TextField source=\"id\" />\n                <DateField source=\"date\" />\n                <ReferenceField source=\"customer_id\" reference=\"customers\">\n                    <FullNameField />\n                </ReferenceField>\n                <ReferenceField\n                    source=\"customer_id\"\n                    reference=\"customers\"\n                    link={false}\n                    label=\"resources.invoices.fields.address\"\n                    cellClassName={classes.hiddenOnSmallScreens}\n                    headerClassName={classes.hiddenOnSmallScreens}\n                >\n                    <AddressField />\n                </ReferenceField>\n                <ReferenceField source=\"command_id\" reference=\"commands\">\n                    <TextField source=\"reference\" />\n                </ReferenceField>\n                <NumberField source=\"total_ex_taxes\" />\n                <NumberField source=\"delivery_fees\" />\n                <NumberField source=\"taxes\" />\n                <NumberField source=\"total\" />\n            </Datagrid>\n        </List>\n    );\n};\n\nexport default InvoiceList;\n","import InvoiceIcon from '@material-ui/icons/LibraryBooks';\n\nimport InvoiceList from './InvoiceList';\n\nexport default {\n    list: InvoiceList,\n    icon: InvoiceIcon,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport { useInput, FieldTitle } from 'ra-core';\nimport InputHelperText from './InputHelperText';\nimport sanitizeInputRestProps from './sanitizeInputRestProps';\nvar convertStringToNumber = function (value) {\n    var float = parseFloat(value);\n    return isNaN(float) ? null : float;\n};\n/**\n * An Input component for a number\n *\n * @example\n * <NumberInput source=\"nb_views\" />\n *\n * You can customize the `step` props (which defaults to \"any\")\n * @example\n * <NumberInput source=\"nb_views\" step={1} />\n *\n * The object passed as `options` props is passed to the material-ui <TextField> component\n */\nvar NumberInput = function (_a) {\n    var format = _a.format, helperText = _a.helperText, label = _a.label, _b = _a.margin, margin = _b === void 0 ? 'dense' : _b, onBlur = _a.onBlur, onFocus = _a.onFocus, onChange = _a.onChange, options = _a.options, _c = _a.parse, parse = _c === void 0 ? convertStringToNumber : _c, resource = _a.resource, source = _a.source, step = _a.step, min = _a.min, max = _a.max, validate = _a.validate, _d = _a.variant, variant = _d === void 0 ? 'filled' : _d, overrideInputProps = _a.inputProps, rest = __rest(_a, [\"format\", \"helperText\", \"label\", \"margin\", \"onBlur\", \"onFocus\", \"onChange\", \"options\", \"parse\", \"resource\", \"source\", \"step\", \"min\", \"max\", \"validate\", \"variant\", \"inputProps\"]);\n    var _e = useInput(__assign({ format: format, onBlur: onBlur, onChange: onChange, onFocus: onFocus, parse: parse, resource: resource, source: source, type: 'number', validate: validate }, rest)), id = _e.id, input = _e.input, isRequired = _e.isRequired, _f = _e.meta, error = _f.error, submitError = _f.submitError, touched = _f.touched;\n    var inputProps = __assign(__assign({}, overrideInputProps), { step: step, min: min, max: max });\n    return (React.createElement(TextField, __assign({ id: id }, input, { variant: variant, error: !!(touched && (error || submitError)), helperText: React.createElement(InputHelperText, { touched: touched, error: error || submitError, helperText: helperText }), label: React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired }), margin: margin, inputProps: inputProps }, options, sanitizeInputRestProps(rest))));\n};\nNumberInput.propTypes = {\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    options: PropTypes.object,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n    step: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n};\nNumberInput.defaultProps = {\n    options: {},\n    step: 'any',\n    textAlign: 'right',\n};\nexport default NumberInput;\n","import { useContext } from 'react';\nimport ListSortContext from './ListSortContext';\n/**\n * Hook to read the list controller props from the ListContext.\n *\n * Must be used within a <ListContextProvider> (e.g. as a descendent of <List>\n * or <ListBase>).\n *\n * @typedef {Object} ListSortContextValue\n * @prop {Object}   currentSort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\n * @prop {Function} setSort a callback to change the sort, e.g. setSort('name', 'ASC')\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @returns {ListSortContextValue} list controller props\n *\n * @see useListController for how it is filled\n */\nvar useListSortContext = function (props) {\n    var context = useContext(ListSortContext);\n    if (!context.setSort) {\n        /**\n         * The element isn't inside a <ListSortContext.Provider>\n         *\n         * This may only happen when using Datagrid / SimpleList / SingleFieldList components\n         * outside of a List / ReferenceManyField / ReferenceArrayField -\n         * which isn't documented but tolerated.\n         * To avoid breakage in that case, fallback to props\n         *\n         * @deprecated - to be removed in 4.0\n         */\n        if (process.env.NODE_ENV !== 'production') {\n            console.log(\"List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin.\");\n        }\n        return props;\n    }\n    return context;\n};\nexport default useListSortContext;\n","import * as React from 'react';\nimport { memo } from 'react';\nimport { Button, Menu, MenuItem, Tooltip, IconButton, useMediaQuery, } from '@material-ui/core';\nimport SortIcon from '@material-ui/icons/Sort';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport { shallowEqual } from 'react-redux';\nimport { useListSortContext, useTranslate, getFieldLabelTranslationArgs, } from 'ra-core';\n/**\n * A button allowing to change the sort field and order.\n *\n * To be used inside a ListContext (e.g. inside a <List> or <ReferenceManyField>)\n *\n * Expects one 'fields' prop, containing an array of field strings that shall\n * be used and displayed for sorting.\n *\n * When users clicks on the <SortButton>, they see a dropdown list with the\n * proposed sorting fields. Once they click on one of these fields, the related\n * list refreshes, re-sorted.\n *\n * @example\n *\n * import * as React from 'react';\n * import { TopToolbar, SortButton, CreateButton, ExportButton } from 'react-admin';\n *\n * const ListActions = props => (\n *     <TopToolbar>\n *         <SortButton fields={['reference', 'sales', 'stock']} />\n *         <CreateButton basePath={props.basePath} />\n *         <ExportButton />\n *     </TopToolbar>\n * );\n */\nvar SortButton = function (props) {\n    var fields = props.fields, _a = props.label, label = _a === void 0 ? 'ra.sort.sort_by' : _a, _b = props.icon, icon = _b === void 0 ? defaultIcon : _b;\n    var _c = useListSortContext(), resource = _c.resource, currentSort = _c.currentSort, setSort = _c.setSort;\n    var translate = useTranslate();\n    var isXSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('xs');\n    });\n    var _d = React.useState(null), anchorEl = _d[0], setAnchorEl = _d[1];\n    var handleClick = function (event) {\n        setAnchorEl(event.currentTarget);\n    };\n    var handleClose = function () {\n        setAnchorEl(null);\n    };\n    var handleChangeSort = function (event) {\n        var field = event.currentTarget.dataset.sort;\n        setSort(field, field === currentSort.field\n            ? inverseOrder(currentSort.order)\n            : 'ASC');\n        setAnchorEl(null);\n    };\n    var buttonLabel = translate(label, {\n        field: translate.apply(void 0, getFieldLabelTranslationArgs({\n            resource: resource,\n            source: currentSort.field,\n        })),\n        order: translate(\"ra.sort.\" + currentSort.order),\n        _: label,\n    });\n    return (React.createElement(React.Fragment, null,\n        isXSmall ? (React.createElement(Tooltip, { title: buttonLabel },\n            React.createElement(IconButton, { \"aria-label\": buttonLabel, color: \"primary\", onClick: handleClick }, icon))) : (React.createElement(Button, { \"aria-controls\": \"simple-menu\", \"aria-haspopup\": \"true\", color: \"primary\", onClick: handleClick, startIcon: icon, endIcon: React.createElement(ArrowDropDownIcon, null), size: \"small\" }, buttonLabel)),\n        React.createElement(Menu, { id: \"simple-menu\", anchorEl: anchorEl, keepMounted: true, open: Boolean(anchorEl), onClose: handleClose }, fields.map(function (field) { return (React.createElement(MenuItem, { onClick: handleChangeSort, \"data-sort\": field, key: field },\n            translate.apply(void 0, getFieldLabelTranslationArgs({\n                resource: resource,\n                source: field,\n            })),\n            ' ',\n            translate(\"ra.sort.\" + (currentSort.field === field\n                ? inverseOrder(currentSort.order)\n                : 'ASC')))); }))));\n};\nvar defaultIcon = React.createElement(SortIcon, null);\nvar inverseOrder = function (sort) { return (sort === 'ASC' ? 'DESC' : 'ASC'); };\nvar arePropsEqual = function (prevProps, nextProps) {\n    return shallowEqual(prevProps.fields, nextProps.fields);\n};\nexport default memo(SortButton, arePropsEqual);\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport useListController from './useListController';\nimport ListContextProvider from './ListContextProvider';\n/**\n * Call useListController and put the value in a ListContext\n *\n * Base class for <List> components, without UI.\n *\n * Accepts any props accepted by useListController:\n * - filter: permanent filter applied to the list\n * - filters: Filter element, to display the filters\n * - filterDefaultValues: object;\n * - perPage: Number of results per page\n * - sort: Default sort\n * - exporter: exported function\n *\n * @example // Custom list layout\n *\n * const PostList = props => (\n *     <ListBase {...props} perPage={10}>\n *         <div>\n *              List metrics...\n *         </div>\n *         <Grid container>\n *             <Grid item xs={8}>\n *                 <SimpleList primaryText={record => record.title} />\n *             </Grid>\n *             <Grid item xs={4}>\n *                 List instructions...\n *             </Grid>\n *         </Grid>\n *         <div>\n *             Post related links...\n *         </div>\n *     </ListBase>\n * );\n */\nvar ListBase = function (_a) {\n    var children = _a.children, props = __rest(_a, [\"children\"]);\n    return (React.createElement(ListContextProvider, { value: useListController(props) }, children));\n};\nexport default ListBase;\n","import * as React from 'react';\nimport MuiGridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { WithWidth } from '@material-ui/core/withWidth';\nimport {\n    linkToRecord,\n    NumberField,\n    useListContext,\n    DatagridProps,\n    Identifier,\n} from 'react-admin';\nimport { Link } from 'react-router-dom';\nimport { Breakpoint } from '@material-ui/core/styles/createBreakpoints';\n\nconst useStyles = makeStyles(theme => ({\n    gridList: {\n        margin: 0,\n    },\n    tileBar: {\n        background:\n            'linear-gradient(to top, rgba(0,0,0,0.8) 0%,rgba(0,0,0,0.4) 70%,rgba(0,0,0,0) 100%)',\n    },\n    placeholder: {\n        backgroundColor: theme.palette.grey[300],\n        height: '100%',\n    },\n    price: {\n        display: 'inline',\n        fontSize: '1em',\n    },\n    link: {\n        color: '#fff',\n    },\n}));\n\nconst getColsForWidth = (width: Breakpoint) => {\n    if (width === 'xs') return 2;\n    if (width === 'sm') return 3;\n    if (width === 'md') return 3;\n    if (width === 'lg') return 5;\n    return 6;\n};\n\nconst times = (nbChildren: number, fn: (key: number) => any) =>\n    Array.from({ length: nbChildren }, (_, key) => fn(key));\n\nconst LoadingGridList = (props: GridProps & { nbItems?: number }) => {\n    const { width, nbItems = 20 } = props;\n    const classes = useStyles();\n    return (\n        <MuiGridList\n            cellHeight={180}\n            cols={getColsForWidth(width)}\n            className={classes.gridList}\n        >\n            {' '}\n            {times(nbItems, key => (\n                <GridListTile key={key}>\n                    <div className={classes.placeholder} />\n                </GridListTile>\n            ))}\n        </MuiGridList>\n    );\n};\n\nconst LoadedGridList = (props: GridProps) => {\n    const { width } = props;\n    const { ids, data, basePath } = useListContext();\n    const classes = useStyles();\n\n    if (!ids || !data) return null;\n\n    return (\n        <MuiGridList\n            cellHeight={180}\n            cols={getColsForWidth(width)}\n            className={classes.gridList}\n        >\n            {ids.map((id: Identifier) => (\n                <GridListTile\n                    // @ts-ignore\n                    component={Link}\n                    key={id}\n                    to={linkToRecord(basePath, data[id].id)}\n                >\n                    <img src={data[id].thumbnail} alt=\"\" />\n                    <GridListTileBar\n                        className={classes.tileBar}\n                        title={data[id].reference}\n                        subtitle={\n                            <span>\n                                {data[id].width}x{data[id].height},{' '}\n                                <NumberField\n                                    className={classes.price}\n                                    source=\"price\"\n                                    record={data[id]}\n                                    color=\"inherit\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                />\n                            </span>\n                        }\n                    />\n                </GridListTile>\n            ))}\n        </MuiGridList>\n    );\n};\n\ninterface GridProps extends Omit<DatagridProps, 'width'>, WithWidth {}\n\nconst GridList = (props: WithWidth) => {\n    const { width } = props;\n    const { loaded } = useListContext();\n    return loaded ? (\n        <LoadedGridList width={width} />\n    ) : (\n        <LoadingGridList width={width} />\n    );\n};\n\nexport default withWidth()(GridList);\n","import * as React from 'react';\nimport inflection from 'inflection';\nimport { Card, CardContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LocalOfferIcon from '@material-ui/icons/LocalOfferOutlined';\nimport BarChartIcon from '@material-ui/icons/BarChart';\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney';\nimport {\n    FilterList,\n    FilterListItem,\n    FilterLiveSearch,\n    useGetList,\n} from 'react-admin';\n\nimport { Category } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up('sm')]: {\n            width: '15em',\n            marginRight: '1em',\n            overflow: 'initial',\n        },\n        [theme.breakpoints.down('sm')]: {\n            display: 'none',\n        },\n    },\n}));\n\nconst Aside = () => {\n    const { data, ids } = useGetList<Category>(\n        'categories',\n        { page: 1, perPage: 100 },\n        { field: 'name', order: 'ASC' },\n        {}\n    );\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <FilterLiveSearch />\n\n                <FilterList\n                    label=\"resources.products.filters.sales\"\n                    icon={<AttachMoneyIcon />}\n                >\n                    <FilterListItem\n                        label=\"resources.products.filters.best_sellers\"\n                        value={{\n                            sales_lte: undefined,\n                            sales_gt: 25,\n                            sales: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.average_sellers\"\n                        value={{\n                            sales_lte: 25,\n                            sales_gt: 10,\n                            sales: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.low_sellers\"\n                        value={{\n                            sales_lte: 10,\n                            sales_gt: 0,\n                            sales: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.never_sold\"\n                        value={{\n                            sales_lte: undefined,\n                            sales_gt: undefined,\n                            sales: 0,\n                        }}\n                    />\n                </FilterList>\n\n                <FilterList\n                    label=\"resources.products.filters.stock\"\n                    icon={<BarChartIcon />}\n                >\n                    <FilterListItem\n                        label=\"resources.products.filters.no_stock\"\n                        value={{\n                            stock_lt: undefined,\n                            stock_gt: undefined,\n                            stock: 0,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.low_stock\"\n                        value={{\n                            stock_lt: 10,\n                            stock_gt: 0,\n                            stock: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.average_stock\"\n                        value={{\n                            stock_lt: 50,\n                            stock_gt: 9,\n                            stock: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.enough_stock\"\n                        value={{\n                            stock_lt: undefined,\n                            stock_gt: 49,\n                            stock: undefined,\n                        }}\n                    />\n                </FilterList>\n\n                <FilterList\n                    label=\"resources.products.filters.categories\"\n                    icon={<LocalOfferIcon />}\n                >\n                    {ids &&\n                        data &&\n                        ids.map((id: any) => (\n                            <FilterListItem\n                                label={inflection.humanize(data[id].name)}\n                                key={data[id].id}\n                                value={{ category_id: data[id].id }}\n                            />\n                        ))}\n                </FilterList>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Aside;\n","import * as React from 'react';\nimport { Box, Chip, useMediaQuery, Theme } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    CreateButton,\n    ExportButton,\n    FilterButton,\n    FilterForm,\n    FilterContext,\n    InputProps,\n    ListBase,\n    ListProps,\n    NumberInput,\n    Pagination,\n    ReferenceInput,\n    SearchInput,\n    SelectInput,\n    SortButton,\n    Title,\n    TopToolbar,\n    useListContext,\n    useTranslate,\n} from 'react-admin';\n\nimport GridList from './GridList';\nimport Aside from './Aside';\n\nconst useQuickFilterStyles = makeStyles(theme => ({\n    root: {\n        marginBottom: theme.spacing(1),\n    },\n}));\n\nconst QuickFilter = ({ label }: InputProps) => {\n    const translate = useTranslate();\n    const classes = useQuickFilterStyles();\n    return <Chip className={classes.root} label={translate(label)} />;\n};\n\nexport const productFilters = [\n    <SearchInput source=\"q\" alwaysOn />,\n    <ReferenceInput\n        source=\"category_id\"\n        reference=\"categories\"\n        sort={{ field: 'id', order: 'ASC' }}\n    >\n        <SelectInput source=\"name\" />\n    </ReferenceInput>,\n    <NumberInput source=\"width_gte\" />,\n    <NumberInput source=\"width_lte\" />,\n    <NumberInput source=\"height_gte\" />,\n    <NumberInput source=\"height_lte\" />,\n    <QuickFilter\n        label=\"resources.products.fields.stock_lte\"\n        source=\"stock_lte\"\n        defaultValue={10}\n    />,\n];\n\nconst ListActions = ({ isSmall }: any) => (\n    <TopToolbar>\n        {isSmall && <FilterButton />}\n        <SortButton fields={['reference', 'sales', 'stock']} />\n        <CreateButton basePath=\"/products\" />\n        <ExportButton />\n    </TopToolbar>\n);\n\nconst ProductList = (props: ListProps) => {\n    const isSmall = useMediaQuery<Theme>(theme => theme.breakpoints.down('sm'));\n    return (\n        <ListBase\n            perPage={20}\n            sort={{ field: 'reference', order: 'ASC' }}\n            {...props}\n        >\n            <ProductListView isSmall={isSmall} />\n        </ListBase>\n    );\n};\n\nconst ProductListView = ({ isSmall }: { isSmall: boolean }) => {\n    const { defaultTitle } = useListContext();\n    return (\n        <>\n            <Title defaultTitle={defaultTitle} />\n            <FilterContext.Provider value={productFilters}>\n                <ListActions isSmall={isSmall} />\n                {isSmall && (\n                    <Box m={1}>\n                        <FilterForm />\n                    </Box>\n                )}\n            </FilterContext.Provider>\n            <Box display=\"flex\">\n                <Aside />\n                <Box width={isSmall ? 'auto' : 'calc(100% - 16em)'}>\n                    <GridList />\n                    <Pagination rowsPerPageOptions={[10, 20, 40]} />\n                </Box>\n            </Box>\n        </>\n    );\n};\nexport default ProductList;\n","/**\n * Escape special characters in path so that react-router Route does not do any special treatment\n *\n * @see https://github.com/ReactTraining/react-router/blob/v3/docs/guides/RouteMatching.md#path-syntax\n *\n * @example\n *\n * escapePath('/foo(bar)') => 'foo\\(bar\\)'\n */\nexport default (function (url) { return url.replace(/(\\(|\\))/g, '\\\\$1'); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement, isValidElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Tabs from '@material-ui/core/Tabs';\nimport { useLocation } from 'react-router-dom';\nvar TabbedFormTabs = function (props) {\n    var children = props.children, classes = props.classes, url = props.url, syncWithLocation = props.syncWithLocation, value = props.value, rest = __rest(props, [\"children\", \"classes\", \"url\", \"syncWithLocation\", \"value\"]);\n    var location = useLocation();\n    var validTabPaths = Children.map(children, function (tab, index) {\n        if (!isValidElement(tab))\n            return undefined;\n        return getTabFullPath(tab, index, url);\n    });\n    // This ensures we don't get warnings from material-ui Tabs component when\n    // the current location pathname targets a dynamically added Tab\n    // In the case the targeted Tab is not present at first render (when\n    // using permissions for example) we temporarily switch to the first\n    // available tab. The current location will be applied again on the\n    // first render containing the targeted tab. This is almost transparent\n    // for the user who may just see a short tab selection animation\n    var tabValue = validTabPaths.includes(location.pathname)\n        ? location.pathname\n        : validTabPaths[0];\n    return (React.createElement(Tabs, __assign({ value: syncWithLocation ? tabValue : value, indicatorColor: \"primary\" }, rest), Children.map(children, function (tab, index) {\n        if (!isValidElement(tab))\n            return null;\n        // Builds the full tab which is the concatenation of the last matched route in the\n        // TabbedShowLayout hierarchy (ex: '/posts/create', '/posts/12', , '/posts/12/show')\n        // and the tab path.\n        // This will be used as the Tab's value\n        var tabPath = getTabFullPath(tab, index, url);\n        return cloneElement(tab, {\n            intent: 'header',\n            value: syncWithLocation ? tabPath : index,\n            classes: classes,\n            syncWithLocation: syncWithLocation,\n        });\n    })));\n};\nTabbedFormTabs.propTypes = {\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    url: PropTypes.string,\n    tabsWithErrors: PropTypes.arrayOf(PropTypes.string),\n};\nexport var getTabFullPath = function (tab, index, baseUrl) {\n    return (\"\" + baseUrl + (tab.props.path ? \"/\" + tab.props.path : index > 0 ? \"/\" + index : '')).replace('//', '/');\n}; // Because baseUrl can be a single / when on the first tab\nexport default TabbedFormTabs;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement, isValidElement, useState, } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Route, useRouteMatch, useLocation } from 'react-router-dom';\nimport { Divider } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { escapePath, } from 'ra-core';\nimport Toolbar from './Toolbar';\nimport TabbedFormTabs, { getTabFullPath } from './TabbedFormTabs';\nexport var TabbedFormView = function (props) {\n    var basePath = props.basePath, children = props.children, className = props.className, classesOverride = props.classes, formRootPathname = props.formRootPathname, handleSubmit = props.handleSubmit, handleSubmitWithRedirect = props.handleSubmitWithRedirect, invalid = props.invalid, mutationMode = props.mutationMode, pristine = props.pristine, record = props.record, defaultRedirect = props.redirect, resource = props.resource, saving = props.saving, submitOnEnter = props.submitOnEnter, _a = props.syncWithLocation, syncWithLocation = _a === void 0 ? true : _a, tabs = props.tabs, toolbar = props.toolbar, undoable = props.undoable, variant = props.variant, margin = props.margin, validating = props.validating, rest = __rest(props, [\"basePath\", \"children\", \"className\", \"classes\", \"formRootPathname\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"mutationMode\", \"pristine\", \"record\", \"redirect\", \"resource\", \"saving\", \"submitOnEnter\", \"syncWithLocation\", \"tabs\", \"toolbar\", \"undoable\", \"variant\", \"margin\", \"validating\"]);\n    var classes = useTabbedFormViewStyles(props);\n    var match = useRouteMatch();\n    var location = useLocation();\n    var url = match ? match.url : location.pathname;\n    var _b = useState(0), tabValue = _b[0], setTabValue = _b[1];\n    var handleTabChange = function (event, value) {\n        if (!syncWithLocation) {\n            setTabValue(value);\n        }\n    };\n    return (React.createElement(\"form\", __assign({ className: classnames('tabbed-form', className) }, sanitizeRestProps(rest)),\n        cloneElement(tabs, {\n            classes: classes,\n            url: url,\n            syncWithLocation: syncWithLocation,\n            onChange: handleTabChange,\n            value: tabValue,\n        }, children),\n        React.createElement(Divider, null),\n        React.createElement(\"div\", { className: classes.content }, Children.map(children, function (tab, index) {\n            if (!tab) {\n                return;\n            }\n            var tabPath = getTabFullPath(tab, index, url);\n            return (React.createElement(Route, { exact: true, path: escapePath(tabPath) }, function (routeProps) {\n                return isValidElement(tab)\n                    ? React.cloneElement(tab, {\n                        intent: 'content',\n                        classes: classes,\n                        resource: resource,\n                        record: record,\n                        basePath: basePath,\n                        hidden: syncWithLocation\n                            ? !routeProps.match\n                            : tabValue !== index,\n                        variant: tab.props.variant || variant,\n                        margin: tab.props.margin || margin,\n                        value: syncWithLocation\n                            ? tabPath\n                            : index,\n                    })\n                    : null;\n            }));\n        })),\n        toolbar &&\n            React.cloneElement(toolbar, {\n                basePath: basePath,\n                className: 'toolbar',\n                handleSubmitWithRedirect: handleSubmitWithRedirect,\n                handleSubmit: handleSubmit,\n                invalid: invalid,\n                mutationMode: mutationMode,\n                pristine: pristine,\n                record: record,\n                redirect: defaultRedirect,\n                resource: resource,\n                saving: saving,\n                submitOnEnter: submitOnEnter,\n                validating: validating,\n                undoable: undoable,\n            })));\n};\nexport var useTabbedFormViewStyles = makeStyles(function (theme) { return ({\n    errorTabButton: { color: theme.palette.error.main },\n    content: {\n        paddingTop: theme.spacing(1),\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n    },\n}); }, { name: 'RaTabbedForm' });\nTabbedFormView.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.node,\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    defaultValue: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n    handleSubmit: PropTypes.func,\n    initialValues: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n    invalid: PropTypes.bool,\n    location: PropTypes.object,\n    match: PropTypes.object,\n    mutationMode: PropTypes.oneOf(['pessimistic', 'optimistic', 'undoable']),\n    pristine: PropTypes.bool,\n    // @ts-ignore\n    record: PropTypes.object,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    save: PropTypes.func,\n    saving: PropTypes.bool,\n    submitOnEnter: PropTypes.bool,\n    tabs: PropTypes.element.isRequired,\n    toolbar: PropTypes.element,\n    translate: PropTypes.func,\n    undoable: PropTypes.bool,\n    validate: PropTypes.func,\n    value: PropTypes.number,\n    version: PropTypes.number,\n};\nTabbedFormView.defaultProps = {\n    submitOnEnter: true,\n    tabs: React.createElement(TabbedFormTabs, null),\n    toolbar: React.createElement(Toolbar, null),\n};\nvar sanitizeRestProps = function (_a) {\n    var active = _a.active, dirty = _a.dirty, dirtyFields = _a.dirtyFields, dirtyFieldsSinceLastSubmit = _a.dirtyFieldsSinceLastSubmit, dirtySinceLastSubmit = _a.dirtySinceLastSubmit, error = _a.error, errors = _a.errors, form = _a.form, hasSubmitErrors = _a.hasSubmitErrors, hasValidationErrors = _a.hasValidationErrors, initialValues = _a.initialValues, _b = _a.modified, modified = _b === void 0 ? null : _b, modifiedSinceLastSubmit = _a.modifiedSinceLastSubmit, _c = _a.save, save = _c === void 0 ? null : _c, submitError = _a.submitError, submitErrors = _a.submitErrors, submitFailed = _a.submitFailed, submitSucceeded = _a.submitSucceeded, submitting = _a.submitting, _d = _a.touched, touched = _d === void 0 ? null : _d, valid = _a.valid, values = _a.values, _e = _a.visited, visited = _e === void 0 ? null : _e, _f = _a.__versions, __versions = _f === void 0 ? null : _f, props = __rest(_a, [\"active\", \"dirty\", \"dirtyFields\", \"dirtyFieldsSinceLastSubmit\", \"dirtySinceLastSubmit\", \"error\", \"errors\", \"form\", \"hasSubmitErrors\", \"hasValidationErrors\", \"initialValues\", \"modified\", \"modifiedSinceLastSubmit\", \"save\", \"submitError\", \"submitErrors\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touched\", \"valid\", \"values\", \"visited\", \"__versions\"]);\n    return props;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport * as React from 'react';\nimport { Children, isValidElement, } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormWithRedirect, } from 'ra-core';\nimport get from 'lodash/get';\nimport { useRouteMatch, useLocation } from 'react-router';\nimport { TabbedFormView } from './TabbedFormView';\n/**\n * Form layout where inputs are divided by tab, one input per line.\n *\n * Pass FormTab components as children.\n *\n * @example\n *\n * import * as React from \"react\";\n * import {\n *     Edit,\n *     TabbedForm,\n *     FormTab,\n *     Datagrid,\n *     TextField,\n *     DateField,\n *     TextInput,\n *     ReferenceManyField,\n *     NumberInput,\n *     DateInput,\n *     BooleanInput,\n *     EditButton\n * } from 'react-admin';\n *\n * export const PostEdit = (props) => (\n *     <Edit {...props}>\n *         <TabbedForm>\n *             <FormTab label=\"summary\">\n *                 <TextInput disabled label=\"Id\" source=\"id\" />\n *                 <TextInput source=\"title\" validate={required()} />\n *                 <TextInput multiline source=\"teaser\" validate={required()} />\n *             </FormTab>\n *             <FormTab label=\"body\">\n *                 <RichTextInput source=\"body\" validate={required()} addLabel={false} />\n *             </FormTab>\n *             <FormTab label=\"Miscellaneous\">\n *                 <TextInput label=\"Password (if protected post)\" source=\"password\" type=\"password\" />\n *                 <DateInput label=\"Publication date\" source=\"published_at\" />\n *                 <NumberInput source=\"average_note\" validate={[ number(), minValue(0) ]} />\n *                 <BooleanInput label=\"Allow comments?\" source=\"commentable\" defaultValue />\n *                 <TextInput disabled label=\"Nb views\" source=\"views\" />\n *             </FormTab>\n *             <FormTab label=\"comments\">\n *                 <ReferenceManyField reference=\"comments\" target=\"post_id\" addLabel={false}>\n *                     <Datagrid>\n *                         <TextField source=\"body\" />\n *                         <DateField source=\"created_at\" />\n *                         <EditButton />\n *                     </Datagrid>\n *                 </ReferenceManyField>\n *             </FormTab>\n *         </TabbedForm>\n *     </Edit>\n * );\n *\n * @typedef {Object} Props the props you can use (other props are injected by Create or Edit)\n * @prop {ReactElement[]} FormTab elements\n * @prop {Object} initialValues\n * @prop {Function} validate\n * @prop {boolean} submitOnEnter\n * @prop {string} redirect\n * @prop {ReactElement} toolbar The element displayed at the bottom of the form, containing the SaveButton\n * @prop {string} variant Apply variant to all inputs. Possible values are 'standard', 'outlined', and 'filled' (default)\n * @prop {string} margin Apply variant to all inputs. Possible values are 'none', 'normal', and 'dense' (default)\n * @prop {boolean} sanitizeEmptyValues Whether or not deleted record attributes should be recreated with a `null` value (default: true)\n *\n * @param {Props} props\n */\nexport var TabbedForm = function (props) {\n    var match = useRouteMatch();\n    var location = useLocation();\n    var formRootPathname = match ? match.url : location.pathname;\n    return (React.createElement(FormWithRedirect, __assign({}, props, { formRootPathname: formRootPathname, render: function (formProps) { return React.createElement(TabbedFormView, __assign({}, formProps)); } })));\n};\nTabbedForm.propTypes = {\n    children: PropTypes.node,\n    initialValues: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n    mutationMode: PropTypes.oneOf(['pessimistic', 'optimistic', 'undoable']),\n    // @ts-ignore\n    record: PropTypes.object,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    save: PropTypes.func,\n    saving: PropTypes.bool,\n    submitOnEnter: PropTypes.bool,\n    undoable: PropTypes.bool,\n    validate: PropTypes.func,\n    sanitizeEmptyValues: PropTypes.bool,\n};\nexport var findTabsWithErrors = function (children, errors) {\n    console.warn('Deprecated. FormTab now wrap their content inside a FormGroupContextProvider. If you implemented custom forms with tabs, please use the FormGroupContextProvider. See https://marmelab.com/react-admin/CreateEdit.html#grouping-inputs');\n    return Children.toArray(children).reduce(function (acc, child) {\n        if (!isValidElement(child)) {\n            return acc;\n        }\n        var inputs = Children.toArray(child.props.children);\n        if (inputs.some(function (input) {\n            return isValidElement(input) && get(errors, input.props.source);\n        })) {\n            return __spreadArray(__spreadArray([], acc, true), [child.props.label], false);\n        }\n        return acc;\n    }, []);\n};\n","import * as React from 'react';\nimport { useEffect } from 'react';\nimport { FormGroupContext } from './FormGroupContext';\nimport { useFormContext } from './useFormContext';\n/**\n * This provider allows its input children to register to a specific group.\n * This enables other components in the group to access group properties such as its\n * validation (valid/invalid) or whether its inputs have been updated (dirty/pristine).\n *\n * @example\n * import { Edit, SimpleForm, TextInput, FormGroupContextProvider, useFormGroup } from 'react-admin';\n * import { Accordion, AccordionDetails, AccordionSummary, Typography } from '@material-ui/core';\n *\n * const PostEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <TextInput source=\"title\" />\n *             <FormGroupContextProvider name=\"options\">\n *                 <Accordion>\n *                     <AccordionSummary\n *                         expandIcon={<ExpandMoreIcon />}\n *                         aria-controls=\"options-content\"\n *                         id=\"options-header\"\n *                     >\n *                         <AccordionSectionTitle name=\"options\">Options</AccordionSectionTitle>\n *                     </AccordionSummary>\n *                     <AccordionDetails id=\"options-content\" aria-labelledby=\"options-header\">\n *                         <TextInput source=\"teaser\" validate={minLength(20)} />\n *                     </AccordionDetails>\n *                 </Accordion>\n *             </FormGroupContextProvider>\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * const AccordionSectionTitle = ({ children, name }) => {\n *     const formGroupState = useFormGroup(name);\n *     return (\n *         <Typography color={formGroupState.invalid && formGroupState.dirty ? 'error' : 'inherit'}>\n *             {children}\n *         </Typography>\n *     );\n * }\n *\n * @param props The component props\n * @param {ReactNode} props.children The form group content\n * @param {String} props.name The form group name\n */\nexport var FormGroupContextProvider = function (_a) {\n    var children = _a.children, name = _a.name;\n    var formContext = useFormContext();\n    useEffect(function () {\n        if (!formContext ||\n            !formContext.registerGroup ||\n            !formContext.unregisterGroup) {\n            console.warn(\"The FormGroupContextProvider can only be used inside a FormContext such as provided by the SimpleForm and TabbedForm components\");\n            return;\n        }\n        formContext.registerGroup(name);\n        return function () {\n            formContext.unregisterGroup(name);\n        };\n    }, [formContext, name]);\n    return (React.createElement(FormGroupContext.Provider, { value: name }, children));\n};\n","import { useState, useEffect } from 'react';\nimport { useForm } from 'react-final-form';\nimport isEqual from 'lodash/isEqual';\nimport { useFormContext } from './useFormContext';\n/**\n * Retrieve a specific form group data such as its validation status (valid/invalid) or\n * or whether its inputs have been updated (dirty/pristine)\n *\n * @example\n * import { Edit, SimpleForm, TextInput, FormGroupContextProvider, useFormGroup } from 'react-admin';\n * import { Accordion, AccordionDetails, AccordionSummary, Typography } from '@material-ui/core';\n *\n * const PostEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <TextInput source=\"title\" />\n *             <FormGroupContextProvider name=\"options\">\n *                 <Accordion>\n *                     <AccordionSummary\n *                         expandIcon={<ExpandMoreIcon />}\n *                         aria-controls=\"options-content\"\n *                         id=\"options-header\"\n *                     >\n *                         <AccordionSectionTitle name=\"options\">Options</AccordionSectionTitle>\n *                     </AccordionSummary>\n *                     <AccordionDetails id=\"options-content\" aria-labelledby=\"options-header\">\n *                         <TextInput source=\"teaser\" validate={minLength(20)} />\n *                     </AccordionDetails>\n *                 </Accordion>\n *             </FormGroupContextProvider>\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * const AccordionSectionTitle = ({ children, name }) => {\n *     const formGroupState = useFormGroup(name);\n *     return (\n *         <Typography color={formGroupState.invalid && formGroupState.dirty ? 'error' : 'inherit'}>\n *             {children}\n *         </Typography>\n *     );\n * }\n *\n * @param {string} name The form group name\n * @returns {FormGroupState} The form group state\n */\nexport var useFormGroup = function (name) {\n    var form = useForm();\n    var formContext = useFormContext();\n    var _a = useState({\n        dirty: false,\n        errors: undefined,\n        invalid: false,\n        pristine: true,\n        touched: false,\n        valid: true,\n    }), state = _a[0], setState = _a[1];\n    useEffect(function () {\n        var unsubscribe = form.subscribe(function () {\n            var fields = formContext.getGroupFields(name);\n            var fieldStates = fields\n                .map(function (field) {\n                return form.getFieldState(field);\n            })\n                .filter(function (fieldState) { return fieldState != undefined; }); // eslint-disable-line\n            var newState = getFormGroupState(fieldStates);\n            setState(function (oldState) {\n                if (!isEqual(oldState, newState)) {\n                    return newState;\n                }\n                return oldState;\n            });\n        }, {\n            errors: true,\n            invalid: true,\n            dirty: true,\n            pristine: true,\n            valid: true,\n            touched: true,\n        });\n        return unsubscribe;\n    }, [form, formContext, name]);\n    return state;\n};\n/**\n * Get the state of a form group\n *\n * @param {FieldState[]} fieldStates A map of field states from final-form where the key is the field name.\n * @returns {FormGroupState} The state of the group.\n */\nexport var getFormGroupState = function (fieldStates) {\n    return fieldStates.reduce(function (acc, fieldState) {\n        var errors = acc.errors || {};\n        if (fieldState.error) {\n            errors[fieldState.name] = fieldState.error;\n        }\n        var newState = {\n            dirty: acc.dirty || fieldState.dirty,\n            errors: errors,\n            invalid: acc.invalid || fieldState.invalid,\n            pristine: acc.pristine && fieldState.pristine,\n            touched: acc.touched || fieldState.touched,\n            valid: acc.valid && fieldState.valid,\n        };\n        return newState;\n    }, {\n        dirty: false,\n        errors: undefined,\n        invalid: false,\n        pristine: true,\n        valid: true,\n        touched: false,\n    });\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { isValidElement } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport MuiTab from '@material-ui/core/Tab';\nimport classnames from 'classnames';\nimport { useTranslate, useFormGroup } from 'ra-core';\nimport { useFormState } from 'react-final-form';\nexport var FormTabHeader = function (_a) {\n    var _b;\n    var classes = _a.classes, label = _a.label, value = _a.value, icon = _a.icon, className = _a.className, syncWithLocation = _a.syncWithLocation, rest = __rest(_a, [\"classes\", \"label\", \"value\", \"icon\", \"className\", \"syncWithLocation\"]);\n    var translate = useTranslate();\n    var location = useLocation();\n    var submitFailed = useFormState(UseFormStateOptions).submitFailed;\n    var formGroup = useFormGroup(value.toString());\n    var propsForLink = {\n        component: Link,\n        to: __assign(__assign({}, location), { pathname: value }),\n    };\n    return (React.createElement(MuiTab, __assign({ label: isValidElement(label) ? label : translate(label, { _: label }), value: value, icon: icon, className: classnames('form-tab', className, (_b = {},\n            _b[classes.errorTabButton] = formGroup.invalid && (formGroup.touched || submitFailed),\n            _b)) }, (syncWithLocation ? propsForLink : {}), { id: \"tabheader-\" + value, \"aria-controls\": \"tabpanel-\" + value }, rest)));\n};\nvar UseFormStateOptions = {\n    subscription: {\n        submitFailed: true,\n    },\n};\nFormTabHeader.propTypes = {\n    basePath: PropTypes.string,\n    className: PropTypes.string,\n    contentClassName: PropTypes.string,\n    children: PropTypes.node,\n    intent: PropTypes.oneOf(['header', 'content']),\n    hidden: PropTypes.bool,\n    icon: PropTypes.element,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.element])\n        .isRequired,\n    margin: PropTypes.oneOf(['none', 'dense', 'normal']),\n    path: PropTypes.string,\n    // @ts-ignore\n    record: PropTypes.object,\n    resource: PropTypes.string,\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    variant: PropTypes.oneOf(['standard', 'outlined', 'filled']),\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormGroupContextProvider } from 'ra-core';\nimport FormInput from './FormInput';\nimport { FormTabHeader } from './FormTabHeader';\nvar hiddenStyle = { display: 'none' };\nexport var FormTab = function (props) {\n    var basePath = props.basePath, className = props.className, classes = props.classes, contentClassName = props.contentClassName, children = props.children, hidden = props.hidden, icon = props.icon, intent = props.intent, label = props.label, margin = props.margin, path = props.path, record = props.record, resource = props.resource, variant = props.variant, value = props.value, rest = __rest(props, [\"basePath\", \"className\", \"classes\", \"contentClassName\", \"children\", \"hidden\", \"icon\", \"intent\", \"label\", \"margin\", \"path\", \"record\", \"resource\", \"variant\", \"value\"]);\n    var renderHeader = function () { return (React.createElement(FormTabHeader, __assign({ label: label, value: value, icon: icon, className: className, classes: classes }, rest))); };\n    var renderContent = function () { return (React.createElement(FormGroupContextProvider, { name: value.toString() },\n        React.createElement(\"span\", { style: hidden ? hiddenStyle : null, className: contentClassName, id: \"tabpanel-\" + value, \"aria-labelledby\": \"tabheader-\" + value, \"aria-hidden\": hidden || undefined }, React.Children.map(children, function (input) {\n            return input && (React.createElement(FormInput, { basePath: basePath, input: input, record: record, resource: resource, variant: input.props.variant || variant, margin: input.props.margin || margin }));\n        })))); };\n    return intent === 'header' ? renderHeader() : renderContent();\n};\nFormTab.propTypes = {\n    basePath: PropTypes.string,\n    className: PropTypes.string,\n    contentClassName: PropTypes.string,\n    children: PropTypes.node,\n    intent: PropTypes.oneOf(['header', 'content']),\n    hidden: PropTypes.bool,\n    icon: PropTypes.element,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.element])\n        .isRequired,\n    margin: PropTypes.oneOf(['none', 'dense', 'normal']),\n    path: PropTypes.string,\n    // @ts-ignore\n    record: PropTypes.object,\n    resource: PropTypes.string,\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    variant: PropTypes.oneOf(['standard', 'outlined', 'filled']),\n};\nFormTab.displayName = 'FormTab';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport get from 'lodash/get';\nimport { useCallback, useEffect, useRef } from 'react';\nimport isEqual from 'lodash/isEqual';\nimport { useSafeSetState, removeEmpty } from '../../util';\nimport { useGetManyReference } from '../../dataProvider';\nimport { useNotify } from '../../sideEffect';\nimport usePaginationState from '../usePaginationState';\nimport useSelectionState from '../useSelectionState';\nimport useSortState from '../useSortState';\nimport { useResourceContext } from '../../core';\nvar defaultFilter = {};\n/**\n * Fetch reference records, and return them when available\n *\n * The reference prop should be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n *\n * const { loaded, referenceRecord, resourceLinkPath } = useReferenceManyFieldController({\n *     resource\n *     reference: 'users',\n *     record: {\n *         userId: 7\n *     }\n *     target: 'comments',\n *     source: 'userId',\n *     basePath: '/comments',\n *     page: 1,\n *     perPage: 25,\n * });\n *\n * @param {Object} props\n * @param {string} props.resource The current resource name\n * @param {string} props.reference The linked resource name\n * @param {Object} props.record The current resource record\n * @param {string} props.target The target resource key\n * @param {Object} props.filter The filter applied on the recorded records list\n * @param {string} props.source The key of the linked resource identifier\n * @param {string} props.basePath basepath to current resource\n * @param {number} props.page the page number\n * @param {number} props.perPage the number of item per page\n * @param {Object} props.sort the sort to apply to the referenced records\n *\n * @returns {ReferenceManyProps} The reference many props\n */\nvar useReferenceManyFieldController = function (props) {\n    var reference = props.reference, record = props.record, target = props.target, _a = props.filter, filter = _a === void 0 ? defaultFilter : _a, source = props.source, basePath = props.basePath, initialPage = props.page, initialPerPage = props.perPage, _b = props.sort, initialSort = _b === void 0 ? { field: 'id', order: 'DESC' } : _b;\n    var resource = useResourceContext(props);\n    var notify = useNotify();\n    // pagination logic\n    var _c = usePaginationState({\n        page: initialPage,\n        perPage: initialPerPage,\n    }), page = _c.page, setPage = _c.setPage, perPage = _c.perPage, setPerPage = _c.setPerPage;\n    // sort logic\n    var _d = useSortState(initialSort), sort = _d.sort, setSortObject = _d.setSort;\n    var setSort = useCallback(function (field, order) {\n        if (order === void 0) { order = 'ASC'; }\n        setSortObject({ field: field, order: order });\n        setPage(1);\n    }, [setPage, setSortObject]);\n    // selection logic\n    var _e = useSelectionState(), selectedIds = _e.selectedIds, onSelect = _e.onSelect, onToggleItem = _e.onToggleItem, onUnselectItems = _e.onUnselectItems;\n    // filter logic\n    var filterRef = useRef(filter);\n    var _f = useSafeSetState({}), displayedFilters = _f[0], setDisplayedFilters = _f[1];\n    var _g = useSafeSetState(filter), filterValues = _g[0], setFilterValues = _g[1];\n    var hideFilter = useCallback(function (filterName) {\n        setDisplayedFilters(function (previousState) {\n            var _a = previousState, _b = filterName, _ = _a[_b], newState = __rest(_a, [typeof _b === \"symbol\" ? _b : _b + \"\"]);\n            return newState;\n        });\n        setFilterValues(function (previousState) {\n            var _a = previousState, _b = filterName, _ = _a[_b], newState = __rest(_a, [typeof _b === \"symbol\" ? _b : _b + \"\"]);\n            return newState;\n        });\n    }, [setDisplayedFilters, setFilterValues]);\n    var showFilter = useCallback(function (filterName, defaultValue) {\n        setDisplayedFilters(function (previousState) {\n            var _a;\n            return (__assign(__assign({}, previousState), (_a = {}, _a[filterName] = true, _a)));\n        });\n        setFilterValues(function (previousState) {\n            var _a;\n            return (__assign(__assign({}, previousState), (_a = {}, _a[filterName] = defaultValue, _a)));\n        });\n    }, [setDisplayedFilters, setFilterValues]);\n    var setFilters = useCallback(function (filters, displayedFilters) {\n        setFilterValues(removeEmpty(filters));\n        setDisplayedFilters(displayedFilters);\n        setPage(1);\n    }, [setDisplayedFilters, setFilterValues, setPage]);\n    // handle filter prop change\n    useEffect(function () {\n        if (!isEqual(filter, filterRef.current)) {\n            filterRef.current = filter;\n            setFilterValues(filter);\n        }\n    });\n    var referenceId = get(record, source);\n    var _h = useGetManyReference(reference, target, referenceId, { page: page, perPage: perPage }, sort, filterValues, resource, {\n        onFailure: function (error) {\n            return notify(typeof error === 'string'\n                ? error\n                : error.message || 'ra.notification.http_error', 'warning', {\n                _: typeof error === 'string'\n                    ? error\n                    : error && error.message\n                        ? error.message\n                        : undefined,\n            });\n        },\n    }), data = _h.data, ids = _h.ids, total = _h.total, error = _h.error, loading = _h.loading, loaded = _h.loaded, refetch = _h.refetch;\n    return {\n        basePath: basePath\n            ? basePath.replace(resource, reference)\n            : \"/\" + reference,\n        currentSort: sort,\n        data: data,\n        defaultTitle: null,\n        displayedFilters: displayedFilters,\n        error: error,\n        filterValues: filterValues,\n        hasCreate: false,\n        hideFilter: hideFilter,\n        ids: ids,\n        loaded: loaded,\n        loading: loading,\n        onSelect: onSelect,\n        onToggleItem: onToggleItem,\n        onUnselectItems: onUnselectItems,\n        page: page,\n        perPage: perPage,\n        refetch: refetch,\n        resource: reference,\n        selectedIds: selectedIds,\n        setFilters: setFilters,\n        setPage: setPage,\n        setPerPage: setPerPage,\n        setSort: setSort,\n        showFilter: showFilter,\n        total: total,\n    };\n};\nexport default useReferenceManyFieldController;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { cloneElement, Children } from 'react';\nimport PropTypes from 'prop-types';\nimport { useReferenceManyFieldController, ListContextProvider, ResourceContextProvider, useRecordContext, } from 'ra-core';\nimport { useSelector } from 'react-redux';\nimport { fieldPropTypes } from './types';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\n/**\n * Render related records to the current one.\n *\n * You must define the fields to be passed to the iterator component as children.\n *\n * @example Display all the comments of the current post as a datagrid\n * <ReferenceManyField reference=\"comments\" target=\"post_id\">\n *     <Datagrid>\n *         <TextField source=\"id\" />\n *         <TextField source=\"body\" />\n *         <DateField source=\"created_at\" />\n *         <EditButton />\n *     </Datagrid>\n * </ReferenceManyField>\n *\n * @example Display all the books by the current author, only the title\n * <ReferenceManyField reference=\"books\" target=\"author_id\">\n *     <SingleFieldList>\n *         <ChipField source=\"title\" />\n *     </SingleFieldList>\n * </ReferenceManyField>\n *\n * By default, restricts the displayed values to 25. You can extend this limit\n * by setting the `perPage` prop.\n *\n * @example\n * <ReferenceManyField perPage={10} reference=\"comments\" target=\"post_id\">\n *    ...\n * </ReferenceManyField>\n *\n * By default, orders the possible values by id desc. You can change this order\n * by setting the `sort` prop (an object with `field` and `order` properties).\n *\n * @example\n * <ReferenceManyField sort={{ field: 'created_at', order: 'DESC' }} reference=\"comments\" target=\"post_id\">\n *    ...\n * </ReferenceManyField>\n *\n * Also, you can filter the query used to populate the possible values. Use the\n * `filter` prop for that.\n *\n * @example\n * <ReferenceManyField filter={{ is_published: true }} reference=\"comments\" target=\"post_id\">\n *    ...\n * </ReferenceManyField>\n */\nexport var ReferenceManyField = function (props) {\n    var basePath = props.basePath, children = props.children, filter = props.filter, _a = props.page, page = _a === void 0 ? 1 : _a, perPage = props.perPage, reference = props.reference, resource = props.resource, sort = props.sort, source = props.source, target = props.target;\n    var record = useRecordContext(props);\n    if (React.Children.count(children) !== 1) {\n        throw new Error('<ReferenceManyField> only accepts a single child (like <Datagrid>)');\n    }\n    var isReferenceDeclared = useSelector(function (state) { return typeof state.admin.resources[props.reference] !== 'undefined'; });\n    if (!isReferenceDeclared) {\n        throw new Error(\"You must declare a <Resource name=\\\"\" + props.reference + \"\\\"> in order to use a <ReferenceManyField reference=\\\"\" + props.reference + \"\\\">\");\n    }\n    var controllerProps = useReferenceManyFieldController({\n        basePath: basePath,\n        filter: filter,\n        page: page,\n        perPage: perPage,\n        record: record,\n        reference: reference,\n        resource: resource,\n        sort: sort,\n        source: source,\n        target: target,\n    });\n    return (React.createElement(ResourceContextProvider, { value: reference },\n        React.createElement(ListContextProvider, { value: controllerProps },\n            React.createElement(ReferenceManyFieldView, __assign({}, props, controllerProps)))));\n};\nReferenceManyField.propTypes = {\n    addLabel: PropTypes.bool,\n    basePath: PropTypes.string,\n    children: PropTypes.element.isRequired,\n    className: PropTypes.string,\n    filter: PropTypes.object,\n    label: PropTypes.string,\n    perPage: PropTypes.number,\n    record: PropTypes.any,\n    reference: PropTypes.string.isRequired,\n    resource: PropTypes.string,\n    sortBy: PropTypes.string,\n    sortByOrder: fieldPropTypes.sortByOrder,\n    source: PropTypes.string.isRequired,\n    sort: PropTypes.exact({\n        field: PropTypes.string,\n        order: PropTypes.string,\n    }),\n    target: PropTypes.string.isRequired,\n};\nReferenceManyField.defaultProps = {\n    filter: {},\n    perPage: 25,\n    sort: { field: 'id', order: 'DESC' },\n    source: 'id',\n    addLabel: true,\n};\nexport var ReferenceManyFieldView = function (props) {\n    var basePath = props.basePath, children = props.children, pagination = props.pagination, reference = props.reference, rest = __rest(props, [\"basePath\", \"children\", \"pagination\", \"reference\"]);\n    return (React.createElement(React.Fragment, null,\n        cloneElement(Children.only(children), __assign(__assign({}, sanitizeFieldRestProps(rest)), { basePath: basePath, resource: reference })),\n        pagination &&\n            props.total !== undefined &&\n            cloneElement(pagination)));\n};\nReferenceManyFieldView.propTypes = {\n    basePath: PropTypes.string.isRequired,\n    children: PropTypes.element,\n    className: PropTypes.string,\n    currentSort: PropTypes.exact({\n        field: PropTypes.string,\n        order: PropTypes.string,\n    }),\n    data: PropTypes.any,\n    ids: PropTypes.array,\n    loaded: PropTypes.bool,\n    pagination: PropTypes.element,\n    reference: PropTypes.string,\n    setSort: PropTypes.func,\n};\nexport default ReferenceManyField;\n","// converted from vendor (node_modules/quill/dist/quill.snow.css) using the jss cli\nexport default {\n    '.ql-container': {\n        boxSizing: 'border-box',\n        fontFamily: 'Helvetica, Arial, sans-serif',\n        fontSize: 13,\n        height: '100%',\n        margin: 0,\n        position: 'relative',\n    },\n    '.ql-container.ql-disabled .ql-tooltip': {\n        visibility: 'hidden',\n    },\n    '.ql-container.ql-disabled .ql-editor ul[data-checked] > li::before': {\n        pointerEvents: 'none',\n    },\n    '.ql-clipboard': {\n        left: -100000,\n        height: 1,\n        overflowY: 'hidden',\n        position: 'absolute',\n        top: '50%',\n    },\n    '.ql-clipboard p': {\n        margin: '0',\n        padding: '0',\n    },\n    '.ql-editor': {\n        boxSizing: 'border-box',\n        lineHeight: '1.42',\n        height: '100%',\n        outline: 'none',\n        overflowY: 'auto',\n        padding: '12px 15px',\n        tabSize: '4',\n        textAlign: 'left',\n        whiteSpace: 'pre-wrap',\n        wordWrap: 'break-word',\n    },\n    '.ql-editor > *': {\n        cursor: 'text',\n    },\n    '.ql-editor p, .ql-editor ol, .ql-editor ul, .ql-editor pre, .ql-editor blockquote, .ql-editor h1, .ql-editor h2, .ql-editor h3, .ql-editor h4, .ql-editor h5, .ql-editor h6': {\n        margin: '0',\n        padding: '0',\n        counterReset: 'list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9',\n    },\n    '.ql-editor ol, .ql-editor ul': {\n        paddingLeft: '1.5em',\n    },\n    '.ql-editor ol > li, .ql-editor ul > li': {\n        listStyleType: 'none',\n    },\n    '.ql-editor ul > li::before': {\n        content: \"'\\\\2022'\",\n    },\n    '.ql-editor ul[data-checked=true], .ql-editor ul[data-checked=false]': {\n        pointerEvents: 'none',\n    },\n    '.ql-editor ul[data-checked=true] > li *, .ql-editor ul[data-checked=false] > li *': {\n        pointerEvents: 'all',\n    },\n    '.ql-editor ul[data-checked=true] > li::before, .ql-editor ul[data-checked=false] > li::before': {\n        color: '#777',\n        cursor: 'pointer',\n        pointerEvents: 'all',\n    },\n    '.ql-editor ul[data-checked=true] > li::before': {\n        content: \"'\\\\2611'\",\n    },\n    '.ql-editor ul[data-checked=false] > li::before': {\n        content: \"'\\\\2610'\",\n    },\n    '.ql-editor li::before': {\n        display: 'inline-block',\n        whiteSpace: 'nowrap',\n        width: '1.2em',\n    },\n    '.ql-editor li:not(.ql-direction-rtl)::before': {\n        marginLeft: '-1.5em',\n        marginRight: '0.3em',\n        textAlign: 'right',\n    },\n    '.ql-editor li.ql-direction-rtl::before': {\n        marginLeft: '0.3em',\n        marginRight: '-1.5em',\n    },\n    '.ql-editor ol li:not(.ql-direction-rtl), .ql-editor ul li:not(.ql-direction-rtl)': {\n        paddingLeft: '1.5em',\n    },\n    '.ql-editor ol li.ql-direction-rtl, .ql-editor ul li.ql-direction-rtl': {\n        paddingRight: '1.5em',\n    },\n    '.ql-editor ol li': {\n        counterReset: 'list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9',\n        counterIncrement: 'list-0',\n    },\n    '.ql-editor ol li:before': {\n        content: \"counter(list-0, decimal) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-1': {\n        counterIncrement: 'list-1',\n        counterReset: 'list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9',\n    },\n    '.ql-editor ol li.ql-indent-1:before': {\n        content: \"counter(list-1, lower-alpha) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-2': {\n        counterIncrement: 'list-2',\n        counterReset: 'list-3 list-4 list-5 list-6 list-7 list-8 list-9',\n    },\n    '.ql-editor ol li.ql-indent-2:before': {\n        content: \"counter(list-2, lower-roman) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-3': {\n        counterIncrement: 'list-3',\n        counterReset: 'list-4 list-5 list-6 list-7 list-8 list-9',\n    },\n    '.ql-editor ol li.ql-indent-3:before': {\n        content: \"counter(list-3, decimal) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-4': {\n        counterIncrement: 'list-4',\n        counterReset: 'list-5 list-6 list-7 list-8 list-9',\n    },\n    '.ql-editor ol li.ql-indent-4:before': {\n        content: \"counter(list-4, lower-alpha) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-5': {\n        counterIncrement: 'list-5',\n        counterReset: 'list-6 list-7 list-8 list-9',\n    },\n    '.ql-editor ol li.ql-indent-5:before': {\n        content: \"counter(list-5, lower-roman) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-6': {\n        counterIncrement: 'list-6',\n        counterReset: 'list-7 list-8 list-9',\n    },\n    '.ql-editor ol li.ql-indent-6:before': {\n        content: \"counter(list-6, decimal) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-7': {\n        counterIncrement: 'list-7',\n        counterReset: 'list-8 list-9',\n    },\n    '.ql-editor ol li.ql-indent-7:before': {\n        content: \"counter(list-7, lower-alpha) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-8': {\n        counterIncrement: 'list-8',\n        counterReset: 'list-9',\n    },\n    '.ql-editor ol li.ql-indent-8:before': {\n        content: \"counter(list-8, lower-roman) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-9': {\n        counterIncrement: 'list-9',\n    },\n    '.ql-editor ol li.ql-indent-9:before': {\n        content: \"counter(list-9, decimal) '. '\",\n    },\n    '.ql-editor .ql-indent-1:not(.ql-direction-rtl)': {\n        paddingLeft: '3em',\n    },\n    '.ql-editor li.ql-indent-1:not(.ql-direction-rtl)': {\n        paddingLeft: '4.5em',\n    },\n    '.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right': {\n        paddingRight: '3em',\n    },\n    '.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right': {\n        paddingRight: '4.5em',\n    },\n    '.ql-editor .ql-indent-2:not(.ql-direction-rtl)': {\n        paddingLeft: '6em',\n    },\n    '.ql-editor li.ql-indent-2:not(.ql-direction-rtl)': {\n        paddingLeft: '7.5em',\n    },\n    '.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right': {\n        paddingRight: '6em',\n    },\n    '.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right': {\n        paddingRight: '7.5em',\n    },\n    '.ql-editor .ql-indent-3:not(.ql-direction-rtl)': {\n        paddingLeft: '9em',\n    },\n    '.ql-editor li.ql-indent-3:not(.ql-direction-rtl)': {\n        paddingLeft: '10.5em',\n    },\n    '.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right': {\n        paddingRight: '9em',\n    },\n    '.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right': {\n        paddingRight: '10.5em',\n    },\n    '.ql-editor .ql-indent-4:not(.ql-direction-rtl)': {\n        paddingLeft: '12em',\n    },\n    '.ql-editor li.ql-indent-4:not(.ql-direction-rtl)': {\n        paddingLeft: '13.5em',\n    },\n    '.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right': {\n        paddingRight: '12em',\n    },\n    '.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right': {\n        paddingRight: '13.5em',\n    },\n    '.ql-editor .ql-indent-5:not(.ql-direction-rtl)': {\n        paddingLeft: '15em',\n    },\n    '.ql-editor li.ql-indent-5:not(.ql-direction-rtl)': {\n        paddingLeft: '16.5em',\n    },\n    '.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right': {\n        paddingRight: '15em',\n    },\n    '.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right': {\n        paddingRight: '16.5em',\n    },\n    '.ql-editor .ql-indent-6:not(.ql-direction-rtl)': {\n        paddingLeft: '18em',\n    },\n    '.ql-editor li.ql-indent-6:not(.ql-direction-rtl)': {\n        paddingLeft: '19.5em',\n    },\n    '.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right': {\n        paddingRight: '18em',\n    },\n    '.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right': {\n        paddingRight: '19.5em',\n    },\n    '.ql-editor .ql-indent-7:not(.ql-direction-rtl)': {\n        paddingLeft: '21em',\n    },\n    '.ql-editor li.ql-indent-7:not(.ql-direction-rtl)': {\n        paddingLeft: '22.5em',\n    },\n    '.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right': {\n        paddingRight: '21em',\n    },\n    '.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right': {\n        paddingRight: '22.5em',\n    },\n    '.ql-editor .ql-indent-8:not(.ql-direction-rtl)': {\n        paddingLeft: '24em',\n    },\n    '.ql-editor li.ql-indent-8:not(.ql-direction-rtl)': {\n        paddingLeft: '25.5em',\n    },\n    '.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right': {\n        paddingRight: '24em',\n    },\n    '.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right': {\n        paddingRight: '25.5em',\n    },\n    '.ql-editor .ql-indent-9:not(.ql-direction-rtl)': {\n        paddingLeft: '27em',\n    },\n    '.ql-editor li.ql-indent-9:not(.ql-direction-rtl)': {\n        paddingLeft: '28.5em',\n    },\n    '.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right': {\n        paddingRight: '27em',\n    },\n    '.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right': {\n        paddingRight: '28.5em',\n    },\n    '.ql-editor .ql-video': {\n        display: 'block',\n        maxWidth: '100%',\n    },\n    '.ql-editor .ql-video.ql-align-center': {\n        margin: '0 auto',\n    },\n    '.ql-editor .ql-video.ql-align-right': {\n        margin: '0 0 0 auto',\n    },\n    '.ql-editor .ql-bg-black': {\n        backgroundColor: '#000',\n    },\n    '.ql-editor .ql-bg-red': {\n        backgroundColor: '#e60000',\n    },\n    '.ql-editor .ql-bg-orange': {\n        backgroundColor: '#f90',\n    },\n    '.ql-editor .ql-bg-yellow': {\n        backgroundColor: '#ff0',\n    },\n    '.ql-editor .ql-bg-green': {\n        backgroundColor: '#008a00',\n    },\n    '.ql-editor .ql-bg-blue': {\n        backgroundColor: '#06c',\n    },\n    '.ql-editor .ql-bg-purple': {\n        backgroundColor: '#93f',\n    },\n    '.ql-editor .ql-color-white': {\n        color: '#fff',\n    },\n    '.ql-editor .ql-color-red': {\n        color: '#e60000',\n    },\n    '.ql-editor .ql-color-orange': {\n        color: '#f90',\n    },\n    '.ql-editor .ql-color-yellow': {\n        color: '#ff0',\n    },\n    '.ql-editor .ql-color-green': {\n        color: '#008a00',\n    },\n    '.ql-editor .ql-color-blue': {\n        color: '#06c',\n    },\n    '.ql-editor .ql-color-purple': {\n        color: '#93f',\n    },\n    '.ql-editor .ql-font-serif': {\n        fontFamily: 'Georgia, Times New Roman, serif',\n    },\n    '.ql-editor .ql-font-monospace': {\n        fontFamily: 'Monaco, Courier New, monospace',\n    },\n    '.ql-editor .ql-size-small': {\n        fontSize: '0.75em',\n    },\n    '.ql-editor .ql-size-large': {\n        fontSize: '1.5em',\n    },\n    '.ql-editor .ql-size-huge': {\n        fontSize: '2.5em',\n    },\n    '.ql-editor .ql-direction-rtl': {\n        direction: 'rtl',\n        textAlign: 'inherit',\n    },\n    '.ql-editor .ql-align-center': {\n        textAlign: 'center',\n    },\n    '.ql-editor .ql-align-justify': {\n        textAlign: 'justify',\n    },\n    '.ql-editor .ql-align-right': {\n        textAlign: 'right',\n    },\n    '.ql-editor.ql-blank::before': {\n        color: 'rgba(0,0,0,0.6)',\n        content: 'attr(data-placeholder)',\n        fontStyle: 'italic',\n        left: 15,\n        pointerEvents: 'none',\n        position: 'absolute',\n        right: 15,\n    },\n    '.ql-snow.ql-toolbar:after, .ql-snow .ql-toolbar:after': {\n        clear: 'both',\n        content: \"''\",\n        display: 'table',\n    },\n    '.ql-snow.ql-toolbar button, .ql-snow .ql-toolbar button': {\n        background: 'none',\n        border: 'none',\n        cursor: 'pointer',\n        display: 'inline-block',\n        float: 'left',\n        height: 24,\n        padding: '3px 5px',\n        width: 28,\n    },\n    '.ql-snow.ql-toolbar button svg, .ql-snow .ql-toolbar button svg': {\n        float: 'left',\n        height: '100%',\n    },\n    '.ql-snow.ql-toolbar button:active:hover, .ql-snow .ql-toolbar button:active:hover': {\n        outline: 'none',\n    },\n    '.ql-snow.ql-toolbar input.ql-image[type=file], .ql-snow .ql-toolbar input.ql-image[type=file]': {\n        display: 'none',\n    },\n    '.ql-snow.ql-toolbar button:hover, .ql-snow .ql-toolbar button:hover, .ql-snow.ql-toolbar button:focus, .ql-snow .ql-toolbar button:focus, .ql-snow.ql-toolbar button.ql-active, .ql-snow .ql-toolbar button.ql-active, .ql-snow.ql-toolbar .ql-picker-label:hover, .ql-snow .ql-toolbar .ql-picker-label:hover, .ql-snow.ql-toolbar .ql-picker-label.ql-active, .ql-snow .ql-toolbar .ql-picker-label.ql-active, .ql-snow.ql-toolbar .ql-picker-item:hover, .ql-snow .ql-toolbar .ql-picker-item:hover, .ql-snow.ql-toolbar .ql-picker-item.ql-selected, .ql-snow .ql-toolbar .ql-picker-item.ql-selected': {\n        color: '#06c',\n    },\n    '.ql-snow.ql-toolbar button:hover .ql-fill, .ql-snow .ql-toolbar button:hover .ql-fill, .ql-snow.ql-toolbar button:focus .ql-fill, .ql-snow .ql-toolbar button:focus .ql-fill, .ql-snow.ql-toolbar button.ql-active .ql-fill, .ql-snow .ql-toolbar button.ql-active .ql-fill, .ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill, .ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill, .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill, .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill, .ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill, .ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill, .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill, .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill, .ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill, .ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill, .ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill, .ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill, .ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill, .ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill, .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill, .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill, .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill, .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill': {\n        fill: '#06c',\n    },\n    '.ql-snow.ql-toolbar button:hover .ql-stroke, .ql-snow .ql-toolbar button:hover .ql-stroke, .ql-snow.ql-toolbar button:focus .ql-stroke, .ql-snow .ql-toolbar button:focus .ql-stroke, .ql-snow.ql-toolbar button.ql-active .ql-stroke, .ql-snow .ql-toolbar button.ql-active .ql-stroke, .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke, .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke, .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke, .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke, .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke, .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke, .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke, .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke, .ql-snow.ql-toolbar button:hover .ql-stroke-miter, .ql-snow .ql-toolbar button:hover .ql-stroke-miter, .ql-snow.ql-toolbar button:focus .ql-stroke-miter, .ql-snow .ql-toolbar button:focus .ql-stroke-miter, .ql-snow.ql-toolbar button.ql-active .ql-stroke-miter, .ql-snow .ql-toolbar button.ql-active .ql-stroke-miter, .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter, .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter, .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter, .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter, .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter, .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter, .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter, .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter': {\n        stroke: '#06c',\n    },\n    '@media (pointer: coarse)': {\n        '.ql-snow.ql-toolbar button:hover:not(.ql-active), .ql-snow .ql-toolbar button:hover:not(.ql-active)': {\n            color: '#444',\n        },\n        '.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill, .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill, .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill, .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill': {\n            fill: '#444',\n        },\n        '.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke, .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke, .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter, .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter': {\n            stroke: '#444',\n        },\n    },\n    '.ql-snow': {\n        boxSizing: 'border-box',\n    },\n    '.ql-snow *': {\n        boxSizing: 'border-box',\n    },\n    '.ql-snow .ql-hidden': {\n        display: 'none',\n    },\n    '.ql-snow .ql-out-bottom, .ql-snow .ql-out-top': {\n        visibility: 'hidden',\n    },\n    '.ql-snow .ql-tooltip': {\n        position: 'absolute',\n        transform: 'translateY(10px)',\n        backgroundColor: '#fff',\n        border: '1px solid #ccc',\n        boxShadow: '0px 0px 5px #ddd',\n        color: '#444',\n        padding: '5px 12px',\n        whiteSpace: 'nowrap',\n        zIndex: 1,\n    },\n    '.ql-snow .ql-tooltip a': {\n        cursor: 'pointer',\n        textDecoration: 'none',\n        lineHeight: '26px',\n    },\n    '.ql-snow .ql-tooltip.ql-flip': {\n        transform: 'translateY(-10px)',\n    },\n    '.ql-snow .ql-formats': {\n        display: 'inline-block',\n        verticalAlign: 'middle',\n    },\n    '.ql-snow .ql-formats:after': {\n        clear: 'both',\n        content: \"''\",\n        display: 'table',\n    },\n    '.ql-snow .ql-stroke': {\n        fill: 'none',\n        stroke: '#444',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeWidth: '2',\n    },\n    '.ql-snow .ql-stroke-miter': {\n        fill: 'none',\n        stroke: '#444',\n        strokeMiterlimit: 10,\n        strokeWidth: '2',\n    },\n    '.ql-snow .ql-fill, .ql-snow .ql-stroke.ql-fill': {\n        fill: '#444',\n    },\n    '.ql-snow .ql-empty': {\n        fill: 'none',\n    },\n    '.ql-snow .ql-even': {\n        fillRule: 'evenodd',\n    },\n    '.ql-snow .ql-thin, .ql-snow .ql-stroke.ql-thin': {\n        strokeWidth: '1',\n    },\n    '.ql-snow .ql-transparent': {\n        opacity: 0.4,\n    },\n    '.ql-snow .ql-direction svg:last-child': {\n        display: 'none',\n    },\n    '.ql-snow .ql-direction.ql-active svg:last-child': {\n        display: 'inline',\n    },\n    '.ql-snow .ql-direction.ql-active svg:first-child': {\n        display: 'none',\n    },\n    '.ql-snow .ql-editor h1': {\n        fontSize: '2em',\n    },\n    '.ql-snow .ql-editor h2': {\n        fontSize: '1.5em',\n    },\n    '.ql-snow .ql-editor h3': {\n        fontSize: '1.17em',\n    },\n    '.ql-snow .ql-editor h4': {\n        fontSize: '1em',\n    },\n    '.ql-snow .ql-editor h5': {\n        fontSize: '0.83em',\n    },\n    '.ql-snow .ql-editor h6': {\n        fontSize: '0.67em',\n    },\n    '.ql-snow .ql-editor a': {\n        textDecoration: 'underline',\n    },\n    '.ql-snow .ql-editor blockquote': {\n        borderLeft: '4px solid #ccc',\n        marginBottom: 5,\n        marginTop: 5,\n        paddingLeft: 16,\n    },\n    '.ql-snow .ql-editor code, .ql-snow .ql-editor pre': {\n        backgroundColor: '#f0f0f0',\n        borderRadius: 3,\n    },\n    '.ql-snow .ql-editor pre': {\n        whiteSpace: 'pre-wrap',\n        marginBottom: 5,\n        marginTop: 5,\n        padding: '5px 10px',\n    },\n    '.ql-snow .ql-editor code': {\n        fontSize: '85%',\n        padding: '2px 4px',\n    },\n    '.ql-snow .ql-editor pre.ql-syntax': {\n        backgroundColor: '#23241f',\n        color: '#f8f8f2',\n        overflow: 'visible',\n    },\n    '.ql-snow .ql-editor img': {\n        maxWidth: '100%',\n    },\n    '.ql-snow .ql-picker': {\n        color: '#444',\n        display: 'inline-block',\n        float: 'left',\n        fontSize: 14,\n        fontWeight: 500,\n        height: 24,\n        position: 'relative',\n        verticalAlign: 'middle',\n    },\n    '.ql-snow .ql-picker-label': {\n        cursor: 'pointer',\n        display: 'inline-block',\n        height: '100%',\n        paddingLeft: 8,\n        paddingRight: 2,\n        position: 'relative',\n        width: '100%',\n    },\n    '.ql-snow .ql-picker-label::before': {\n        display: 'inline-block',\n        lineHeight: '22px',\n    },\n    '.ql-snow .ql-picker-options': {\n        backgroundColor: '#fff',\n        display: 'none',\n        minWidth: '100%',\n        padding: '4px 8px',\n        position: 'absolute',\n        whiteSpace: 'nowrap',\n    },\n    '.ql-snow .ql-picker-options .ql-picker-item': {\n        cursor: 'pointer',\n        display: 'block',\n        paddingBottom: 5,\n        paddingTop: 5,\n    },\n    '.ql-snow .ql-picker.ql-expanded .ql-picker-label': {\n        color: '#ccc',\n        zIndex: 2,\n    },\n    '.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill': {\n        fill: '#ccc',\n    },\n    '.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke': {\n        stroke: '#ccc',\n    },\n    '.ql-snow .ql-picker.ql-expanded .ql-picker-options': {\n        display: 'block',\n        marginTop: -1,\n        top: '100%',\n        zIndex: 1,\n    },\n    '.ql-snow .ql-color-picker, .ql-snow .ql-icon-picker': {\n        width: 28,\n    },\n    '.ql-snow .ql-color-picker .ql-picker-label, .ql-snow .ql-icon-picker .ql-picker-label': {\n        padding: '2px 4px',\n    },\n    '.ql-snow .ql-color-picker .ql-picker-label svg, .ql-snow .ql-icon-picker .ql-picker-label svg': {\n        right: 4,\n    },\n    '.ql-snow .ql-icon-picker .ql-picker-options': {\n        padding: '4px 0px',\n    },\n    '.ql-snow .ql-icon-picker .ql-picker-item': {\n        height: 24,\n        width: 24,\n        padding: '2px 4px',\n    },\n    '.ql-snow .ql-color-picker .ql-picker-options': {\n        padding: '3px 5px',\n        width: 152,\n    },\n    '.ql-snow .ql-color-picker .ql-picker-item': {\n        border: '1px solid transparent',\n        float: 'left',\n        height: 16,\n        margin: 2,\n        padding: 0,\n        width: 16,\n    },\n    '.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg': {\n        position: 'absolute',\n        marginTop: -9,\n        right: '0',\n        top: '50%',\n        width: 18,\n    },\n    \".ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before, .ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before, .ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before, .ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before\": {\n        content: 'attr(data-label)',\n    },\n    '.ql-snow .ql-picker.ql-header': {\n        width: 98,\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-label::before, .ql-snow .ql-picker.ql-header .ql-picker-item::before': {\n        content: \"'Normal'\",\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"1\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before': {\n        content: \"'Heading 1'\",\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"2\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before': {\n        content: \"'Heading 2'\",\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"3\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before': {\n        content: \"'Heading 3'\",\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"4\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before': {\n        content: \"'Heading 4'\",\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"5\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before': {\n        content: \"'Heading 5'\",\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"6\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before': {\n        content: \"'Heading 6'\",\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before': {\n        fontSize: '2em',\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before': {\n        fontSize: '1.5em',\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before': {\n        fontSize: '1.17em',\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before': {\n        fontSize: '1em',\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before': {\n        fontSize: '0.83em',\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before': {\n        fontSize: '0.67em',\n    },\n    '.ql-snow .ql-picker.ql-font': {\n        width: 108,\n    },\n    '.ql-snow .ql-picker.ql-font .ql-picker-label::before, .ql-snow .ql-picker.ql-font .ql-picker-item::before': {\n        content: \"'Sans Serif'\",\n    },\n    '.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before, .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before': {\n        content: \"'Serif'\",\n    },\n    '.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before, .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before': {\n        content: \"'Monospace'\",\n    },\n    '.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before': {\n        fontFamily: 'Georgia, Times New Roman, serif',\n    },\n    '.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before': {\n        fontFamily: 'Monaco, Courier New, monospace',\n    },\n    '.ql-snow .ql-picker.ql-size': {\n        width: 98,\n    },\n    '.ql-snow .ql-picker.ql-size .ql-picker-label::before, .ql-snow .ql-picker.ql-size .ql-picker-item::before': {\n        content: \"'Normal'\",\n    },\n    '.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before': {\n        content: \"'Small'\",\n    },\n    '.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before': {\n        content: \"'Large'\",\n    },\n    '.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before': {\n        content: \"'Huge'\",\n    },\n    '.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before': {\n        fontSize: 10,\n    },\n    '.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before': {\n        fontSize: 18,\n    },\n    '.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before': {\n        fontSize: 32,\n    },\n    '.ql-snow .ql-color-picker.ql-background .ql-picker-item': {\n        backgroundColor: '#fff',\n    },\n    '.ql-snow .ql-color-picker.ql-color .ql-picker-item': {\n        backgroundColor: '#000',\n    },\n    '.ql-toolbar.ql-snow': {\n        border: '1px solid #ccc',\n        boxSizing: 'border-box',\n        fontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n        padding: 8,\n    },\n    '.ql-toolbar.ql-snow .ql-formats': {\n        marginRight: 15,\n    },\n    '.ql-toolbar.ql-snow .ql-picker-label': {\n        border: '1px solid transparent',\n    },\n    '.ql-toolbar.ql-snow .ql-picker-options': {\n        border: '1px solid transparent',\n        boxShadow: 'rgba(0,0,0,0.2) 0 2px 8px',\n    },\n    '.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label': {\n        borderColor: '#ccc',\n    },\n    '.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options': {\n        borderColor: '#ccc',\n    },\n    '.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected, .ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover': {\n        borderColor: '#000',\n    },\n    '.ql-toolbar.ql-snow + .ql-container.ql-snow': {\n        borderTop: 0,\n    },\n    '.ql-snow .ql-tooltip::before': {\n        content: '\"Visit URL:\"',\n        lineHeight: '26px',\n        marginRight: 8,\n    },\n    '.ql-snow .ql-tooltip input[type=text]': {\n        display: 'none',\n        border: '1px solid #ccc',\n        fontSize: 13,\n        height: 26,\n        margin: 0,\n        padding: '3px 5px',\n        width: 170,\n    },\n    '.ql-snow .ql-tooltip a.ql-preview': {\n        display: 'inline-block',\n        maxWidth: 200,\n        overflowX: 'hidden',\n        textOverflow: 'ellipsis',\n        verticalAlign: 'top',\n    },\n    '.ql-snow .ql-tooltip a.ql-action::after': {\n        borderRight: '1px solid #ccc',\n        content: \"'Edit'\",\n        marginLeft: 16,\n        paddingRight: 8,\n    },\n    '.ql-snow .ql-tooltip a.ql-remove::before': {\n        content: \"'Remove'\",\n        marginLeft: 8,\n    },\n    '.ql-snow .ql-tooltip.ql-editing a.ql-preview, .ql-snow .ql-tooltip.ql-editing a.ql-remove': {\n        display: 'none',\n    },\n    '.ql-snow .ql-tooltip.ql-editing input[type=text]': {\n        display: 'inline-block',\n    },\n    '.ql-snow .ql-tooltip.ql-editing a.ql-action::after': {\n        borderRight: 0,\n        content: \"'Save'\",\n        paddingRight: 0,\n    },\n    '.ql-snow .ql-tooltip[data-mode=link]::before': {\n        content: '\"Enter link:\"',\n    },\n    '.ql-snow .ql-tooltip[data-mode=formula]::before': {\n        content: '\"Enter formula:\"',\n    },\n    '.ql-snow .ql-tooltip[data-mode=video]::before': {\n        content: '\"Enter video:\"',\n    },\n    '.ql-snow a': {\n        color: '#06c',\n    },\n    '.ql-container.ql-snow': {\n        border: '1px solid #ccc',\n    },\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport QuillSnowStylesheet from './QuillSnowStylesheet';\nexport default (function (theme) { return ({\n    label: {\n        position: 'relative',\n    },\n    '@global': __assign(__assign({}, QuillSnowStylesheet), { '.ra-rich-text-input': {\n            '& .ql-editor': {\n                fontSize: '1rem',\n                fontFamily: 'Roboto, sans-serif',\n                padding: '6px 12px',\n                backgroundColor: theme.palette.type === 'dark'\n                    ? 'rgba(255, 255, 255, 0.04)'\n                    : 'rgba(0, 0, 0, 0.04)',\n                '&:hover::before': {\n                    backgroundColor: theme.palette.type === 'dark'\n                        ? 'rgba(255, 255, 255, 1)'\n                        : 'rgba(0, 0, 0, 1)',\n                    height: 2,\n                },\n                '&::before': {\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    height: 1,\n                    content: '\"\"',\n                    position: 'absolute',\n                    transition: 'background-color 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n                    backgroundColor: theme.palette.type === 'dark'\n                        ? 'rgba(255, 255, 255, 0.7)'\n                        : 'rgba(0, 0, 0, 0.5)',\n                },\n                '&::after': {\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    height: 2,\n                    content: '\"\"',\n                    position: 'absolute',\n                    transform: 'scaleX(0)',\n                    transition: 'transform 200ms cubic-bezier(0, 0, 0.2, 1) 0ms',\n                    backgroundColor: theme.palette.primary.main,\n                },\n                '& p:not(:last-child)': {\n                    marginBottom: '1rem',\n                },\n                '& strong': {\n                    fontWeight: 700,\n                },\n                '& h1': {\n                    margin: '1rem 0 0.5rem 0',\n                    fontWeight: 500,\n                },\n                '& h2': {\n                    margin: '1rem 0 0.5rem 0',\n                    fontWeight: 500,\n                },\n                '& h3': {\n                    margin: '1rem 0 0.5rem 0',\n                    fontWeight: 500,\n                },\n                '& a': {\n                    color: theme.palette.primary.main,\n                },\n                '& ul': {\n                    marginBottom: '1rem',\n                },\n                '& li:not(.ql-direction-rtl)::before': {\n                    fontSize: '0.5rem',\n                    position: 'relative',\n                    top: '-0.2rem',\n                    marginRight: '0.5rem',\n                },\n                '&:focus::after': {\n                    transform: 'scaleX(1)',\n                },\n            },\n            '& .standard .ql-editor': {\n                backgroundColor: theme.palette.background.paper,\n            },\n            '& .outlined .ql-editor': {\n                backgroundColor: theme.palette.background.paper,\n            },\n            '& .ql-toolbar.ql-snow': {\n                margin: '0.5rem 0',\n                border: 0,\n                padding: 0,\n                '& .ql-picker-item': {\n                    color: theme.palette.text.primary,\n                },\n                '& .ql-stroke': {\n                    stroke: theme.palette.text.primary,\n                },\n                '& .ql-fill': {\n                    fill: theme.palette.text.primary,\n                },\n                '& .ql-picker-item.ql-active': {\n                    color: theme.palette.primary.main,\n                },\n                '& .ql-picker-item:hover': {\n                    color: theme.palette.primary.main,\n                },\n                '& .ql-picker-item.ql-selected': {\n                    color: theme.palette.primary.main,\n                },\n                '& .ql-picker-label.ql-active': {\n                    color: theme.palette.primary.main,\n                },\n                '& .ql-picker-label.ql-selected': {\n                    color: theme.palette.primary.main,\n                },\n                '& .ql-picker-label:hover': {\n                    color: theme.palette.primary.main,\n                },\n                '& button:hover .ql-fill': {\n                    fill: theme.palette.primary.main,\n                },\n                '& button.ql-active .ql-fill': {\n                    fill: theme.palette.primary.main,\n                },\n                '& button:hover .ql-stroke': {\n                    stroke: theme.palette.primary.main,\n                },\n                '& button.ql-active .ql-stroke': {\n                    stroke: theme.palette.primary.main,\n                },\n                '& .ql-picker-label:hover .ql-stroke': {\n                    stroke: theme.palette.primary.main,\n                },\n                '& .ql-picker.ql-expanded .ql-picker-options': {\n                    backgroundColor: theme.palette.background.paper,\n                    borderColor: theme.palette.background.paper,\n                },\n                '& .ql-snow .ql-picker.ql-expanded .ql-picker-options': {\n                    background: '#fff',\n                    zIndex: 10,\n                },\n                '& .ql-picker-label': {\n                    paddingLeft: 0,\n                    color: theme.palette.text.primary,\n                },\n                '& + .ql-container.ql-snow': {\n                    border: 0,\n                },\n            },\n        } }),\n}); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport debounce from 'lodash/debounce';\nimport React, { useRef, useEffect, useCallback } from 'react';\nimport Quill from 'quill';\nimport { useInput, FieldTitle } from 'ra-core';\nimport { InputHelperText } from 'ra-ui-materialui';\nimport { FormHelperText, FormControl, InputLabel, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport styles from './styles';\nvar useStyles = makeStyles(styles, { name: 'RaRichTextInput' });\nvar RichTextInput = function (props) {\n    var _a = props.options, options = _a === void 0 ? {} : _a, // Quill editor options\n    _b = props.toolbar, // Quill editor options\n    toolbar = _b === void 0 ? true : _b, _c = props.fullWidth, fullWidth = _c === void 0 ? true : _c, classesOverride = props.classes, configureQuill = props.configureQuill, helperText = props.helperText, label = props.label, source = props.source, resource = props.resource, variant = props.variant, _d = props.margin, margin = _d === void 0 ? 'dense' : _d, rest = __rest(props, [\"options\", \"toolbar\", \"fullWidth\", \"classes\", \"configureQuill\", \"helperText\", \"label\", \"source\", \"resource\", \"variant\", \"margin\"]);\n    var classes = useStyles(props);\n    var quillInstance = useRef();\n    var divRef = useRef();\n    var editor = useRef();\n    var _e = useInput(__assign({ source: source }, rest)), id = _e.id, isRequired = _e.isRequired, _f = _e.input, value = _f.value, onChange = _f.onChange, _g = _e.meta, touched = _g.touched, error = _g.error;\n    var lastValueChange = useRef(value);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    var onTextChange = useCallback(debounce(function () {\n        var value = editor.current.innerHTML === '<p><br></p>'\n            ? ''\n            : editor.current.innerHTML;\n        if (lastValueChange.current !== value) {\n            lastValueChange.current = value;\n            onChange(value);\n        }\n    }, 500), [onChange]);\n    useEffect(function () {\n        quillInstance.current = new Quill(divRef.current, __assign({ modules: { toolbar: toolbar, clipboard: { matchVisual: false } }, theme: 'snow' }, options));\n        if (configureQuill) {\n            configureQuill(quillInstance.current);\n        }\n        quillInstance.current.setContents(quillInstance.current.clipboard.convert(value));\n        editor.current = divRef.current.querySelector('.ql-editor');\n        quillInstance.current.on('text-change', onTextChange);\n        return function () {\n            quillInstance.current.off('text-change', onTextChange);\n            if (onTextChange.cancel) {\n                onTextChange.cancel();\n            }\n            quillInstance.current = null;\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    useEffect(function () {\n        if (lastValueChange.current !== value) {\n            var selection = quillInstance.current.getSelection();\n            quillInstance.current.setContents(quillInstance.current.clipboard.convert(value));\n            if (selection && quillInstance.current.hasFocus()) {\n                quillInstance.current.setSelection(selection);\n            }\n        }\n    }, [value]);\n    return (React.createElement(FormControl, { error: !!(touched && error), fullWidth: fullWidth, className: \"ra-rich-text-input\", margin: margin },\n        React.createElement(InputLabel, { shrink: true, htmlFor: id, className: classes.label },\n            React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired })),\n        React.createElement(\"div\", { \"data-testid\": \"quill\", ref: divRef, className: variant }),\n        React.createElement(FormHelperText, { error: !!error, className: !!error ? 'ra-rich-text-input-error' : '' },\n            React.createElement(InputHelperText, { error: error, helperText: helperText, touched: touched }))));\n};\nRichTextInput.propTypes = {\n    // @ts-ignore\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    options: PropTypes.object,\n    source: PropTypes.string,\n    fullWidth: PropTypes.bool,\n    configureQuill: PropTypes.func,\n};\nexport default RichTextInput;\n","import * as React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps } from 'react-admin';\nimport { Product } from '../types';\n\nconst useStyles = makeStyles({\n    root: { display: 'inline-block', marginTop: '1em', zIndex: 2 },\n    content: { padding: 0, '&:last-child': { padding: 0 } },\n    img: {\n        width: 'initial',\n        minWidth: 'initial',\n        maxWidth: '42em',\n        maxHeight: '15em',\n    },\n});\n\nconst Poster = (props: FieldProps<Product>) => {\n    const { record } = props;\n    const classes = useStyles();\n\n    if (!record) return null;\n\n    return (\n        <Card className={classes.root}>\n            <CardContent className={classes.content}>\n                <img src={record.image} alt=\"\" className={classes.img} />\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Poster;\n","import * as React from 'react';\nimport {\n    Create,\n    FormTab,\n    NumberInput,\n    ReferenceInput,\n    SelectInput,\n    TabbedForm,\n    TextInput,\n    required,\n    CreateProps,\n} from 'react-admin';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RichTextInput from 'ra-input-rich-text';\n\nexport const styles = {\n    price: { width: '7em' },\n    width: { width: '7em' },\n    height: { width: '7em' },\n    stock: { width: '7em' },\n    widthFormGroup: { display: 'inline-block' },\n    heightFormGroup: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\nconst ProductCreate = (props: CreateProps) => {\n    const classes = useStyles();\n    return (\n        <Create {...props}>\n            <TabbedForm>\n                <FormTab label=\"resources.products.tabs.image\">\n                    <TextInput\n                        autoFocus\n                        source=\"image\"\n                        fullWidth\n                        validate={required()}\n                    />\n                    <TextInput\n                        source=\"thumbnail\"\n                        fullWidth\n                        validate={required()}\n                    />\n                </FormTab>\n                <FormTab label=\"resources.products.tabs.details\" path=\"details\">\n                    <TextInput source=\"reference\" validate={required()} />\n                    <NumberInput\n                        source=\"price\"\n                        validate={required()}\n                        className={classes.price}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    \n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"width\"\n                        validate={required()}\n                        className={classes.width}\n                        formClassName={classes.widthFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"height\"\n                        validate={required()}\n                        className={classes.height}\n                        formClassName={classes.heightFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <ReferenceInput\n                        source=\"category_id\"\n                        reference=\"categories\"\n                        allowEmpty\n                    >\n                        <SelectInput source=\"name\" />\n                    </ReferenceInput>\n                    <NumberInput\n                        source=\"stock\"\n                        validate={required()}\n                        className={classes.stock}\n                    />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.description\"\n                    path=\"description\"\n                >\n                    <RichTextInput source=\"description\" label=\"\" />\n                </FormTab>\n            </TabbedForm>\n        </Create>\n    );\n};\n\nexport default ProductCreate;\n","import * as React from 'react';\nimport {\n    Datagrid,\n    DateField,\n    Edit,\n    EditButton,\n    EditProps,\n    FormTab,\n    NumberInput,\n    Pagination,\n    ReferenceInput,\n    ReferenceManyField,\n    required,\n    SelectInput,\n    TabbedForm,\n    TextField,\n    TextInput,\n} from 'react-admin';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RichTextInput from 'ra-input-rich-text';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from '../reviews/StarRatingField';\nimport Poster from './Poster';\nimport { styles as createStyles } from './ProductCreate';\nimport { Product } from '../types';\n\ninterface ProductTitleProps {\n    record?: Product;\n}\n\nconst ProductTitle = ({ record }: ProductTitleProps) =>\n    record ? <span>Poster #{record.reference}</span> : null;\n\nconst useStyles = makeStyles({\n    ...createStyles,\n    comment: {\n        maxWidth: '20em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n    tab: {\n        maxWidth: '40em',\n        display: 'block',\n    },\n});\n\nconst ProductEdit = (props: EditProps) => {\n    const classes = useStyles();\n    return (\n        <Edit {...props} title={<ProductTitle />}>\n            <TabbedForm>\n                <FormTab\n                    label=\"resources.products.tabs.image\"\n                    contentClassName={classes.tab}\n                >\n                    <Poster />\n                    <TextInput\n                        source=\"image\"\n                        fullWidth\n                        validate={requiredValidate}\n                    />\n                    <TextInput\n                        source=\"thumbnail\"\n                        fullWidth\n                        validate={requiredValidate}\n                    />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.details\"\n                    path=\"details\"\n                    contentClassName={classes.tab}\n                >\n                    <TextInput source=\"reference\" validate={requiredValidate} />\n                    <NumberInput\n                        source=\"price\"\n                        className={classes.price}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    \n                                </InputAdornment>\n                            ),\n                        }}\n                        validate={requiredValidate}\n                    />\n                    <NumberInput\n                        source=\"width\"\n                        className={classes.width}\n                        formClassName={classes.widthFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                        validate={requiredValidate}\n                    />\n                    <NumberInput\n                        source=\"height\"\n                        className={classes.height}\n                        formClassName={classes.heightFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                        validate={requiredValidate}\n                    />\n                    <ReferenceInput\n                        source=\"category_id\"\n                        reference=\"categories\"\n                        validate={requiredValidate}\n                    >\n                        <SelectInput source=\"name\" />\n                    </ReferenceInput>\n                    <NumberInput\n                        source=\"stock\"\n                        className={classes.stock}\n                        validate={requiredValidate}\n                    />\n                    <NumberInput\n                        source=\"sales\"\n                        className={classes.stock}\n                        validate={requiredValidate}\n                    />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.description\"\n                    path=\"description\"\n                    contentClassName={classes.tab}\n                >\n                    <RichTextInput\n                        source=\"description\"\n                        label=\"\"\n                        validate={requiredValidate}\n                    />\n                </FormTab>\n                <FormTab label=\"resources.products.tabs.reviews\" path=\"reviews\">\n                    <ReferenceManyField\n                        reference=\"reviews\"\n                        target=\"product_id\"\n                        addLabel={false}\n                        pagination={<Pagination />}\n                        fullWidth\n                    >\n                        <Datagrid>\n                            <DateField source=\"date\" />\n                            <CustomerReferenceField />\n                            <StarRatingField />\n                            <TextField\n                                source=\"comment\"\n                                cellClassName={classes.comment}\n                            />\n                            <TextField source=\"status\" />\n                            <EditButton />\n                        </Datagrid>\n                    </ReferenceManyField>\n                </FormTab>\n            </TabbedForm>\n        </Edit>\n    );\n};\n\nconst requiredValidate = [required()];\n\nexport default ProductEdit;\n","import ProductIcon from '@material-ui/icons/Collections';\nimport ProductList from './ProductList';\nimport ProductEdit from './ProductEdit';\nimport ProductCreate from './ProductCreate';\n\nexport default {\n    list: ProductList,\n    create: ProductCreate,\n    edit: ProductEdit,\n    icon: ProductIcon,\n};\n","import * as React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate, FieldProps } from 'react-admin';\nimport { stringify } from 'query-string';\n\nimport products from '../products';\nimport { Category } from '../types';\n\nconst useStyles = makeStyles({\n    icon: { paddingRight: '0.5em' },\n    link: {\n        display: 'inline-flex',\n        alignItems: 'center',\n    },\n});\n\nconst LinkToRelatedProducts = (props: FieldProps<Category>) => {\n    const { record } = props;\n    const translate = useTranslate();\n    const classes = useStyles();\n    return record ? (\n        <Button\n            size=\"small\"\n            color=\"primary\"\n            component={Link}\n            to={{\n                pathname: '/products',\n                search: stringify({\n                    filter: JSON.stringify({ category_id: record.id }),\n                }),\n            }}\n            className={classes.link}\n        >\n            <products.icon className={classes.icon} />\n            {translate('resources.categories.fields.products')}\n        </Button>\n    ) : null;\n};\n\nexport default LinkToRelatedProducts;\n","import * as React from 'react';\nimport { EditButton, List, ListProps, useListContext } from 'react-admin';\nimport inflection from 'inflection';\nimport {\n    Grid,\n    Card,\n    CardMedia,\n    CardContent,\n    CardActions,\n    Typography,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport LinkToRelatedProducts from './LinkToRelatedProducts';\nimport { Category } from '../types';\n\nconst useStyles = makeStyles({\n    root: {\n        marginTop: '1em',\n    },\n    media: {\n        height: 140,\n    },\n    title: {\n        paddingBottom: '0.5em',\n    },\n    actionSpacer: {\n        display: 'flex',\n        justifyContent: 'space-around',\n    },\n});\n\nconst CategoryGrid = (props: any) => {\n    const classes = useStyles(props);\n    const { data, ids } = useListContext<Category>();\n    return ids ? (\n        <Grid container spacing={2} className={classes.root}>\n            {ids.map(id => (\n                <Grid key={id} xs={12} sm={6} md={4} lg={3} xl={2} item>\n                    <Card>\n                        <CardMedia\n                            image={`https://marmelab.com/posters/${data[id].name}-1.jpeg`}\n                            className={classes.media}\n                        />\n                        <CardContent className={classes.title}>\n                            <Typography\n                                variant=\"h5\"\n                                component=\"h2\"\n                                align=\"center\"\n                            >\n                                {inflection.humanize(data[id].name)}\n                            </Typography>\n                        </CardContent>\n                        <CardActions\n                            classes={{ spacing: classes.actionSpacer }}\n                        >\n                            <LinkToRelatedProducts record={data[id]} />\n                            <EditButton\n                                basePath=\"/categories\"\n                                record={data[id]}\n                            />\n                        </CardActions>\n                    </Card>\n                </Grid>\n            ))}\n        </Grid>\n    ) : null;\n};\n\nconst CategoryList = (props: ListProps) => (\n    <List\n        {...props}\n        sort={{ field: 'name', order: 'ASC' }}\n        perPage={20}\n        pagination={false}\n        component=\"div\"\n        actions={false}\n    >\n        <CategoryGrid />\n    </List>\n);\n\nexport default CategoryList;\n","import * as React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps } from 'react-admin';\nimport { Product } from '../types';\n\nconst useStyles = makeStyles({\n    root: { width: 25, maxWidth: 25, maxHeight: 25 },\n});\n\nconst ThumbnailField = (props: FieldProps<Product>) => {\n    const { record } = props;\n    const classes = useStyles();\n    return record ? (\n        <img src={record.thumbnail} className={classes.root} alt=\"\" />\n    ) : null;\n};\n\nexport default ThumbnailField;\n","import * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FieldProps } from 'react-admin';\nimport { Product } from '../types';\n\nconst ProductRefField = ({ record }: FieldProps<Product>) =>\n    record ? (\n        <Link to={`products/${record.id}`}>{record.reference}</Link>\n    ) : null;\n\nProductRefField.defaultProps = {\n    source: 'id',\n    label: 'Reference',\n};\n\nexport default ProductRefField;\n","import * as React from 'react';\nimport {\n    Datagrid,\n    Edit,\n    EditProps,\n    EditButton,\n    FieldProps,\n    NumberField,\n    ReferenceManyField,\n    SimpleForm,\n    TextInput,\n    useTranslate,\n} from 'react-admin';\n\nimport ThumbnailField from '../products/ThumbnailField';\nimport ProductRefField from '../products/ProductRefField';\nimport { Category } from '../types';\n\nconst CategoryTitle = (props: FieldProps<Category>) => {\n    const { record } = props;\n    const translate = useTranslate();\n    return record ? (\n        <span>\n            {translate('resources.categories.name', { smart_count: 1 })} &quot;\n            {record.name}&quot;\n        </span>\n    ) : null;\n};\n\nconst CategoryEdit = (props: EditProps) => (\n    <Edit title={<CategoryTitle />} {...props}>\n        <SimpleForm>\n            <TextInput source=\"name\" />\n            <ReferenceManyField\n                reference=\"products\"\n                target=\"category_id\"\n                label=\"resources.categories.fields.products\"\n                perPage={20}\n                fullWidth\n            >\n                <Datagrid>\n                    <ThumbnailField />\n                    <ProductRefField source=\"reference\" />\n                    <NumberField\n                        source=\"price\"\n                        options={{ style: 'currency', currency: 'USD' }}\n                    />\n                    <NumberField\n                        source=\"width\"\n                        options={{ minimumFractionDigits: 2 }}\n                    />\n                    <NumberField\n                        source=\"height\"\n                        options={{ minimumFractionDigits: 2 }}\n                    />\n                    <NumberField source=\"stock\" />\n                    <NumberField source=\"sales\" />\n                    <EditButton />\n                </Datagrid>\n            </ReferenceManyField>\n        </SimpleForm>\n    </Edit>\n);\n\nexport default CategoryEdit;\n","import CategoryIcon from '@material-ui/icons/Bookmark';\n\nimport CategoryList from './CategoryList';\nimport CategoryEdit from './CategoryEdit';\n\nexport default {\n    list: CategoryList,\n    edit: CategoryEdit,\n    icon: CategoryIcon,\n};\n","import * as React from 'react';\nimport { Fragment, ReactElement, ReactNode } from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n    List,\n    MenuItem,\n    ListItemIcon,\n    Typography,\n    Collapse,\n    Tooltip,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport { useTranslate, ReduxState } from 'react-admin';\n\nconst useStyles = makeStyles(theme => ({\n    icon: { minWidth: theme.spacing(5) },\n    sidebarIsOpen: {\n        '& a': {\n            transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n            paddingLeft: theme.spacing(4),\n        },\n    },\n    sidebarIsClosed: {\n        '& a': {\n            transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n            paddingLeft: theme.spacing(2),\n        },\n    },\n}));\n\ninterface Props {\n    dense: boolean;\n    handleToggle: () => void;\n    icon: ReactElement;\n    isOpen: boolean;\n    name: string;\n    children: ReactNode;\n}\n\nconst SubMenu = (props: Props) => {\n    const { handleToggle, isOpen, name, icon, children, dense } = props;\n    const translate = useTranslate();\n    const classes = useStyles();\n    const sidebarIsOpen = useSelector<ReduxState, boolean>(\n        state => state.admin.ui.sidebarOpen\n    );\n\n    const header = (\n        <MenuItem dense={dense} button onClick={handleToggle}>\n            <ListItemIcon className={classes.icon}>\n                {isOpen ? <ExpandMore /> : icon}\n            </ListItemIcon>\n            <Typography variant=\"inherit\" color=\"textSecondary\">\n                {translate(name)}\n            </Typography>\n        </MenuItem>\n    );\n\n    return (\n        <Fragment>\n            {sidebarIsOpen || isOpen ? (\n                header\n            ) : (\n                <Tooltip title={translate(name)} placement=\"right\">\n                    {header}\n                </Tooltip>\n            )}\n            <Collapse in={isOpen} timeout=\"auto\" unmountOnExit>\n                <List\n                    dense={dense}\n                    component=\"div\"\n                    disablePadding\n                    className={\n                        sidebarIsOpen\n                            ? classes.sidebarIsOpen\n                            : classes.sidebarIsClosed\n                    }\n                >\n                    {children}\n                </List>\n            </Collapse>\n        </Fragment>\n    );\n};\n\nexport default SubMenu;\n","import * as React from 'react';\nimport { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport LabelIcon from '@material-ui/icons/Label';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport {\n    useTranslate,\n    DashboardMenuItem,\n    MenuItemLink,\n    MenuProps,\n    ReduxState,\n} from 'react-admin';\n\nimport visitors from '../visitors';\nimport orders from '../orders';\nimport invoices from '../invoices';\nimport products from '../products';\nimport categories from '../categories';\nimport reviews from '../reviews';\nimport SubMenu from './SubMenu';\nimport { AppState } from '../types';\n\ntype MenuName = 'menuCatalog' | 'menuSales' | 'menuCustomers';\n\nconst Menu = ({ dense = false }: MenuProps) => {\n    const [state, setState] = useState({\n        menuCatalog: true,\n        menuSales: true,\n        menuCustomers: true,\n    });\n    const translate = useTranslate();\n    const open = useSelector((state: ReduxState) => state.admin.ui.sidebarOpen);\n    useSelector((state: AppState) => state.theme); // force rerender on theme change\n    const classes = useStyles();\n\n    const handleToggle = (menu: MenuName) => {\n        setState(state => ({ ...state, [menu]: !state[menu] }));\n    };\n\n    return (\n        <div\n            className={classnames(classes.root, {\n                [classes.open]: open,\n                [classes.closed]: !open,\n            })}\n        >\n            {' '}\n            <DashboardMenuItem />\n            <SubMenu\n                handleToggle={() => handleToggle('menuSales')}\n                isOpen={state.menuSales}\n                name=\"pos.menu.sales\"\n                icon={<orders.icon />}\n                dense={dense}\n            >\n                <MenuItemLink\n                    to={{\n                        pathname: '/commands',\n                        state: { _scrollToTop: true },\n                    }}\n                    primaryText={translate(`resources.commands.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<orders.icon />}\n                    dense={dense}\n                />\n                <MenuItemLink\n                    to={{\n                        pathname: '/invoices',\n                        state: { _scrollToTop: true },\n                    }}\n                    primaryText={translate(`resources.invoices.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<invoices.icon />}\n                    dense={dense}\n                />\n            </SubMenu>\n            <SubMenu\n                handleToggle={() => handleToggle('menuCatalog')}\n                isOpen={state.menuCatalog}\n                name=\"pos.menu.catalog\"\n                icon={<products.icon />}\n                dense={dense}\n            >\n                <MenuItemLink\n                    to={{\n                        pathname: '/products',\n                        state: { _scrollToTop: true },\n                    }}\n                    primaryText={translate(`resources.products.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<products.icon />}\n                    dense={dense}\n                />\n                <MenuItemLink\n                    to={{\n                        pathname: '/categories',\n                        state: { _scrollToTop: true },\n                    }}\n                    primaryText={translate(`resources.categories.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<categories.icon />}\n                    dense={dense}\n                />\n            </SubMenu>\n            <SubMenu\n                handleToggle={() => handleToggle('menuCustomers')}\n                isOpen={state.menuCustomers}\n                name=\"pos.menu.customers\"\n                icon={<visitors.icon />}\n                dense={dense}\n            >\n                <MenuItemLink\n                    to={{\n                        pathname: '/customers',\n                        state: { _scrollToTop: true },\n                    }}\n                    primaryText={translate(`resources.customers.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<visitors.icon />}\n                    dense={dense}\n                />\n                <MenuItemLink\n                    to={{\n                        pathname: '/segments',\n                        state: { _scrollToTop: true },\n                    }}\n                    primaryText={translate(`resources.segments.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<LabelIcon />}\n                    dense={dense}\n                />\n            </SubMenu>\n            <MenuItemLink\n                to={{\n                    pathname: '/reviews',\n                    state: { _scrollToTop: true },\n                }}\n                primaryText={translate(`resources.reviews.name`, {\n                    smart_count: 2,\n                })}\n                leftIcon={<reviews.icon />}\n                dense={dense}\n            />\n        </div>\n    );\n};\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        marginTop: theme.spacing(1),\n        marginBottom: theme.spacing(1),\n        transition: theme.transitions.create('width', {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n    },\n    open: {\n        width: 200,\n    },\n    closed: {\n        width: 55,\n    },\n}));\n\nexport default Menu;\n","export const darkTheme = {\n    palette: {\n        primary: {\n            main: '#90caf9',\n        },\n        secondary: {\n            main: '#FBBA72',\n        },\n        type: 'dark' as 'dark', // Switching the dark mode on is a single property value change.\n    },\n    sidebar: {\n        width: 200,\n    },\n    overrides: {\n        MuiAppBar: {\n            colorSecondary: {\n                color: '#ffffffb3',\n                backgroundColor: '#616161e6',\n            },\n        },\n        MuiButtonBase: {\n            root: {\n                '&:hover:active::after': {\n                    // recreate a static ripple color\n                    // use the currentColor to make it work both for outlined and contained buttons\n                    // but to dim the background without dimming the text,\n                    // put another element on top with a limited opacity\n                    content: '\"\"',\n                    display: 'block',\n                    width: '100%',\n                    height: '100%',\n                    position: 'absolute',\n                    top: 0,\n                    right: 0,\n                    backgroundColor: 'currentColor',\n                    opacity: 0.3,\n                    borderRadius: 'inherit',\n                },\n            },\n        },\n    },\n    props: {\n        MuiButtonBase: {\n            // disable ripple for perf reasons\n            disableRipple: true,\n        },\n    },\n};\n\nexport const lightTheme = {\n    palette: {\n        primary: {\n            main: '#4f3cc9',\n        },\n        secondary: {\n            light: '#5f5fc4',\n            main: '#283593',\n            dark: '#001064',\n            contrastText: '#fff',\n        },\n        background: {\n            default: '#fcfcfe',\n        },\n        type: 'light' as 'light',\n    },\n    shape: {\n        borderRadius: 10,\n    },\n    sidebar: {\n        width: 200,\n    },\n    overrides: {\n        RaMenuItemLink: {\n            root: {\n                borderLeft: '3px solid #fff',\n            },\n            active: {\n                borderLeft: '3px solid #4f3cc9',\n            },\n        },\n        MuiPaper: {\n            elevation1: {\n                boxShadow: 'none',\n            },\n            root: {\n                border: '1px solid #e0e0e3',\n                backgroundClip: 'padding-box',\n            },\n        },\n        MuiButton: {\n            contained: {\n                backgroundColor: '#fff',\n                color: '#4f3cc9',\n                boxShadow: 'none',\n            },\n        },\n        MuiButtonBase: {\n            root: {\n                '&:hover:active::after': {\n                    // recreate a static ripple color\n                    // use the currentColor to make it work both for outlined and contained buttons\n                    // but to dim the background without dimming the text,\n                    // put another element on top with a limited opacity\n                    content: '\"\"',\n                    display: 'block',\n                    width: '100%',\n                    height: '100%',\n                    position: 'absolute',\n                    top: 0,\n                    right: 0,\n                    backgroundColor: 'currentColor',\n                    opacity: 0.3,\n                    borderRadius: 'inherit',\n                },\n            },\n        },\n        MuiAppBar: {\n            colorSecondary: {\n                color: '#808080',\n                backgroundColor: '#fff',\n            },\n        },\n        MuiLinearProgress: {\n            colorPrimary: {\n                backgroundColor: '#f5f5f5',\n            },\n            barColorPrimary: {\n                backgroundColor: '#d7d7d7',\n            },\n        },\n        MuiFilledInput: {\n            root: {\n                backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                '&$disabled': {\n                    backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                },\n            },\n        },\n        MuiSnackbarContent: {\n            root: {\n                border: 'none',\n            },\n        },\n    },\n    props: {\n        MuiButtonBase: {\n            // disable ripple for perf reasons\n            disableRipple: true,\n        },\n    },\n};\n","import * as React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Layout, LayoutProps } from 'react-admin';\nimport AppBar from './AppBar';\nimport Menu from './Menu';\nimport { darkTheme, lightTheme } from './themes';\nimport { AppState } from '../types';\n\nexport default (props: LayoutProps) => {\n    const theme = useSelector((state: AppState) =>\n        state.theme === 'dark' ? darkTheme : lightTheme\n    );\n    return <Layout {...props} appBar={AppBar} menu={Menu} theme={theme} />;\n};\n","import * as React from 'react';\nimport { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Field, withTypes } from 'react-final-form';\nimport { useLocation } from 'react-router-dom';\n\nimport {\n    Avatar,\n    Button,\n    Card,\n    CardActions,\n    CircularProgress,\n    TextField,\n} from '@material-ui/core';\nimport { createMuiTheme, makeStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport LockIcon from '@material-ui/icons/Lock';\nimport { Notification, useTranslate, useLogin, useNotify } from 'react-admin';\n\nimport { lightTheme } from './themes';\n\nconst useStyles = makeStyles(theme => ({\n    main: {\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n        background: 'url(https://source.unsplash.com/random/1600x900)',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n    },\n    card: {\n        minWidth: 300,\n        marginTop: '6em',\n    },\n    avatar: {\n        margin: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    icon: {\n        backgroundColor: theme.palette.secondary.main,\n    },\n    hint: {\n        marginTop: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n        color: theme.palette.grey[500],\n    },\n    form: {\n        padding: '0 1em 1em 1em',\n    },\n    input: {\n        marginTop: '1em',\n    },\n    actions: {\n        padding: '0 1em 1em 1em',\n    },\n}));\n\nconst renderInput = ({\n    meta: { touched, error } = { touched: false, error: undefined },\n    input: { ...inputProps },\n    ...props\n}) => (\n    <TextField\n        error={!!(touched && error)}\n        helperText={touched && error}\n        {...inputProps}\n        {...props}\n        fullWidth\n    />\n);\n\ninterface FormValues {\n    username?: string;\n    password?: string;\n}\n\nconst { Form } = withTypes<FormValues>();\n\nconst Login = () => {\n    const [loading, setLoading] = useState(false);\n    const translate = useTranslate();\n    const classes = useStyles();\n    const notify = useNotify();\n    const login = useLogin();\n    const location = useLocation<{ nextPathname: string } | null>();\n\n    const handleSubmit = (auth: FormValues) => {\n        setLoading(true);\n        login(auth, location.state ? location.state.nextPathname : '/').catch(\n            (error: Error) => {\n                setLoading(false);\n                notify(\n                    typeof error === 'string'\n                        ? error\n                        : typeof error === 'undefined' || !error.message\n                        ? 'ra.auth.sign_in_error'\n                        : error.message,\n                    'warning',\n                    {\n                        _:\n                            typeof error === 'string'\n                                ? error\n                                : error && error.message\n                                ? error.message\n                                : undefined,\n                    }\n                );\n            }\n        );\n    };\n\n    const validate = (values: FormValues) => {\n        const errors: FormValues = {};\n        if (!values.username) {\n            errors.username = translate('ra.validation.required');\n        }\n        if (!values.password) {\n            errors.password = translate('ra.validation.required');\n        }\n        return errors;\n    };\n\n    return (\n        <Form\n            onSubmit={handleSubmit}\n            validate={validate}\n            render={({ handleSubmit }) => (\n                <form onSubmit={handleSubmit} noValidate>\n                    <div className={classes.main}>\n                        <Card className={classes.card}>\n                            <div className={classes.avatar}>\n                                <Avatar className={classes.icon}>\n                                    <LockIcon />\n                                </Avatar>\n                            </div>\n                            <div className={classes.hint}>\n                                Hint: demo / demo\n                            </div>\n                            <div className={classes.form}>\n                                <div className={classes.input}>\n                                    <Field\n                                        autoFocus\n                                        name=\"username\"\n                                        // @ts-ignore\n                                        component={renderInput}\n                                        label={translate('ra.auth.username')}\n                                        disabled={loading}\n                                    />\n                                </div>\n                                <div className={classes.input}>\n                                    <Field\n                                        name=\"password\"\n                                        // @ts-ignore\n                                        component={renderInput}\n                                        label={translate('ra.auth.password')}\n                                        type=\"password\"\n                                        disabled={loading}\n                                    />\n                                </div>\n                            </div>\n                            <CardActions className={classes.actions}>\n                                <Button\n                                    variant=\"contained\"\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={loading}\n                                    fullWidth\n                                >\n                                    {loading && (\n                                        <CircularProgress\n                                            size={25}\n                                            thickness={2}\n                                        />\n                                    )}\n                                    {translate('ra.auth.sign_in')}\n                                </Button>\n                            </CardActions>\n                        </Card>\n                        <Notification />\n                    </div>\n                </form>\n            )}\n        />\n    );\n};\n\nLogin.propTypes = {\n    authProvider: PropTypes.func,\n    previousRoute: PropTypes.string,\n};\n\n// We need to put the ThemeProvider decoration in another component\n// Because otherwise the useStyles() hook used in Login won't get\n// the right theme\nconst LoginWithTheme = (props: any) => (\n    <ThemeProvider theme={createMuiTheme(lightTheme)}>\n        <Login {...props} />\n    </ThemeProvider>\n);\n\nexport default LoginWithTheme;\n","export default __webpack_public_path__ + \"static/media/welcome_illustration.cd84d2be.svg\";","import * as React from 'react';\nimport { Box, Card, CardActions, Button, Typography } from '@material-ui/core';\nimport HomeIcon from '@material-ui/icons/Home';\nimport CodeIcon from '@material-ui/icons/Code';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\n\nimport publishArticleImage from './welcome_illustration.svg';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        background:\n            theme.palette.type === 'dark'\n                ? '#535353'\n                : `linear-gradient(to right, #8975fb 0%, #746be7 35%), linear-gradient(to bottom, #8975fb 0%, #6f4ceb 50%), #6f4ceb`,\n\n        color: '#fff',\n        padding: 20,\n        marginTop: theme.spacing(2),\n        marginBottom: '1em',\n    },\n    media: {\n        background: `url(${publishArticleImage}) top right / cover`,\n        marginLeft: 'auto',\n    },\n    actions: {\n        [theme.breakpoints.down('md')]: {\n            padding: 0,\n            flexWrap: 'wrap',\n            '& a': {\n                marginTop: '1em',\n                marginLeft: '0!important',\n                marginRight: '1em',\n            },\n        },\n    },\n}));\n\nconst Welcome = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <Box display=\"flex\">\n                <Box flex=\"1\">\n                    <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                        {translate('pos.dashboard.welcome.title')}\n                    </Typography>\n                    <Box maxWidth=\"40em\">\n                        <Typography variant=\"body1\" component=\"p\" gutterBottom>\n                            {translate('pos.dashboard.welcome.subtitle')}\n                        </Typography>\n                    </Box>\n                    <CardActions className={classes.actions}>\n                        <Button\n                            variant=\"contained\"\n                            href=\"https://marmelab.com/react-admin\"\n                            startIcon={<HomeIcon />}\n                        >\n                            {translate('pos.dashboard.welcome.ra_button')}\n                        </Button>\n                        <Button\n                            variant=\"contained\"\n                            href=\"https://github.com/marmelab/react-admin/tree/master/examples/demo\"\n                            startIcon={<CodeIcon />}\n                        >\n                            {translate('pos.dashboard.welcome.demo_button')}\n                        </Button>\n                    </CardActions>\n                </Box>\n\n                <Box\n                    display={{ xs: 'none', sm: 'none', md: 'block' }}\n                    className={classes.media}\n                    width=\"16em\"\n                    height=\"9em\"\n                    overflow=\"hidden\"\n                />\n            </Box>\n        </Card>\n    );\n};\n\nexport default Welcome;\n","import * as React from 'react';\nimport { FC, createElement } from 'react';\nimport { Card, Box, Typography, Divider } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { ReactNode } from 'react';\n\nimport cartouche from './cartouche.png';\nimport cartoucheDark from './cartoucheDark.png';\n\ninterface Props {\n    icon: FC<any>;\n    to: string;\n    title?: string;\n    subtitle?: string | number;\n    children?: ReactNode;\n}\n\nconst useStyles = makeStyles(theme => ({\n    card: {\n        minHeight: 52,\n        display: 'flex',\n        flexDirection: 'column',\n        flex: '1',\n        '& a': {\n            textDecoration: 'none',\n            color: 'inherit',\n        },\n    },\n    main: (props: Props) => ({\n        overflow: 'inherit',\n        padding: 16,\n        background: `url(${\n            theme.palette.type === 'dark' ? cartoucheDark : cartouche\n        }) no-repeat`,\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        '& .icon': {\n            color: theme.palette.type === 'dark' ? 'inherit' : '#dc2440',\n        },\n    }),\n    title: {},\n}));\n\nconst CardWithIcon = (props: Props) => {\n    const { icon, title, subtitle, to, children } = props;\n    const classes = useStyles(props);\n    return (\n        <Card className={classes.card}>\n            <Link to={to}>\n                <div className={classes.main}>\n                    <Box width=\"3em\" className=\"icon\">\n                        {createElement(icon, { fontSize: 'large' })}\n                    </Box>\n                    <Box textAlign=\"right\">\n                        <Typography\n                            className={classes.title}\n                            color=\"textSecondary\"\n                        >\n                            {title}\n                        </Typography>\n                        <Typography variant=\"h5\" component=\"h2\">\n                            {subtitle || ''}\n                        </Typography>\n                    </Box>\n                </div>\n            </Link>\n            {children && <Divider />}\n            {children}\n        </Card>\n    );\n};\n\nexport default CardWithIcon;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRFU1NTU1NTUFBQAAAAUVFRUVFRU1NTT09PU1NTR0dHUlJSTk5OUlJSUVFRUlJSTk5OU1NTT09PS0tLU1NTUVFRUVFRU1NTUVFRUlJSUVFRS0tLUFBQUVFRUVFRUVFRUVFRQEBAUVFRU1NTU1NTU1NTU1NTU1NTU1NTSUlJUFBQU1NTUlJSUVFRTk5OT09PUVFRSkpKUVFRU1NTU1NTTk5OT09PUlJSTU1NUVFRU1NTSEhIU1NTUVFRUVFRUVFROzs7U1NTU1NTUlJSKysrU1NTUlJSRkZGU1NTTU1NU1NTUlJSUVFRUVFRU1NTSUlJap2IRgAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRF/Ors/Ojs+ubrAAAA/Ojs++np/Ojs9ujo/Onq8+Hh+urr9Onp++rr/Orq+Obr++Xl+urq+enr++bm+uns+ubr/Ors++nr/Ors+ubr+ujs++Xl/Ofs/Orq++fr+ers+ujsv7+/++rq+Ofs+urs++rq/Ors/Onq8d3j7dvb+urs+urr+ufr+ujs+Orq+ers++js9OPj+ujs/Ojo+unq9+ns9+bo++jr/Ofn/Orr+enp8uXl/Orq/Obm/Ors+urq2NjY+urr/Onp/OXo1dXV+ujq/Ojr8Ojo+Obo9uTn/Ojr++ns+urr+urq/Ors8+fnTQPn1wAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg==\"","import * as React from 'react';\nimport DollarIcon from '@material-ui/icons/AttachMoney';\nimport { useTranslate } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\n\ninterface Props {\n    value?: string;\n}\n\nconst MonthlyRevenue = (props: Props) => {\n    const { value } = props;\n    const translate = useTranslate();\n    return (\n        <CardWithIcon\n            to=\"/commands\"\n            icon={DollarIcon}\n            title={translate('pos.dashboard.monthly_revenue')}\n            subtitle={value}\n        />\n    );\n};\n\nexport default MonthlyRevenue;\n","import * as React from 'react';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport { useTranslate } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\n\ninterface Props {\n    value?: number;\n}\n\nconst NbNewOrders = (props: Props) => {\n    const { value } = props;\n    const translate = useTranslate();\n    return (\n        <CardWithIcon\n            to=\"/commands\"\n            icon={ShoppingCartIcon}\n            title={translate('pos.dashboard.new_orders')}\n            subtitle={value}\n        />\n    );\n};\n\nexport default NbNewOrders;\n","import * as React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\nimport { Customer, Order } from '../types';\n\ninterface Props {\n    orders?: Order[];\n    customers?: { [key: string]: Customer };\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flex: 1,\n    },\n    cost: {\n        marginRight: '1em',\n        color: theme.palette.text.primary,\n    },\n}));\n\nconst PendingOrders = (props: Props) => {\n    const { orders = [], customers = {} } = props;\n    const classes = useStyles();\n    const translate = useTranslate();\n    return (\n        <Card className={classes.root}>\n            <CardHeader title={translate('pos.dashboard.pending_orders')} />\n            <List dense={true}>\n                {orders.map(record => (\n                    <ListItem\n                        key={record.id}\n                        button\n                        component={Link}\n                        to={`/commands/${record.id}`}\n                    >\n                        <ListItemAvatar>\n                            {customers[record.customer_id] ? (\n                                <Avatar\n                                    src={`${\n                                        customers[record.customer_id].avatar\n                                    }?size=32x32`}\n                                />\n                            ) : (\n                                <Avatar />\n                            )}\n                        </ListItemAvatar>\n                        <ListItemText\n                            primary={new Date(record.date).toLocaleString(\n                                'en-GB'\n                            )}\n                            secondary={translate('pos.dashboard.order.items', {\n                                smart_count: record.basket.length,\n                                nb_items: record.basket.length,\n                                customer_name: customers[record.customer_id]\n                                    ? `${\n                                          customers[record.customer_id]\n                                              .first_name\n                                      } ${\n                                          customers[record.customer_id]\n                                              .last_name\n                                      }`\n                                    : '',\n                            })}\n                        />\n                        <ListItemSecondaryAction>\n                            <span className={classes.cost}>\n                                {record.total}$\n                            </span>\n                        </ListItemSecondaryAction>\n                    </ListItem>\n                ))}\n            </List>\n        </Card>\n    );\n};\n\nexport default PendingOrders;\n","import * as React from 'react';\nimport {\n    Avatar,\n    Box,\n    Button,\n    List,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CommentIcon from '@material-ui/icons/Comment';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\nimport StarRatingField from '../reviews/StarRatingField';\nimport { Customer, Review } from '../types';\n\ninterface Props {\n    reviews?: Review[];\n    customers?: { [key: string]: Customer };\n    nb?: number;\n}\n\nconst PendingReviews = ({ reviews = [], customers = {}, nb }: Props) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n    return (\n        <CardWithIcon\n            to=\"/reviews\"\n            icon={CommentIcon}\n            title={translate('pos.dashboard.pending_reviews')}\n            subtitle={nb}\n        >\n            <List>\n                {reviews.map((record: Review) => (\n                    <ListItem\n                        key={record.id}\n                        button\n                        component={Link}\n                        to={`/reviews/${record.id}`}\n                        alignItems=\"flex-start\"\n                    >\n                        <ListItemAvatar>\n                            {customers[record.customer_id] ? (\n                                <Avatar\n                                    src={`${\n                                        customers[record.customer_id].avatar\n                                    }?size=32x32`}\n                                    className={classes.avatar}\n                                />\n                            ) : (\n                                <Avatar />\n                            )}\n                        </ListItemAvatar>\n\n                        <ListItemText\n                            primary={<StarRatingField record={record} />}\n                            secondary={record.comment}\n                            className={classes.listItemText}\n                            style={{ paddingRight: 0 }}\n                        />\n                    </ListItem>\n                ))}\n            </List>\n            <Box flexGrow=\"1\">&nbsp;</Box>\n            <Button\n                className={classes.link}\n                component={Link}\n                to=\"/reviews\"\n                size=\"small\"\n                color=\"primary\"\n            >\n                <Box p={1} className={classes.linkContent}>\n                    {translate('pos.dashboard.all_reviews')}\n                </Box>\n            </Button>\n        </CardWithIcon>\n    );\n};\n\nconst useStyles = makeStyles(theme => ({\n    avatar: {\n        background: theme.palette.background.paper,\n    },\n    listItemText: {\n        overflowY: 'hidden',\n        height: '4em',\n        display: '-webkit-box',\n        WebkitLineClamp: 2,\n        WebkitBoxOrient: 'vertical',\n    },\n    link: {\n        borderRadius: 0,\n    },\n    linkContent: {\n        color: theme.palette.primary.main,\n    },\n}));\n\nexport default PendingReviews;\n","import * as React from 'react';\nimport {\n    Avatar,\n    Box,\n    Button,\n    List,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CustomerIcon from '@material-ui/icons/PersonAdd';\nimport { Link } from 'react-router-dom';\nimport { useTranslate, useQueryWithStore } from 'react-admin';\nimport { subDays } from 'date-fns';\n\nimport CardWithIcon from './CardWithIcon';\nimport { Customer } from '../types';\n\nconst NewCustomers = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    const aMonthAgo = subDays(new Date(), 30);\n    aMonthAgo.setDate(aMonthAgo.getDate() - 30);\n    aMonthAgo.setHours(0);\n    aMonthAgo.setMinutes(0);\n    aMonthAgo.setSeconds(0);\n    aMonthAgo.setMilliseconds(0);\n\n    const { loaded, data: visitors } = useQueryWithStore({\n        type: 'getList',\n        resource: 'customers',\n        payload: {\n            filter: {\n                has_ordered: true,\n                first_seen_gte: aMonthAgo.toISOString(),\n            },\n            sort: { field: 'first_seen', order: 'DESC' },\n            pagination: { page: 1, perPage: 100 },\n        },\n    });\n\n    if (!loaded) return null;\n\n    const nb = visitors ? visitors.reduce((nb: number) => ++nb, 0) : 0;\n    return (\n        <CardWithIcon\n            to=\"/customers\"\n            icon={CustomerIcon}\n            title={translate('pos.dashboard.new_customers')}\n            subtitle={nb}\n        >\n            <List>\n                {visitors\n                    ? visitors.map((record: Customer) => (\n                          <ListItem\n                              button\n                              to={`/customers/${record.id}`}\n                              component={Link}\n                              key={record.id}\n                          >\n                              <ListItemAvatar>\n                                  <Avatar src={`${record.avatar}?size=32x32`} />\n                              </ListItemAvatar>\n                              <ListItemText\n                                  primary={`${record.first_name} ${record.last_name}`}\n                              />\n                          </ListItem>\n                      ))\n                    : null}\n            </List>\n            <Box flexGrow=\"1\">&nbsp;</Box>\n            <Button\n                className={classes.link}\n                component={Link}\n                to=\"/customers\"\n                size=\"small\"\n                color=\"primary\"\n            >\n                <Box p={1} className={classes.linkContent}>\n                    {translate('pos.dashboard.all_customers')}\n                </Box>\n            </Button>\n        </CardWithIcon>\n    );\n};\n\nconst useStyles = makeStyles(theme => ({\n    link: {\n        borderRadius: 0,\n    },\n    linkContent: {\n        color: theme.palette.primary.main,\n    },\n}));\n\nexport default NewCustomers;\n","import * as React from 'react';\nimport { Card, CardHeader, CardContent } from '@material-ui/core';\nimport {\n    ResponsiveContainer,\n    AreaChart,\n    Area,\n    XAxis,\n    YAxis,\n    CartesianGrid,\n    Tooltip,\n} from 'recharts';\nimport { useTranslate } from 'react-admin';\nimport { format, subDays, addDays } from 'date-fns';\n\nimport { Order } from '../types';\n\nconst lastDay = new Date();\nconst lastMonthDays = Array.from({ length: 30 }, (_, i) => subDays(lastDay, i));\nconst aMonthAgo = subDays(new Date(), 30);\n\nconst dateFormatter = (date: number): string =>\n    new Date(date).toLocaleDateString();\n\nconst aggregateOrdersByDay = (orders: Order[]): { [key: string]: number } =>\n    orders\n        .filter((order: Order) => order.status !== 'cancelled')\n        .reduce((acc, curr) => {\n            const day = format(curr.date, 'YYYY-MM-DD');\n            if (!acc[day]) {\n                acc[day] = 0;\n            }\n            acc[day] += curr.total;\n            return acc;\n        }, {} as { [key: string]: number });\n\nconst getRevenuePerDay = (orders: Order[]): TotalByDay[] => {\n    const daysWithRevenue = aggregateOrdersByDay(orders);\n    return lastMonthDays.map(date => ({\n        date: date.getTime(),\n        total: daysWithRevenue[format(date, 'YYYY-MM-DD')] || 0,\n    }));\n};\n\nconst OrderChart = (props: { orders?: Order[] }) => {\n    const { orders } = props;\n    const translate = useTranslate();\n    if (!orders) return null;\n\n    return (\n        <Card>\n            <CardHeader title={translate('pos.dashboard.month_history')} />\n            <CardContent>\n                <div style={{ width: '100%', height: 300 }}>\n                    <ResponsiveContainer>\n                        <AreaChart data={getRevenuePerDay(orders)}>\n                            <defs>\n                                <linearGradient\n                                    id=\"colorUv\"\n                                    x1=\"0\"\n                                    y1=\"0\"\n                                    x2=\"0\"\n                                    y2=\"1\"\n                                >\n                                    <stop\n                                        offset=\"5%\"\n                                        stopColor=\"#8884d8\"\n                                        stopOpacity={0.8}\n                                    />\n                                    <stop\n                                        offset=\"95%\"\n                                        stopColor=\"#8884d8\"\n                                        stopOpacity={0}\n                                    />\n                                </linearGradient>\n                            </defs>\n                            <XAxis\n                                dataKey=\"date\"\n                                name=\"Date\"\n                                type=\"number\"\n                                scale=\"time\"\n                                domain={[\n                                    addDays(aMonthAgo, 1).getTime(),\n                                    new Date().getTime(),\n                                ]}\n                                tickFormatter={dateFormatter}\n                            />\n                            <YAxis dataKey=\"total\" name=\"Revenue\" unit=\"\" />\n                            <CartesianGrid strokeDasharray=\"3 3\" />\n                            <Tooltip\n                                cursor={{ strokeDasharray: '3 3' }}\n                                formatter={value =>\n                                    new Intl.NumberFormat(undefined, {\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }).format(value as any)\n                                }\n                                labelFormatter={(label: any) =>\n                                    dateFormatter(label)\n                                }\n                            />\n                            <Area\n                                type=\"monotone\"\n                                dataKey=\"total\"\n                                stroke=\"#8884d8\"\n                                strokeWidth={2}\n                                fill=\"url(#colorUv)\"\n                            />\n                        </AreaChart>\n                    </ResponsiveContainer>\n                </div>\n            </CardContent>\n        </Card>\n    );\n};\n\ninterface TotalByDay {\n    date: number;\n    total: number;\n}\n\nexport default OrderChart;\n","import React, { useState, useEffect, useCallback, CSSProperties } from 'react';\nimport { useVersion, useDataProvider } from 'react-admin';\nimport { useMediaQuery, Theme } from '@material-ui/core';\nimport { subDays } from 'date-fns';\n\nimport Welcome from './Welcome';\nimport MonthlyRevenue from './MonthlyRevenue';\nimport NbNewOrders from './NbNewOrders';\nimport PendingOrders from './PendingOrders';\nimport PendingReviews from './PendingReviews';\nimport NewCustomers from './NewCustomers';\nimport OrderChart from './OrderChart';\n\nimport { Customer, Order, Review } from '../types';\n\ninterface OrderStats {\n    revenue: number;\n    nbNewOrders: number;\n    pendingOrders: Order[];\n}\n\ninterface CustomerData {\n    [key: string]: Customer;\n}\n\ninterface State {\n    nbNewOrders?: number;\n    nbPendingReviews?: number;\n    pendingOrders?: Order[];\n    pendingOrdersCustomers?: CustomerData;\n    pendingReviews?: Review[];\n    pendingReviewsCustomers?: CustomerData;\n    recentOrders?: Order[];\n    revenue?: string;\n}\n\nconst styles = {\n    flex: { display: 'flex' },\n    flexColumn: { display: 'flex', flexDirection: 'column' },\n    leftCol: { flex: 1, marginRight: '0.5em' },\n    rightCol: { flex: 1, marginLeft: '0.5em' },\n    singleCol: { marginTop: '1em', marginBottom: '1em' },\n};\n\nconst Spacer = () => <span style={{ width: '1em' }} />;\nconst VerticalSpacer = () => <span style={{ height: '1em' }} />;\n\nconst Dashboard = () => {\n    const [state, setState] = useState<State>({});\n    const version = useVersion();\n    const dataProvider = useDataProvider();\n    const isXSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('xs')\n    );\n    const isSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('md')\n    );\n\n    const fetchOrders = useCallback(async () => {\n        const aMonthAgo = subDays(new Date(), 30);\n        const { data: recentOrders } = await dataProvider.getList<Order>(\n            'commands',\n            {\n                filter: { date_gte: aMonthAgo.toISOString() },\n                sort: { field: 'date', order: 'DESC' },\n                pagination: { page: 1, perPage: 50 },\n            }\n        );\n        const aggregations = recentOrders\n            .filter(order => order.status !== 'cancelled')\n            .reduce(\n                (stats: OrderStats, order) => {\n                    if (order.status !== 'cancelled') {\n                        stats.revenue += order.total;\n                        stats.nbNewOrders++;\n                    }\n                    if (order.status === 'ordered') {\n                        stats.pendingOrders.push(order);\n                    }\n                    return stats;\n                },\n                {\n                    revenue: 0,\n                    nbNewOrders: 0,\n                    pendingOrders: [],\n                }\n            );\n        setState(state => ({\n            ...state,\n            recentOrders,\n            revenue: aggregations.revenue.toLocaleString(undefined, {\n                style: 'currency',\n                currency: 'USD',\n                minimumFractionDigits: 0,\n                maximumFractionDigits: 0,\n            }),\n            nbNewOrders: aggregations.nbNewOrders,\n            pendingOrders: aggregations.pendingOrders,\n        }));\n        const { data: customers } = await dataProvider.getMany<Customer>(\n            'customers',\n            {\n                ids: aggregations.pendingOrders.map(\n                    (order: Order) => order.customer_id\n                ),\n            }\n        );\n        setState(state => ({\n            ...state,\n            pendingOrdersCustomers: customers.reduce(\n                (prev: CustomerData, customer) => {\n                    prev[customer.id] = customer; // eslint-disable-line no-param-reassign\n                    return prev;\n                },\n                {}\n            ),\n        }));\n    }, [dataProvider]);\n\n    const fetchReviews = useCallback(async () => {\n        const { data: reviews } = await dataProvider.getList<Review>(\n            'reviews',\n            {\n                filter: { status: 'pending' },\n                sort: { field: 'date', order: 'DESC' },\n                pagination: { page: 1, perPage: 100 },\n            }\n        );\n        const nbPendingReviews = reviews.reduce((nb: number) => ++nb, 0);\n        const pendingReviews = reviews.slice(0, Math.min(10, reviews.length));\n        setState(state => ({ ...state, pendingReviews, nbPendingReviews }));\n        const { data: customers } = await dataProvider.getMany<Customer>(\n            'customers',\n            {\n                ids: pendingReviews.map(review => review.customer_id),\n            }\n        );\n        setState(state => ({\n            ...state,\n            pendingReviewsCustomers: customers.reduce(\n                (prev: CustomerData, customer) => {\n                    prev[customer.id] = customer; // eslint-disable-line no-param-reassign\n                    return prev;\n                },\n                {}\n            ),\n        }));\n    }, [dataProvider]);\n\n    useEffect(() => {\n        fetchOrders();\n        fetchReviews();\n    }, [version]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    const {\n        nbNewOrders,\n        nbPendingReviews,\n        pendingOrders,\n        pendingOrdersCustomers,\n        pendingReviews,\n        pendingReviewsCustomers,\n        revenue,\n        recentOrders,\n    } = state;\n    return isXSmall ? (\n        <div>\n            <div style={styles.flexColumn as CSSProperties}>\n                <Welcome />\n                <MonthlyRevenue value={revenue} />\n                <VerticalSpacer />\n                <NbNewOrders value={nbNewOrders} />\n                <VerticalSpacer />\n                <PendingOrders\n                    orders={pendingOrders}\n                    customers={pendingOrdersCustomers}\n                />\n            </div>\n        </div>\n    ) : isSmall ? (\n        <div style={styles.flexColumn as CSSProperties}>\n            <div style={styles.singleCol}>\n                <Welcome />\n            </div>\n            <div style={styles.flex}>\n                <MonthlyRevenue value={revenue} />\n                <Spacer />\n                <NbNewOrders value={nbNewOrders} />\n            </div>\n            <div style={styles.singleCol}>\n                <OrderChart orders={recentOrders} />\n            </div>\n            <div style={styles.singleCol}>\n                <PendingOrders\n                    orders={pendingOrders}\n                    customers={pendingOrdersCustomers}\n                />\n            </div>\n        </div>\n    ) : (\n        <>\n            <Welcome />\n            <div style={styles.flex}>\n                <div style={styles.leftCol}>\n                    <div style={styles.flex}>\n                        <MonthlyRevenue value={revenue} />\n                        <Spacer />\n                        <NbNewOrders value={nbNewOrders} />\n                    </div>\n                    <div style={styles.singleCol}>\n                        <OrderChart orders={recentOrders} />\n                    </div>\n                    <div style={styles.singleCol}>\n                        <PendingOrders\n                            orders={pendingOrders}\n                            customers={pendingOrdersCustomers}\n                        />\n                    </div>\n                </div>\n                <div style={styles.rightCol}>\n                    <div style={styles.flex}>\n                        <PendingReviews\n                            nb={nbPendingReviews}\n                            reviews={pendingReviews}\n                            customers={pendingReviewsCustomers}\n                        />\n                        <Spacer />\n                        <NewCustomers />\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default Dashboard;\n","import DashboardComponent from './Dashboard';\n\nexport const Dashboard = DashboardComponent;\n","import { useContext, useCallback } from 'react';\nimport { TranslationContext } from './TranslationContext';\nimport { useUpdateLoading } from '../loading';\nimport { useNotify } from '../sideEffect';\n/**\n * Set the current locale using the TranslationContext\n *\n * This hook re-renders when the locale changes.\n *\n * @example\n *\n * import { useSetLocale } from 'react-admin';\n *\n * const availableLanguages = {\n *     en: 'English',\n *     fr: 'Franais',\n * }\n * const LanguageSwitcher = () => {\n *     const setLocale = useSetLocale();\n *     return (\n *         <ul>{\n *             Object.keys(availableLanguages).map(locale => {\n *                  <li key={locale} onClick={() => setLocale(locale)}>\n *                      {availableLanguages[locale]}\n *                  </li>\n *              })\n *         }</ul>\n *     );\n * }\n */\nvar useSetLocale = function () {\n    var _a = useContext(TranslationContext), setLocale = _a.setLocale, i18nProvider = _a.i18nProvider;\n    var _b = useUpdateLoading(), startLoading = _b.startLoading, stopLoading = _b.stopLoading;\n    var notify = useNotify();\n    return useCallback(function (newLocale) {\n        return new Promise(function (resolve) {\n            startLoading();\n            // so we systematically return a Promise for the messages\n            // i18nProvider may return a Promise for language changes,\n            resolve(i18nProvider.changeLocale(newLocale));\n        })\n            .then(function () {\n            stopLoading();\n            setLocale(newLocale);\n        })\n            .catch(function (error) {\n            stopLoading();\n            notify('ra.notification.i18n_error', 'warning');\n            console.error(error);\n        });\n    }, [i18nProvider, notify, setLocale, startLoading, stopLoading]);\n};\nexport default useSetLocale;\n","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { fetchStart, fetchEnd } from '../actions/fetchActions';\n/**\n * Update the loading count, which starts or stops the loading indicator.\n *\n * To be used to show the loading indicator when you don't use the dataProvider.\n *\n * @return {Object} startLoading and stopLoading callbacks\n *\n * @example\n * import { useUpdateLoading } from 'react-admin'\n *\n * const MyComponent = () => {\n *      const { startLoading, stopLoading } = useUpdateLoading();\n *      useEffect(() => {\n *          startLoading();\n *          fetch('http://my.domain.api/foo')\n *              .finally(() => stopLoading());\n *      }, []);\n *      return <span>Foo</span>;\n * }\n */\nexport default (function () {\n    var dispatch = useDispatch();\n    var startLoading = useCallback(function () {\n        dispatch(fetchStart());\n    }, [dispatch]);\n    var stopLoading = useCallback(function () {\n        dispatch(fetchEnd());\n    }, [dispatch]);\n    return { startLoading: startLoading, stopLoading: stopLoading };\n});\n","import * as React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport { useTranslate, useLocale, useSetLocale, Title } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { changeTheme } from './actions';\nimport { AppState } from '../types';\n\nconst useStyles = makeStyles({\n    label: { width: '10em', display: 'inline-block' },\n    button: { margin: '1em' },\n});\n\nconst Configuration = () => {\n    const translate = useTranslate();\n    const locale = useLocale();\n    const setLocale = useSetLocale();\n    const classes = useStyles();\n    const theme = useSelector((state: AppState) => state.theme);\n    const dispatch = useDispatch();\n    return (\n        <Card>\n            <Title title={translate('pos.configuration')} />\n            <CardContent>\n                <div className={classes.label}>\n                    {translate('pos.theme.name')}\n                </div>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={theme === 'light' ? 'primary' : 'default'}\n                    onClick={() => dispatch(changeTheme('light'))}\n                >\n                    {translate('pos.theme.light')}\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={theme === 'dark' ? 'primary' : 'default'}\n                    onClick={() => dispatch(changeTheme('dark'))}\n                >\n                    {translate('pos.theme.dark')}\n                </Button>\n            </CardContent>\n            <CardContent>\n                <div className={classes.label}>{translate('pos.language')}</div>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={locale === 'en' ? 'primary' : 'default'}\n                    onClick={() => setLocale('en')}\n                >\n                    en\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={locale === 'fr' ? 'primary' : 'default'}\n                    onClick={() => setLocale('fr')}\n                >\n                    fr\n                </Button>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Configuration;\n","import * as React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\nimport { stringify } from 'query-string';\n\nimport visitors from '../visitors';\n\nconst useStyles = makeStyles({\n    icon: { paddingRight: '0.5em' },\n    link: {\n        display: 'inline-flex',\n        alignItems: 'center',\n    },\n});\n\nconst LinkToRelatedCustomers = ({ segment }: { segment: string }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Button\n            size=\"small\"\n            color=\"primary\"\n            component={Link}\n            to={{\n                pathname: '/customers',\n                search: stringify({\n                    filter: JSON.stringify({ groups: segment }),\n                }),\n            }}\n            className={classes.link}\n        >\n            <visitors.icon className={classes.icon} />\n            {translate('resources.segments.fields.customers')}\n        </Button>\n    );\n};\n\nexport default LinkToRelatedCustomers;\n","import * as React from 'react';\nimport Card from '@material-ui/core/Card';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, Title } from 'react-admin';\n\nimport LinkToRelatedCustomers from './LinkToRelatedCustomers';\nimport segments from './data';\n\nconst useStyles = makeStyles({\n    root: {\n        marginTop: 16,\n    },\n});\n\nconst Segments = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <Title\n                title={translate('resources.segments.name', { smart_count: 2 })}\n            />\n            <Table size=\"small\">\n                <TableHead>\n                    <TableRow>\n                        <TableCell>\n                            {translate('resources.segments.fields.name')}\n                        </TableCell>\n                        <TableCell />\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {segments.map(segment => (\n                        <TableRow key={segment.id}>\n                            <TableCell>{translate(segment.name)}</TableCell>\n                            <TableCell>\n                                <LinkToRelatedCustomers segment={segment.id} />\n                            </TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n        </Card>\n    );\n};\n\nexport default Segments;\n","import * as React from 'react';\nimport { Route } from 'react-router-dom';\nimport Configuration from './configuration/Configuration';\nimport Segments from './segments/Segments';\n\nexport default [\n    <Route exact path=\"/configuration\" render={() => <Configuration />} />,\n    <Route exact path=\"/segments\" render={() => <Segments />} />,\n];\n","import { TranslationMessages } from 'react-admin';\nimport englishMessages from 'ra-language-english';\n\nconst customEnglishMessages: TranslationMessages = {\n    ...englishMessages,\n    pos: {\n        search: 'Search',\n        configuration: 'Configuration',\n        language: 'Language',\n        theme: {\n            name: 'Theme',\n            light: 'Light',\n            dark: 'Dark',\n        },\n        dashboard: {\n            monthly_revenue: 'Monthly Revenue',\n            month_history: '30 Day Revenue History',\n            new_orders: 'New Orders',\n            pending_reviews: 'Pending Reviews',\n            all_reviews: 'See all reviews',\n            new_customers: 'New Customers',\n            all_customers: 'See all customers',\n            pending_orders: 'Pending Orders',\n            order: {\n                items:\n                    'by %{customer_name}, one item |||| by %{customer_name}, %{nb_items} items',\n            },\n            welcome: {\n                title: 'Welcome to the react-admin e-commerce demo',\n                subtitle:\n                    \"This is the admin of an imaginary poster shop. Feel free to explore and modify the data - it's local to your computer, and will reset each time you reload.\",\n                ra_button: 'react-admin site',\n                demo_button: 'Source for this demo',\n            },\n        },\n        menu: {\n            sales: 'Sales',\n            catalog: 'Catalog',\n            customers: 'Customers',\n        },\n    },\n    resources: {\n        customers: {\n            name: 'Customer |||| Customers',\n            fields: {\n                commands: 'Orders',\n                first_seen: 'First seen',\n                groups: 'Segments',\n                last_seen: 'Last seen',\n                last_seen_gte: 'Visited Since',\n                name: 'Name',\n                total_spent: 'Total spent',\n                password: 'Password',\n                confirm_password: 'Confirm password',\n                stateAbbr: 'State',\n            },\n            filters: {\n                last_visited: 'Last visited',\n                today: 'Today',\n                this_week: 'This week',\n                last_week: 'Last week',\n                this_month: 'This month',\n                last_month: 'Last month',\n                earlier: 'Earlier',\n                has_ordered: 'Has ordered',\n                has_newsletter: 'Has newsletter',\n                group: 'Segment',\n            },\n            fieldGroups: {\n                identity: 'Identity',\n                address: 'Address',\n                stats: 'Stats',\n                history: 'History',\n                password: 'Password',\n                change_password: 'Change Password',\n            },\n            page: {\n                delete: 'Delete Customer',\n            },\n            errors: {\n                password_mismatch:\n                    'The password confirmation is not the same as the password.',\n            },\n        },\n        commands: {\n            name: 'Order |||| Orders',\n            amount: '1 order |||| %{smart_count} orders',\n            title: 'Order %{reference}',\n            fields: {\n                basket: {\n                    delivery: 'Delivery',\n                    reference: 'Reference',\n                    quantity: 'Quantity',\n                    sum: 'Sum',\n                    tax_rate: 'Tax Rate',\n                    taxes: 'Tax',\n                    total: 'Total',\n                    unit_price: 'Unit Price',\n                },\n                address: 'Address',\n                customer_id: 'Customer',\n                date_gte: 'Passed Since',\n                date_lte: 'Passed Before',\n                nb_items: 'Nb Items',\n                total_gte: 'Min amount',\n                status: 'Status',\n                returned: 'Returned',\n            },\n            section: {\n                order: 'Order',\n                customer: 'Customer',\n                shipping_address: 'Shipping Address',\n                items: 'Items',\n                total: 'Totals',\n            },\n        },\n        invoices: {\n            name: 'Invoice |||| Invoices',\n            fields: {\n                date: 'Invoice date',\n                customer_id: 'Customer',\n                command_id: 'Order',\n                date_gte: 'Passed Since',\n                date_lte: 'Passed Before',\n                total_gte: 'Min amount',\n                address: 'Address',\n            },\n        },\n        products: {\n            name: 'Poster |||| Posters',\n            fields: {\n                category_id: 'Category',\n                height_gte: 'Min height',\n                height_lte: 'Max height',\n                height: 'Height',\n                image: 'Image',\n                price: 'Price',\n                reference: 'Reference',\n                sales: 'Sales',\n                stock_lte: 'Low Stock',\n                stock: 'Stock',\n                thumbnail: 'Thumbnail',\n                width_gte: 'Min width',\n                width_lte: 'Max width',\n                width: 'Width',\n            },\n            tabs: {\n                image: 'Image',\n                details: 'Details',\n                description: 'Description',\n                reviews: 'Reviews',\n            },\n            filters: {\n                categories: 'Categories',\n                stock: 'Stock',\n                no_stock: 'Out of stock',\n                low_stock: '1 - 9 items',\n                average_stock: '10 - 49 items',\n                enough_stock: '50 items & more',\n                sales: 'Sales',\n                best_sellers: 'Best sellers',\n                average_sellers: 'Average',\n                low_sellers: 'Low',\n                never_sold: 'Never sold',\n            },\n        },\n        categories: {\n            name: 'Category |||| Categories',\n            fields: {\n                products: 'Products',\n            },\n        },\n        reviews: {\n            name: 'Review |||| Reviews',\n            amount: '1 review |||| %{smart_count} reviews',\n            relative_to_poster: 'Review on poster',\n            detail: 'Review detail',\n            fields: {\n                customer_id: 'Customer',\n                command_id: 'Order',\n                product_id: 'Product',\n                date_gte: 'Posted since',\n                date_lte: 'Posted before',\n                date: 'Date',\n                comment: 'Comment',\n                rating: 'Rating',\n            },\n            action: {\n                accept: 'Accept',\n                reject: 'Reject',\n            },\n            notification: {\n                approved_success: 'Review approved',\n                approved_error: 'Error: Review not approved',\n                rejected_success: 'Review rejected',\n                rejected_error: 'Error: Review not rejected',\n            },\n        },\n        segments: {\n            name: 'Segment |||| Segments',\n            fields: {\n                customers: 'Customers',\n                name: 'Name',\n            },\n            data: {\n                compulsive: 'Compulsive',\n                collector: 'Collector',\n                ordered_once: 'Ordered once',\n                regular: 'Regular',\n                returns: 'Returns',\n                reviewer: 'Reviewer',\n            },\n        },\n    },\n};\n\nexport default customEnglishMessages;\n","export default (type: string) => {\n    switch (type) {\n        case 'graphql':\n            return import('./graphql').then(factory => factory.default());\n        default:\n            return import('./rest').then(factory => factory.default());\n    }\n};\n","import { DataProvider } from 'react-admin';\nimport fakeServerFactory from '../fakeServer';\n\nexport default (type: string) => {\n    // The fake servers require to generate data, which can take some time.\n    // Here we start the server initialization but we don't wait for it to finish\n    let dataProviderPromise = getDataProvider(type);\n\n    // Instead we return this proxy which may be called immediately by react-admin if the\n    // user is already signed-in. In this case, we simply wait for the dataProvider promise\n    // to complete before requesting it the data.\n    // If the user isn't signed in, we already started the server initialization while they see\n    // the login page. By the time they come back to the admin as a signed-in user,\n    // the fake server will be initialized.\n    const dataProviderWithGeneratedData = new Proxy(defaultDataProvider, {\n        get(_, name) {\n            return (resource: string, params: any) => {\n                return dataProviderPromise.then(dataProvider => {\n                    return dataProvider[name.toString()](resource, params);\n                });\n            };\n        },\n    });\n\n    return dataProviderWithGeneratedData;\n};\n\nconst getDataProvider = async (type: string): Promise<DataProvider> => {\n    await fakeServerFactory(process.env.REACT_APP_DATA_PROVIDER || '');\n    /**\n     * This demo can work with either a fake REST server, or a fake GraphQL server.\n     *\n     * To avoid bundling both libraries, the dataProvider and fake server factories\n     * use the import() function, so they are asynchronous.\n     */\n    if (type === 'graphql') {\n        return import('./graphql').then(factory => factory.default());\n    }\n    return import('./rest').then(provider => provider.default);\n};\n\nconst defaultDataProvider: DataProvider = {\n    // @ts-ignore\n    create: () => Promise.resolve({ data: { id: 0 } }),\n    // @ts-ignore\n    delete: () => Promise.resolve({ data: {} }),\n    deleteMany: () => Promise.resolve({}),\n    getList: () => Promise.resolve({ data: [], total: 0 }),\n    getMany: () => Promise.resolve({ data: [] }),\n    getManyReference: () => Promise.resolve({ data: [], total: 0 }),\n    // @ts-ignore\n    getOne: () => Promise.resolve({ data: {} }),\n    // @ts-ignore\n    update: () => Promise.resolve({ data: {} }),\n    updateMany: () => Promise.resolve({}),\n};\n","import * as React from 'react';\nimport { Admin, Resource } from 'react-admin';\nimport polyglotI18nProvider from 'ra-i18n-polyglot';\n\nimport authProvider from './authProvider';\nimport themeReducer from './themeReducer';\nimport { Login, Layout } from './layout';\nimport { Dashboard } from './dashboard';\nimport customRoutes from './routes';\nimport englishMessages from './i18n/en';\n\nimport visitors from './visitors';\nimport orders from './orders';\nimport products from './products';\nimport invoices from './invoices';\nimport categories from './categories';\nimport reviews from './reviews';\nimport dataProviderFactory from './dataProvider';\n\nconst i18nProvider = polyglotI18nProvider(locale => {\n    if (locale === 'fr') {\n        return import('./i18n/fr').then(messages => messages.default);\n    }\n\n    // Always fallback on english\n    return englishMessages;\n}, 'en');\n\nconst App = () => {\n    return (\n        <Admin\n            title=\"\"\n            dataProvider={dataProviderFactory(\n                process.env.REACT_APP_DATA_PROVIDER || ''\n            )}\n            customReducers={{ theme: themeReducer }}\n            customRoutes={customRoutes}\n            authProvider={authProvider}\n            dashboard={Dashboard}\n            loginPage={Login}\n            layout={Layout}\n            i18nProvider={i18nProvider}\n            disableTelemetry\n        >\n            <Resource name=\"customers\" {...visitors} />\n            <Resource\n                name=\"commands\"\n                {...orders}\n                options={{ label: 'Orders' }}\n            />\n            <Resource name=\"invoices\" {...invoices} />\n            <Resource name=\"products\" {...products} />\n            <Resource name=\"categories\" {...categories} />\n            <Resource name=\"reviews\" {...reviews} />\n        </Admin>\n    );\n};\n\nexport default App;\n","/** @jsxRuntime classic */\nimport 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\nimport 'proxy-polyfill';\n// IE11 needs \"jsxRuntime classic\" for this initial file which means that \"React\" needs to be in scope\n// https://github.com/facebook/create-react-app/issues/9906\n\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { refreshView } from '../actions/uiActions';\n/**\n * Hook for Refresh Side Effect\n *\n * Returns a callback that triggers a page refresh. The callback causes a\n * version increase, which forces a re-execution all queries based on the\n * useDataProvider() hook, and a rerender of all components using the version\n * as key.\n *\n * @param hard If true, the callback empties the cache, too\n *\n * @example\n *\n * const refresh = useRefresh();\n * // soft refresh\n * refresh();\n * // hard refresh\n * refresh(true)\n */\nvar useRefresh = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (hard) {\n        dispatch(refreshView(hard));\n    }, [dispatch]);\n};\nexport default useRefresh;\n","import { useEffect } from 'react';\nimport { useRefresh } from '../sideEffect';\nimport useIsAutomaticRefreshEnabled from './useIsAutomaticRefreshEnabled';\n/**\n * Trigger a refresh of the page when the page comes back from background after a certain delay\n *\n * @param {number} delay Delay in milliseconds since the time the page was hidden. Defaults to 5 minutes.\n */\nvar useRefreshWhenVisible = function (delay) {\n    if (delay === void 0) { delay = 1000 * 60 * 5; }\n    var refresh = useRefresh();\n    var automaticRefreshEnabled = useIsAutomaticRefreshEnabled();\n    useEffect(function () {\n        if (typeof document === 'undefined')\n            return;\n        var lastHiddenTime;\n        var handleVisibilityChange = function () {\n            if (!automaticRefreshEnabled) {\n                return;\n            }\n            if (document.hidden) {\n                // tab goes hidden\n                lastHiddenTime = Date.now();\n            }\n            else {\n                // tab goes visible\n                if (Date.now() - lastHiddenTime > delay) {\n                    refresh();\n                }\n                lastHiddenTime = null;\n            }\n        };\n        document.addEventListener('visibilitychange', handleVisibilityChange, {\n            capture: true,\n        });\n        return function () {\n            return document.removeEventListener('visibilitychange', handleVisibilityChange, { capture: true });\n        };\n    }, [automaticRefreshEnabled, delay, refresh]);\n};\nexport default useRefreshWhenVisible;\n","import { useCallback } from 'react';\nimport useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.deleteMany() method, the result\n * of the call (the list of deleted record ids), and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - initial: [deleteMany, { loading: false, loaded: false }]\n * - start:   [deleteMany, { loading: true, loaded: false }]\n * - success: [deleteMany, { data: [data from response], loading: false, loaded: true }]\n * - error:   [deleteMany, { error: [error from response], loading: false, loaded: false }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param ids The resource identifiers, e.g. [123, 456]\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success or failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [deleteMany, { data, error, loading, loaded }].\n *\n * The deleteMany() function can be called in 3 different ways:\n *  - with the same parameters as the useDeleteMany() hook: deleteMany(resource, ids, options)\n *  - with the same syntax as useMutation: deleteMany({ resource, payload: { ids } }, options)\n *  - with no parameter (if they were already passed to useDeleteMany()): deleteMany()\n *\n * @example // set params when calling the deleteMany callback\n *\n * import { useDeleteMany } from 'react-admin';\n *\n * const BulkDeletePostsButton = ({ selectedIds }) => {\n *     const [deleteMany, { loading, error }] = useDeleteMany();\n *     const handleClick = () => {\n *         deleteMany('posts', selectedIds)\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={deleteMany}>Delete selected posts</button>;\n * };\n *\n * @example // set params when calling the hook\n *\n * import { useDeleteMany } from 'react-admin';\n *\n * const BulkDeletePostsButton = ({ selectedIds }) => {\n *     const [deleteMany, { loading, error }] = useDeleteMany('posts', selectedIds);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={deleteMany}>Delete selected posts</button>;\n * };\n */\nvar useDeleteMany = function (resource, ids, options) {\n    var _a = useMutation({ type: 'deleteMany', resource: resource, payload: { ids: ids } }, options), mutate = _a[0], state = _a[1];\n    var deleteMany = useCallback(function (resource, ids, options) {\n        if (typeof resource === 'string') {\n            var query = {\n                type: 'deleteMany',\n                resource: resource,\n                payload: {\n                    ids: ids,\n                },\n            };\n            return mutate(query, options);\n        }\n        else {\n            return mutate(resource, ids);\n        }\n    }, [mutate] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    return [deleteMany, state];\n};\nexport default useDeleteMany;\n","import { useCallback } from 'react';\nimport useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.create() method, the result and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - initial: [create, { loading: false, loaded: false }]\n * - start:   [create, { loading: true, loaded: false }]\n * - success: [create, { data: [data from response], loading: false, loaded: true }]\n * - error:   [create, { error: [error from response], loading: false, loaded: false }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param data The data to initialize the new record with, e.g. { title: 'hello, world' }\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success or failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [create, { data, error, loading, loaded }].\n *\n * The create() function can be called in 3 different ways:\n *  - with the same parameters as the useCreate() hook: create(resource, data, options)\n *  - with the same syntax as useMutation: create({ resource, payload: { data } }, options)\n *  - with no parameter (if they were already passed to useCreate()): create()\n *\n * @example // set params when calling the update callback\n *\n * import { useCreate } from 'react-admin';\n *\n * const LikeButton = ({ record }) => {\n *     const like = { postId: record.id };\n *     const [create, { loading, error }] = useCreate();\n *     const handleClick = () => {\n *         create('likes', like)\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={handleClick}>Like</button>;\n * };\n *\n * @example // set params when calling the hook\n *\n * import { useCreate } from 'react-admin';\n *\n * const LikeButton = ({ record }) => {\n *     const like = { postId: record.id };\n *     const [create, { loading, error }] = useCreate('likes', like);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={create}>Like</button>;\n * };\n */\nvar useCreate = function (resource, data, options) {\n    var _a = useMutation({ type: 'create', resource: resource, payload: { data: data } }, options), mutate = _a[0], state = _a[1];\n    var create = useCallback(function (resource, data, options) {\n        if (typeof resource === 'string') {\n            var query = {\n                type: 'create',\n                resource: resource,\n                payload: {\n                    data: data,\n                },\n            };\n            return mutate(query, options);\n        }\n        else {\n            return mutate(resource, data);\n        }\n    }, [mutate] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    return [create, state];\n};\nexport default useCreate;\n","import { useCallback } from 'react';\nimport useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.delete() method, the result\n * of the call (the deleted record), and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - initial: [deleteOne, { loading: false, loaded: false }]\n * - start:   [deleteOne, { loading: true, loaded: false }]\n * - success: [deleteOne, { data: [data from response], loading: false, loaded: true }]\n * - error:   [deleteOne, { error: [error from response], loading: false, loaded: false }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param id The resource identifier, e.g. 123\n * @param previousData The record before the delete is applied\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success or failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [deleteOne, { data, error, loading, loaded }].\n *\n * The deleteOne() function can be called in 3 different ways:\n *  - with the same parameters as the useDelete() hook: deleteOne(resource, id, previousData, options)\n *  - with the same syntax as useMutation: deleteOne({ resource, payload: { id, previousData } }, options)\n *  - with no parameter (if they were already passed to useDelete()): deleteOne()\n *\n * @example // set params when calling the deleteOne callback\n *\n * import { useDelete } from 'react-admin';\n *\n * const DeleteButton = ({ record }) => {\n *     const [deleteOne, { loading, error }] = useDelete();\n *     const handleClick = () => {\n *         deleteOne('likes', record.id, record)\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={handleClick}>Delete</div>;\n * };\n *\n * @example // set params when calling the hook\n *\n * import { useDelete } from 'react-admin';\n *\n * const DeleteButton = ({ record }) => {\n *     const [deleteOne, { loading, error }] = useDelete('likes', record.id, record);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={deleteOne}>Delete</button>;\n * };\n */\nvar useDelete = function (resource, id, previousData, options) {\n    if (previousData === void 0) { previousData = {}; }\n    var _a = useMutation({ type: 'delete', resource: resource, payload: { id: id, previousData: previousData } }, options), mutate = _a[0], state = _a[1];\n    var deleteOne = useCallback(function (resource, id, previousData, options) {\n        if (typeof resource === 'string') {\n            var query = {\n                type: 'delete',\n                resource: resource,\n                payload: {\n                    id: id,\n                    previousData: previousData,\n                },\n            };\n            return mutate(query, options);\n        }\n        else {\n            return mutate(resource, id);\n        }\n    }, [mutate] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    return [deleteOne, state];\n};\nexport default useDelete;\n","import get from 'lodash/get';\nimport { useQueryWithStore } from './useQueryWithStore';\n/**\n * Call the dataProvider.getOne() method and return the resolved value\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false, refetch }\n * - success: { data: [data from response], loading: false, loaded: true, refetch }\n * - error: { error: [error from response], loading: false, loaded: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param resource The resource name, e.g. 'posts'\n * @param id The resource identifier, e.g. 123\n * @param {Object} options Options object to pass to the dataProvider.\n * @param {boolean} options.enabled Flag to conditionally run the query. If it's false, the query will not run\n * @param {Function} options.onSuccess Side effect function to be executed upon success, e.g. { onSuccess: { refresh: true } }\n * @param {Function} options.onFailure Side effect function to be executed upon failure, e.g. { onFailure: error => notify(error.message) }\n *\n * @returns The current request state. Destructure as { data, error, loading, loaded, refetch }.\n *\n * @example\n *\n * import { useGetOne } from 'react-admin';\n *\n * const UserProfile = ({ record }) => {\n *     const { data, loading, error } = useGetOne('users', record.id);\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <div>User {data.username}</div>;\n * };\n */\nvar useGetOne = function (resource, id, options) {\n    return useQueryWithStore({ type: 'getOne', resource: resource, payload: { id: id } }, options, function (state) {\n        if (\n        // resources are registered\n        Object.keys(state.admin.resources).length > 0 &&\n            // no registered resource matching the query\n            !state.admin.resources[resource]) {\n            throw new Error(\"No <Resource> defined for \\\"\" + resource + \"\\\". useGetOne() relies on the Redux store, so it cannot work if you don't include a <Resource>.\");\n        }\n        return get(state, ['admin', 'resources', resource, 'data', id]);\n    });\n};\nexport default useGetOne;\n","import { useCallback } from 'react';\nimport useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.update() method, the result and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - initial: [update, { loading: false, loaded: false }]\n * - start:   [update, { loading: true, loaded: false }]\n * - success: [update, { data: [data from response], loading: false, loaded: true }]\n * - error:   [update, { error: [error from response], loading: false, loaded: false }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param id The resource identifier, e.g. 123\n * @param data The updates to merge into the record, e.g. { views: 10 }\n * @param previousData The record before the update is applied\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success or failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [update, { data, error, loading, loaded }].\n *\n * The update() function can be called in 3 different ways:\n *  - with the same parameters as the useUpdate() hook: update(resource, id, data, previousData, options)\n *  - with the same syntax as useMutation: update({ resource, payload: { id, data, previousData } }, options)\n *  - with no parameter (if they were already passed to useUpdate()): update()\n *\n * @example // set params when calling the update callback\n *\n * import { useUpdate } from 'react-admin';\n *\n * const IncreaseLikeButton = ({ record }) => {\n *     const diff = { likes: record.likes + 1 };\n *     const [update, { loading, error }] = useUpdate();\n *     const handleClick = () => {\n *         update('likes', record.id, diff, record)\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={handleClick}>Like</div>;\n * };\n *\n * @example // set params when calling the hook\n *\n * import { useUpdate } from 'react-admin';\n *\n * const IncreaseLikeButton = ({ record }) => {\n *     const diff = { likes: record.likes + 1 };\n *     const [update, { loading, error }] = useUpdate('likes', record.id, diff, record);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={update}>Like</button>;\n * };\n *\n * @example // TypeScript\n * const [update, { data }] = useUpdate<Product>('products', id, changes, product);\n *                    \\-- data is Product\n */\nvar useUpdate = function (resource, id, data, previousData, options) {\n    var _a = useMutation({ type: 'update', resource: resource, payload: { id: id, data: data, previousData: previousData } }, options), mutate = _a[0], state = _a[1];\n    var update = useCallback(function (resource, id, data, previousData, options) {\n        if (typeof resource === 'string') {\n            var query = {\n                type: 'update',\n                resource: resource,\n                payload: {\n                    id: id,\n                    data: data,\n                    previousData: previousData,\n                },\n            };\n            return mutate(query, options);\n        }\n        else {\n            return mutate(resource, id);\n        }\n    }, [mutate] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    return [update, state];\n};\nexport default useUpdate;\n","import { useCallback } from 'react';\nimport useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.updateMany() method, the result\n * of the call (the list of updated record ids), and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - initial: [updateMany, { loading: false, loaded: false }]\n * - start:   [updateMany, { loading: true, loaded: false }]\n * - success: [updateMany, { data: [data from response], loading: false, loaded: true }]\n * - error:   [updateMany, { error: [error from response], loading: false, loaded: false }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param ids The resource identifiers, e.g. [123, 456]\n * @param data The updates to merge into all records, e.g. { views: 10 }\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success or failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [updateMany, { data, error, loading, loaded }].\n *\n * The updateMany() function can be called in 3 different ways:\n *  - with the same parameters as the useUpdateMany() hook: update(resource, ids, data, options)\n *  - with the same syntax as useMutation: update({ resource, payload: { ids, data } }, options)\n *  - with no parameter (if they were already passed to useUpdateMany()): updateMany()\n *\n * @example // set params when calling the updateMany callback\n *\n * import { useUpdateMany } from 'react-admin';\n *\n * const BulkResetViewsButton = ({ selectedIds }) => {\n *     const [updateMany, { loading, error }] = useUpdateMany();\n *     const handleClick = () => {\n *         updateMany('posts', selectedIds, { views: 0 });\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={handleClick}>Reset views</button>;\n * };\n *\n * @example // set params when calling the hook\n *\n * import { useUpdateMany } from 'react-admin';\n *\n * const BulkResetViewsButton = ({ selectedIds }) => {\n *     const [updateMany, { loading, error }] = useUpdateMany('posts', selectedIds, { views: 0 });\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={updateMany}>Reset views</button>;\n * };\n */\nvar useUpdateMany = function (resource, ids, data, options) {\n    var _a = useMutation({ type: 'updateMany', resource: resource, payload: { ids: ids, data: data } }, options), mutate = _a[0], state = _a[1];\n    var updateMany = useCallback(function (resource, ids, data, options) {\n        if (typeof resource === 'string') {\n            var query = {\n                type: 'updateMany',\n                resource: resource,\n                payload: {\n                    ids: ids,\n                    data: data,\n                },\n            };\n            return mutate(query, options);\n        }\n        else {\n            return mutate(resource, ids);\n        }\n    }, [mutate] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    return [updateMany, state];\n};\nexport default useUpdateMany;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport get from 'lodash/get';\nimport { useMemo } from 'react';\nimport { CRUD_GET_MANY_REFERENCE } from '../actions/dataActions/crudGetManyReference';\nimport { useQueryWithStore } from './useQueryWithStore';\nimport { getIds, getTotal, nameRelatedTo, } from '../reducer/admin/references/oneToMany';\nvar defaultIds = [];\nvar defaultData = {};\n/**\n * Call the dataProvider.getManyReference() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false, refetch }\n * - success: { data: [data from store], ids: [ids from response], total: [total from response], loading: false, loaded: true, refetch }\n * - error: { error: [error from response], loading: false, loaded: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {string} resource The referenced resource name, e.g. 'comments'\n * @param {string} target The target resource key, e.g. 'post_id'\n * @param {Object} id The identifier of the record to look for in 'target'\n * @param {Object} pagination The request pagination { page, perPage }, e.g. { page: 1, perPage: 10 }\n * @param {Object} sort The request sort { field, order }, e.g. { field: 'id', order: 'DESC' }\n * @param {Object} filter The request filters, e.g. { body: 'hello, world' }\n * @param {string} referencingResource The resource name, e.g. 'posts'. Used to generate a cache key\n * @param {Object} options Options object to pass to the dataProvider.\n * @param {boolean} options.enabled Flag to conditionally run the query. If it's false, the query will not run\n * @param {Function} options.onSuccess Side effect function to be executed upon success, e.g. { onSuccess: { refresh: true } }\n * @param {Function} options.onFailure Side effect function to be executed upon failure, e.g. { onFailure: error => notify(error.message) }\n *\n * @returns The current request state. Destructure as { data, total, ids, error, loading, loaded, refetch }.\n *\n * @example\n *\n * import { useGetManyReference } from 'react-admin';\n *\n * const PostComments = ({ post_id }) => {\n *     const { data, ids, loading, error } = useGetManyReference(\n *         'comments',\n *         'post_id',\n *         post_id,\n *         { page: 1, perPage: 10 },\n *         { field: 'published_at', order: 'DESC' }\n *         {},\n *         'posts',\n *     );\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <ul>{ids.map(id =>\n *         <li key={id}>{data[id].body}</li>\n *     )}</ul>;\n * };\n */\nvar useGetManyReference = function (resource, target, id, pagination, sort, filter, referencingResource, options) {\n    var relatedTo = useMemo(function () { return nameRelatedTo(resource, id, referencingResource, target, filter); }, [filter, resource, id, referencingResource, target]);\n    var _a = useQueryWithStore({\n        type: 'getManyReference',\n        resource: resource,\n        payload: { target: target, id: id, pagination: pagination, sort: sort, filter: filter },\n    }, __assign(__assign({}, options), { relatedTo: relatedTo, action: CRUD_GET_MANY_REFERENCE }), \n    // ids and data selector\n    function (state) { return ({\n        ids: getIds(state, relatedTo),\n        allRecords: get(state.admin.resources, [resource, 'data'], defaultData),\n    }); }, function (state) { return getTotal(state, relatedTo); }, isDataLoaded), _b = _a.data, ids = _b.ids, allRecords = _b.allRecords, total = _a.total, error = _a.error, loading = _a.loading, loaded = _a.loaded, refetch = _a.refetch;\n    var data = useMemo(function () {\n        return ids == null\n            ? defaultData\n            : ids\n                .map(function (id) { return allRecords[id]; })\n                .reduce(function (acc, record) {\n                if (!record)\n                    return acc;\n                acc[record.id] = record;\n                return acc;\n            }, {});\n    }, [ids, allRecords]);\n    return {\n        data: data,\n        ids: ids || defaultIds,\n        total: total,\n        error: error,\n        loading: loading,\n        loaded: loaded,\n        refetch: refetch,\n    };\n};\nvar isDataLoaded = function (data) { return data.ids != null; };\nexport default useGetManyReference;\n","import { CREATE, DELETE, DELETE_MANY, GET_LIST, GET_MANY, GET_MANY_REFERENCE, GET_ONE, UPDATE, UPDATE_MANY, } from '../core';\nvar defaultDataProvider = function () { return Promise.resolve(); };\ndefaultDataProvider.create = function () { return Promise.resolve(null); };\ndefaultDataProvider.delete = function () { return Promise.resolve(null); };\ndefaultDataProvider.deleteMany = function () { return Promise.resolve(null); };\ndefaultDataProvider.getList = function () { return Promise.resolve(null); };\ndefaultDataProvider.getMany = function () { return Promise.resolve(null); };\ndefaultDataProvider.getManyReference = function () { return Promise.resolve(null); };\ndefaultDataProvider.getOne = function () { return Promise.resolve(null); };\ndefaultDataProvider.update = function () { return Promise.resolve(null); };\ndefaultDataProvider.updateMany = function () { return Promise.resolve(null); };\nvar fetchMap = {\n    create: CREATE,\n    delete: DELETE,\n    deleteMany: DELETE_MANY,\n    getList: GET_LIST,\n    getMany: GET_MANY,\n    getManyReference: GET_MANY_REFERENCE,\n    getOne: GET_ONE,\n    update: UPDATE,\n    updateMany: UPDATE_MANY,\n};\n/**\n * Turn a function-based dataProvider to an object-based one\n *\n * Allows using legacy dataProviders transparently.\n *\n * @param {Function} legacyDataProvider A legacy dataProvider (type, resource, params) => Promise<any>\n *\n * @returns {Object} A dataProvider that react-admin can use\n */\nvar convertLegacyDataProvider = function (legacyDataProvider) {\n    var proxy = new Proxy(defaultDataProvider, {\n        get: function (_, name) {\n            return function (resource, params) {\n                if (Object.keys(fetchMap).includes(name.toString())) {\n                    var fetchType = fetchMap[name.toString()];\n                    return legacyDataProvider(fetchType, resource, params);\n                }\n                return legacyDataProvider(name.toString(), resource, params);\n            };\n        },\n        apply: function (_, __, args) {\n            return legacyDataProvider.apply(legacyDataProvider, args);\n        },\n    });\n    return proxy;\n};\nexport default convertLegacyDataProvider;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useCallback, useMemo } from 'react';\nimport ReactDOM from 'react-dom';\nimport { useSelector } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport debounce from 'lodash/debounce';\nimport union from 'lodash/union';\nimport isEqual from 'lodash/isEqual';\nimport get from 'lodash/get';\nimport { CRUD_GET_MANY } from '../actions/dataActions/crudGetMany';\nimport { useSafeSetState } from '../util/hooks';\nimport useDataProvider from './useDataProvider';\nimport { useEffect } from 'react';\nimport { useVersion } from '../controller';\nvar queriesToCall = {};\nvar dataProvider;\nvar DataProviderOptions = { action: CRUD_GET_MANY };\n/**\n * Call the dataProvider.getMany() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false, refetch }\n * - success: { data: [data from response], loading: false, loaded: true, refetch }\n * - error: { error: [error from response], loading: false, loaded: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * This hook aggregates and deduplicates calls to the same resource, so for instance, if an app calls:\n *\n * useGetMany('tags', [1, 2, 3]);\n * useGetMany('tags', [3, 4]);\n *\n * during the same tick, the hook will only call the dataProvider once with the following parameters:\n *\n * dataProvider(GET_MANY, 'tags', [1, 2, 3, 4])\n *\n * @param resource The resource name, e.g. 'posts'\n * @param ids The resource identifiers, e.g. [123, 456, 789]\n * @param {Object} options Options object to pass to the dataProvider.\n * @param {boolean} options.enabled Flag to conditionally run the query. If it's false, the query will not run\n * @param {Function} options.onSuccess Side effect function to be executed upon success, e.g. { onSuccess: { refresh: true } }\n * @param {Function} options.onFailure Side effect function to be executed upon failure, e.g. { onFailure: error => notify(error.message) }\n *\n * @returns The current request state. Destructure as { data, error, loading, loaded, refetch }.\n *\n * @example\n *\n * import { useGetMany } from 'react-admin';\n *\n * const PostTags = ({ record }) => {\n *     const { data, loading, error } = useGetMany('tags', record.tagIds);\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return (\n *          <ul>\n *              {data.map(tag => (\n *                  <li key={tag.id}>{tag.name}</li>\n *              ))}\n *          </ul>\n *      );\n * };\n */\nvar useGetMany = function (resource, ids, options) {\n    if (options === void 0) { options = { enabled: true }; }\n    // we can't use useQueryWithStore here because we're aggregating queries first\n    // therefore part of the useQueryWithStore logic will have to be repeated below\n    var selectMany = useMemo(makeGetManySelector, []);\n    var data = useSelector(function (state) {\n        return selectMany(state, resource, ids);\n    });\n    var version = useVersion(); // used to allow force reload\n    // used to force a refetch without relying on version\n    // which might trigger other queries as well\n    var _a = useSafeSetState(0), innerVersion = _a[0], setInnerVersion = _a[1];\n    var refetch = useCallback(function () {\n        setInnerVersion(function (prevInnerVersion) { return prevInnerVersion + 1; });\n    }, [setInnerVersion]);\n    var _b = useSafeSetState({\n        data: data,\n        error: null,\n        loading: ids.length !== 0,\n        loaded: data.length !== 0 && !data.includes(undefined),\n        refetch: refetch,\n    }), state = _b[0], setState = _b[1];\n    if (!isEqual(state.data, data)) {\n        setState(__assign(__assign({}, state), { data: data }));\n    }\n    dataProvider = useDataProvider(); // not the best way to pass the dataProvider to a function outside the hook, but I couldn't find a better one\n    useEffect(function () {\n        if (options.enabled === false) {\n            return;\n        }\n        if (!queriesToCall[resource]) {\n            queriesToCall[resource] = [];\n        }\n        /**\n         * queriesToCall stores the queries to call under the following shape:\n         *\n         * {\n         *   'posts': [\n         *     { ids: [1, 2], setState }\n         *     { ids: [2, 3], setState, onSuccess }\n         *     { ids: [4, 5], setState }\n         *   ],\n         *   'comments': [\n         *     { ids: [345], setState, onFailure }\n         *   ]\n         * }\n         */\n        queriesToCall[resource] = queriesToCall[resource].concat({\n            ids: ids,\n            setState: setState,\n            onSuccess: options && options.onSuccess,\n            onFailure: options && options.onFailure,\n        });\n        callQueries(); // debounced by lodash\n    }, \n    /* eslint-disable react-hooks/exhaustive-deps */\n    [\n        JSON.stringify({\n            resource: resource,\n            ids: ids,\n            options: options,\n            version: version,\n            innerVersion: innerVersion,\n        }),\n        dataProvider,\n    ]\n    /* eslint-enable react-hooks/exhaustive-deps */\n    );\n    return state;\n};\n/**\n * Memoized selector for getting an array of resources based on an array of ids\n *\n * @see https://react-redux.js.org/next/api/hooks#using-memoizing-selectors\n */\nvar makeGetManySelector = function () {\n    return createSelector([\n        function (state, resource) {\n            return get(state, ['admin', 'resources', resource, 'data']);\n        },\n        function (_, __, ids) { return ids; },\n    ], function (resourceData, ids) {\n        return resourceData\n            ? ids.map(function (id) { return resourceData[id]; })\n            : ids.map(function (id) { return undefined; });\n    });\n};\n/**\n * Call the dataProvider once per resource\n */\nvar callQueries = debounce(function () {\n    var resources = Object.keys(queriesToCall);\n    resources.forEach(function (resource) {\n        var queries = __spreadArray([], queriesToCall[resource], true); // cloning to avoid side effects\n        /**\n         * Extract ids from queries, aggregate and deduplicate them\n         *\n         * @example from [[1, 2], [2, null, 3], [4, null]] to [1, 2, 3, 4]\n         */\n        var accumulatedIds = queries\n            .reduce(function (acc, _a) {\n            var ids = _a.ids;\n            return union(acc, ids);\n        }, []) // concat + unique\n            .filter(function (v) { return v != null && v !== ''; }); // remove null values\n        if (accumulatedIds.length === 0) {\n            // no need to call the data provider if all the ids are null\n            queries.forEach(function (_a) {\n                var ids = _a.ids, setState = _a.setState, onSuccess = _a.onSuccess;\n                setState({\n                    data: emptyArray,\n                    loading: false,\n                    loaded: true,\n                });\n                if (onSuccess) {\n                    onSuccess({ data: emptyArray });\n                }\n            });\n            return;\n        }\n        dataProvider\n            .getMany(resource, { ids: accumulatedIds }, DataProviderOptions)\n            .then(function (response) {\n            // Forces batching, see https://stackoverflow.com/questions/48563650/does-react-keep-the-order-for-state-updates/48610973#48610973\n            return ReactDOM.unstable_batchedUpdates(function () {\n                return queries.forEach(function (_a) {\n                    var ids = _a.ids, setState = _a.setState, onSuccess = _a.onSuccess;\n                    setState(function (prevState) { return (__assign(__assign({}, prevState), { error: null, loading: false, loaded: true })); });\n                    if (onSuccess) {\n                        var subData = ids.map(function (id) {\n                            return response.data.find(function (datum) { return datum.id == id; });\n                        } // eslint-disable-line eqeqeq\n                        );\n                        onSuccess({ data: subData });\n                    }\n                });\n            });\n        })\n            .catch(function (error) {\n            return ReactDOM.unstable_batchedUpdates(function () {\n                return queries.forEach(function (_a) {\n                    var setState = _a.setState, onFailure = _a.onFailure;\n                    setState({ error: error, loading: false, loaded: false });\n                    onFailure && onFailure(error);\n                });\n            });\n        });\n        delete queriesToCall[resource];\n    });\n});\nvar emptyArray = [];\nexport default useGetMany;\n","import { GET_MANY } from '../../core';\nexport var crudGetMany = function (resource, ids) { return ({\n    type: CRUD_GET_MANY,\n    payload: { ids: ids },\n    meta: {\n        resource: resource,\n        fetch: GET_MANY,\n        onFailure: {\n            notification: {\n                body: 'ra.notification.http_error',\n                level: 'warning',\n            },\n        },\n    },\n}); };\nexport var CRUD_GET_MANY = 'RA/CRUD_GET_MANY';\nexport var CRUD_GET_MANY_LOADING = 'RA/CRUD_GET_MANY_LOADING';\nexport var CRUD_GET_MANY_FAILURE = 'RA/CRUD_GET_MANY_FAILURE';\nexport var CRUD_GET_MANY_SUCCESS = 'RA/CRUD_GET_MANY_SUCCESS';\n","export var CLEAR_STATE = 'RA/CLEAR_STATE';\n// The CLEAR_STATE action will completely reset the react-admin redux state to its initial value.\n// This should only be called once the user has been redirected to a page which do not use the\n// state such as the login page.\nexport var clearState = function () { return ({\n    type: CLEAR_STATE,\n}); };\n","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setListSelectedIds } from '../actions';\nimport { warning } from '../util';\n/**\n * Hook for Unselect All Side Effect\n *\n * @example\n *\n * const unselectAll = useUnselectAll('posts');\n * unselectAll();\n */\nvar useUnselectAll = function (resource1) {\n    var dispatch = useDispatch();\n    return useCallback(function (resource2) {\n        warning(!resource2 && !resource1, \"You didn't specify the resource at initialization (useUnselectAll('posts')) nor when using the callback (unselectAll('posts'))\");\n        dispatch(setListSelectedIds(resource2 || resource1, []));\n    }, [dispatch, resource1]);\n};\nexport default useUnselectAll;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { parsePath } from 'history';\nimport resolveRedirectTo from '../util/resolveRedirectTo';\nimport { refreshView } from '../actions/uiActions';\n/**\n * Hook for Redirection Side Effect\n *\n * @example\n *\n * const redirect = useRedirect();\n * // redirect to list view\n * redirect('list', '/posts');\n * // redirect to edit view\n * redirect('edit', '/posts', 123);\n * // redirect to edit view with state data\n * redirect('edit', '/comment', 123, {}, { record: { post_id: record.id } });\n * // do not redirect (resets the record form)\n * redirect(false);\n * // redirect to the result of a function\n * redirect((redirectTo, basePath, id, data) => ...)\n */\nvar useRedirect = function () {\n    var dispatch = useDispatch();\n    var history = useHistory(); // Note: history is mutable. This prevents render loops in useCallback.\n    return useCallback(function (redirectTo, basePath, id, data, state) {\n        if (basePath === void 0) { basePath = ''; }\n        if (state === void 0) { state = {}; }\n        if (!redirectTo) {\n            if (history.location.state || history.location.search) {\n                history.replace(__assign(__assign({}, history.location), { state: state, search: undefined }));\n            }\n            else {\n                dispatch(refreshView());\n            }\n            return;\n        }\n        if (typeof redirectTo === 'string' &&\n            redirectTo.startsWith('http') &&\n            window) {\n            // redirection to an absolute url\n            // history doesn't handle that case, so we handle it by hand\n            window.location.href = redirectTo;\n        }\n        else {\n            history.push(__assign(__assign({}, parsePath(resolveRedirectTo(redirectTo, basePath, id, data))), { state: __assign({ _scrollToTop: true }, state) }));\n        }\n    }, [dispatch, history]);\n};\nexport default useRedirect;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport isEqual from 'lodash/isEqual';\nimport useDataProvider from './useDataProvider';\nimport useVersion from '../controller/useVersion';\nimport getFetchType from './getFetchType';\nimport { useSafeSetState } from '../util/hooks';\nvar queriesThisTick = {};\n/**\n * Default cache selector. Allows to cache responses by default.\n *\n * By default, custom queries are dispatched as a CUSTOM_QUERY Redux action.\n * The useDataProvider hook dispatches a CUSTOM_QUERY_SUCCESS when the response\n * comes, and the customQueries reducer stores the result in the store.\n * This selector reads the customQueries store and acts as a response cache.\n */\nvar defaultDataSelector = function (query) { return function (state) {\n    var key = JSON.stringify(__assign(__assign({}, query), { type: getFetchType(query.type) }));\n    return state.admin.customQueries[key]\n        ? state.admin.customQueries[key].data\n        : undefined;\n}; };\nvar defaultTotalSelector = function (query) { return function (state) {\n    var key = JSON.stringify(__assign(__assign({}, query), { type: getFetchType(query.type) }));\n    return state.admin.customQueries[key]\n        ? state.admin.customQueries[key].total\n        : null;\n}; };\nvar defaultIsDataLoaded = function (data) { return data !== undefined; };\n/**\n * Fetch the data provider through Redux, return the value from the store.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false, refetch }\n * - success: { data: [data from response], total: [total from response], loading: false, loaded: true, refetch }\n * - error: { error: [error from response], loading: false, loaded: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {Object} query\n * @param {string} query.type The verb passed to th data provider, e.g. 'getList', 'getOne'\n * @param {string} query.resource A resource name, e.g. 'posts', 'comments'\n * @param {Object} query.payload The payload object, e.g; { post_id: 12 }\n * @param {Object} options\n * @param {string} options.action Redux action type\n * @param {boolean} options.enabled Flag to conditionally run the query. If it's false, the query will not run\n * @param {Function} options.onSuccess Side effect function to be executed upon success, e.g. () => refresh()\n * @param {Function} options.onFailure Side effect function to be executed upon failure, e.g. (error) => notify(error.message)\n * @param {Function} dataSelector Redux selector to get the result. Required.\n * @param {Function} totalSelector Redux selector to get the total (optional, only for LIST queries)\n * @param {Function} isDataLoaded\n *\n * @returns The current request state. Destructure as { data, total, error, loading, loaded, refetch }.\n *\n * @example\n *\n * import { useQueryWithStore } from 'react-admin';\n *\n * const UserProfile = ({ record }) => {\n *     const { data, loading, error } = useQueryWithStore(\n *         {\n *             type: 'getOne',\n *             resource: 'users',\n *             payload: { id: record.id }\n *         },\n *         {},\n *         state => state.admin.resources.users.data[record.id]\n *     );\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <div>User {data.username}</div>;\n * };\n */\nexport var useQueryWithStore = function (query, options, dataSelector, totalSelector, isDataLoaded) {\n    if (options === void 0) { options = { action: 'CUSTOM_QUERY' }; }\n    if (dataSelector === void 0) { dataSelector = defaultDataSelector(query); }\n    if (totalSelector === void 0) { totalSelector = defaultTotalSelector(query); }\n    if (isDataLoaded === void 0) { isDataLoaded = defaultIsDataLoaded; }\n    var type = query.type, resource = query.resource, payload = query.payload;\n    var version = useVersion(); // used to allow force reload\n    // used to force a refetch without relying on version\n    // which might trigger other queries as well\n    var _a = useState(0), innerVersion = _a[0], setInnerVersion = _a[1];\n    var requestSignature = JSON.stringify({\n        query: query,\n        options: options,\n        version: version,\n        innerVersion: innerVersion,\n    });\n    var requestSignatureRef = useRef(requestSignature);\n    var data = useSelector(dataSelector);\n    var total = useSelector(totalSelector);\n    var refetch = useCallback(function () {\n        setInnerVersion(function (prevInnerVersion) { return prevInnerVersion + 1; });\n    }, []);\n    var _b = useSafeSetState({\n        data: data,\n        total: total,\n        error: null,\n        loading: (options === null || options === void 0 ? void 0 : options.enabled) === false ? false : true,\n        loaded: (options === null || options === void 0 ? void 0 : options.enabled) === false ? false : isDataLoaded(data),\n        refetch: refetch,\n    }), state = _b[0], setState = _b[1];\n    useEffect(function () {\n        if (requestSignatureRef.current !== requestSignature) {\n            // request has changed, reset the loading state\n            requestSignatureRef.current = requestSignature;\n            setState({\n                data: data,\n                total: total,\n                error: null,\n                loading: (options === null || options === void 0 ? void 0 : options.enabled) === false ? false : true,\n                loaded: (options === null || options === void 0 ? void 0 : options.enabled) === false ? false : isDataLoaded(data),\n                refetch: refetch,\n            });\n        }\n        else if (!isEqual(state.data, data) || state.total !== total) {\n            // the dataProvider response arrived in the Redux store\n            if (typeof total !== 'undefined' && isNaN(total)) {\n                console.error('Total from response is not a number. Please check your dataProvider or the API.');\n            }\n            else {\n                setState(function (prevState) { return (__assign(__assign({}, prevState), { data: data, total: total, loaded: true, loading: false })); });\n            }\n        }\n    }, [\n        data,\n        requestSignature,\n        setState,\n        state.data,\n        state.total,\n        total,\n        isDataLoaded,\n        refetch,\n        options.enabled,\n    ]);\n    var dataProvider = useDataProvider();\n    useEffect(function () {\n        // When several identical queries are issued during the same tick,\n        // we only pass one query to the dataProvider.\n        // To achieve that, the closure keeps a list of dataProvider promises\n        // issued this tick. Before calling the dataProvider, this effect\n        // checks if another effect has already issued a similar dataProvider\n        // call.\n        if (!queriesThisTick.hasOwnProperty(requestSignature)) {\n            queriesThisTick[requestSignature] = new Promise(function (resolve) {\n                dataProvider[type](resource, payload, options)\n                    // @ts-ignore\n                    .then(function () {\n                    // We don't care about the dataProvider response here, because\n                    // it was already passed to SUCCESS reducers by the dataProvider\n                    // hook, and the result is available from the Redux store\n                    // through the data and total selectors.\n                    // In addition, if the query is optimistic, the response\n                    // will be empty, so it should not be used at all.\n                    if (requestSignature !== requestSignatureRef.current) {\n                        resolve(undefined);\n                    }\n                    resolve({\n                        error: null,\n                        loading: false,\n                        loaded: (options === null || options === void 0 ? void 0 : options.enabled) === false ? false : true,\n                    });\n                })\n                    .catch(function (error) {\n                    if (requestSignature !== requestSignatureRef.current) {\n                        resolve(undefined);\n                    }\n                    resolve({\n                        error: error,\n                        loading: false,\n                        loaded: false,\n                    });\n                });\n            });\n            // cleanup the list on next tick\n            setTimeout(function () {\n                delete queriesThisTick[requestSignature];\n            }, 0);\n        }\n        (function () { return __awaiter(void 0, void 0, void 0, function () {\n            var newState;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, queriesThisTick[requestSignature]];\n                    case 1:\n                        newState = _a.sent();\n                        if (newState)\n                            setState(function (state) { return (__assign(__assign({}, state), newState)); });\n                        return [2 /*return*/];\n                }\n            });\n        }); })();\n        // deep equality, see https://github.com/facebook/react/issues/14476#issuecomment-471199055\n    }, [requestSignature]); // eslint-disable-line\n    return state;\n};\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { useCallback } from 'react';\nimport useAuthProvider from './useAuthProvider';\nimport useLogout from './useLogout';\nimport { useNotify } from '../sideEffect';\nimport { useHistory } from 'react-router';\nvar timer;\n/**\n * Returns a callback used to call the authProvider.checkError() method\n * and an error from the dataProvider. If the authProvider rejects the call,\n * the hook logs the user out and shows a logged out notification.\n *\n * Used in the useDataProvider hook to check for access denied responses\n * (e.g. 401 or 403 responses) and trigger a logout.\n *\n * @see useLogout\n * @see useDataProvider\n *\n * @returns {Function} logoutIfAccessDenied callback\n *\n * @example\n *\n * import { useLogoutIfAccessDenied, useNotify, DataProviderContext } from 'react-admin';\n *\n * const FetchRestrictedResource = () => {\n *     const dataProvider = useContext(DataProviderContext);\n *     const logoutIfAccessDenied = useLogoutIfAccessDenied();\n *     const notify = useNotify()\n *     useEffect(() => {\n *         dataProvider.getOne('secret', { id: 123 })\n *             .catch(error => {\n *                  logoutIfAccessDenied(error);\n *                  notify('server error', 'warning');\n *              })\n *     }, []);\n *     // ...\n * }\n */\nvar useLogoutIfAccessDenied = function () {\n    var authProvider = useAuthProvider();\n    var logout = useLogout();\n    var notify = useNotify();\n    var history = useHistory();\n    var logoutIfAccessDenied = useCallback(function (error, disableNotification) {\n        return authProvider\n            .checkError(error)\n            .then(function () { return false; })\n            .catch(function (e) { return __awaiter(void 0, void 0, void 0, function () {\n            var logoutUser, shouldNotify, redirectTo;\n            var _a;\n            return __generator(this, function (_b) {\n                logoutUser = (_a = e === null || e === void 0 ? void 0 : e.logoutUser) !== null && _a !== void 0 ? _a : true;\n                //manual debounce\n                if (timer) {\n                    // side effects already triggered in this tick, exit\n                    return [2 /*return*/, true];\n                }\n                timer = setTimeout(function () {\n                    timer = undefined;\n                }, 0);\n                shouldNotify = !(disableNotification ||\n                    (e && e.message === false) ||\n                    (error && error.message === false));\n                if (shouldNotify) {\n                    // notify only if not yet logged out\n                    authProvider\n                        .checkAuth({})\n                        .then(function () {\n                        if (logoutUser) {\n                            notify('ra.notification.logged_out', 'warning');\n                        }\n                        else {\n                            notify('ra.notification.not_authorized', 'warning');\n                        }\n                    })\n                        .catch(function () { });\n                }\n                redirectTo = e && e.redirectTo\n                    ? e.redirectTo\n                    : error && error.redirectTo\n                        ? error.redirectTo\n                        : undefined;\n                if (logoutUser) {\n                    logout({}, redirectTo);\n                }\n                else {\n                    history.push(redirectTo);\n                }\n                return [2 /*return*/, true];\n            });\n        }); });\n    }, [authProvider, logout, notify, history]);\n    return authProvider\n        ? logoutIfAccessDenied\n        : logoutIfAccessDeniedWithoutProvider;\n};\nvar logoutIfAccessDeniedWithoutProvider = function () { return Promise.resolve(false); };\nexport default useLogoutIfAccessDenied;\n","export default {\n    create: function () { return Promise.resolve({ data: null }); },\n    delete: function () { return Promise.resolve({ data: null }); },\n    deleteMany: function () { return Promise.resolve({ data: [] }); },\n    getList: function () { return Promise.resolve({ data: [], total: 0 }); },\n    getMany: function () { return Promise.resolve({ data: [] }); },\n    getManyReference: function () { return Promise.resolve({ data: [], total: 0 }); },\n    getOne: function () { return Promise.resolve({ data: null }); },\n    update: function () { return Promise.resolve({ data: null }); },\n    updateMany: function () { return Promise.resolve({ data: [] }); }, // avoids adding a context in tests\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport validateResponseFormat from '../validateResponseFormat';\nimport getFetchType from '../getFetchType';\nimport { startOptimisticMode, stopOptimisticMode, } from '../../actions/undoActions';\nimport { FETCH_END, FETCH_ERROR, FETCH_START, } from '../../actions/fetchActions';\nimport { replayStackedCalls } from './stackedCalls';\n/**\n * In optimistic mode, the useDataProvider hook dispatches an optimistic action\n * and executes the success side effects right away. Then it immediately calls\n * the dataProvider.\n *\n * We call that \"optimistic\" because the hook returns a resolved Promise\n * immediately (although it has an empty value). That only works if the\n * caller reads the result from the Redux store, not from the Promise.\n */\nexport var performOptimisticQuery = function (_a) {\n    var type = _a.type, payload = _a.payload, resource = _a.resource, action = _a.action, rest = _a.rest, onSuccess = _a.onSuccess, onFailure = _a.onFailure, dataProvider = _a.dataProvider, dispatch = _a.dispatch, logoutIfAccessDenied = _a.logoutIfAccessDenied, allArguments = _a.allArguments;\n    dispatch(startOptimisticMode());\n    dispatch({\n        type: action,\n        payload: payload,\n        meta: __assign({ resource: resource }, rest),\n    });\n    dispatch({\n        type: action + \"_OPTIMISTIC\",\n        payload: payload,\n        meta: {\n            resource: resource,\n            fetch: getFetchType(type),\n            optimistic: true,\n        },\n    });\n    onSuccess && onSuccess({});\n    setTimeout(function () {\n        dispatch(stopOptimisticMode());\n        dispatch({\n            type: action + \"_LOADING\",\n            payload: payload,\n            meta: __assign({ resource: resource }, rest),\n        });\n        dispatch({ type: FETCH_START });\n        try {\n            dataProvider[type]\n                .apply(dataProvider, typeof resource !== 'undefined'\n                ? [resource, payload]\n                : allArguments)\n                .then(function (response) {\n                if (process.env.NODE_ENV !== 'production') {\n                    validateResponseFormat(response, type);\n                }\n                dispatch({\n                    type: action + \"_SUCCESS\",\n                    payload: response,\n                    requestPayload: payload,\n                    meta: __assign(__assign({}, rest), { resource: resource, fetchResponse: getFetchType(type), fetchStatus: FETCH_END }),\n                });\n                dispatch({ type: FETCH_END });\n                replayStackedCalls();\n            })\n                .catch(function (error) {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n                return logoutIfAccessDenied(error).then(function (loggedOut) {\n                    if (loggedOut)\n                        return;\n                    dispatch({\n                        type: action + \"_FAILURE\",\n                        error: error.message ? error.message : error,\n                        payload: error.body ? error.body : null,\n                        requestPayload: payload,\n                        meta: __assign(__assign({}, rest), { resource: resource, fetchResponse: getFetchType(type), fetchStatus: FETCH_ERROR }),\n                    });\n                    dispatch({ type: FETCH_ERROR, error: error });\n                    onFailure && onFailure(error);\n                });\n            });\n        }\n        catch (e) {\n            if (process.env.NODE_ENV !== 'production') {\n                console.error(e);\n            }\n            throw new Error('The dataProvider threw an error. It should return a rejected Promise instead.');\n        }\n    });\n    return Promise.resolve({});\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport validateResponseFormat from '../validateResponseFormat';\nimport getFetchType from '../getFetchType';\nimport undoableEventEmitter from '../undoableEventEmitter';\nimport { startOptimisticMode, stopOptimisticMode, } from '../../actions/undoActions';\nimport { showNotification } from '../../actions/notificationActions';\nimport { refreshView } from '../../actions/uiActions';\nimport { FETCH_END, FETCH_ERROR, FETCH_START, } from '../../actions/fetchActions';\nimport { replayStackedCalls } from './stackedCalls';\n/**\n * In undoable mode, the hook dispatches an optimistic action and executes\n * the success side effects right away. Then it waits for a few seconds to\n * actually call the dataProvider - unless the user dispatches an Undo action.\n *\n * We call that \"optimistic\" because the hook returns a resolved Promise\n * immediately (although it has an empty value). That only works if the\n * caller reads the result from the Redux store, not from the Promise.\n */\nexport var performUndoableQuery = function (_a) {\n    var type = _a.type, payload = _a.payload, resource = _a.resource, action = _a.action, rest = _a.rest, onSuccess = _a.onSuccess, onFailure = _a.onFailure, dataProvider = _a.dataProvider, dispatch = _a.dispatch, logoutIfAccessDenied = _a.logoutIfAccessDenied, allArguments = _a.allArguments;\n    dispatch(startOptimisticMode());\n    if (window) {\n        window.addEventListener('beforeunload', warnBeforeClosingWindow, {\n            capture: true,\n        });\n    }\n    dispatch({\n        type: action,\n        payload: payload,\n        meta: __assign({ resource: resource }, rest),\n    });\n    dispatch({\n        type: action + \"_OPTIMISTIC\",\n        payload: payload,\n        meta: {\n            resource: resource,\n            fetch: getFetchType(type),\n            optimistic: true,\n        },\n    });\n    onSuccess && onSuccess({});\n    undoableEventEmitter.once('end', function (_a) {\n        var isUndo = _a.isUndo;\n        dispatch(stopOptimisticMode());\n        if (isUndo) {\n            dispatch(showNotification('ra.notification.canceled'));\n            dispatch(refreshView());\n            if (window) {\n                window.removeEventListener('beforeunload', warnBeforeClosingWindow, {\n                    capture: true,\n                });\n            }\n            return;\n        }\n        dispatch({\n            type: action + \"_LOADING\",\n            payload: payload,\n            meta: __assign({ resource: resource }, rest),\n        });\n        dispatch({ type: FETCH_START });\n        try {\n            dataProvider[type]\n                .apply(dataProvider, typeof resource !== 'undefined'\n                ? [resource, payload]\n                : allArguments)\n                .then(function (response) {\n                if (process.env.NODE_ENV !== 'production') {\n                    validateResponseFormat(response, type);\n                }\n                dispatch({\n                    type: action + \"_SUCCESS\",\n                    payload: response,\n                    requestPayload: payload,\n                    meta: __assign(__assign({}, rest), { resource: resource, fetchResponse: getFetchType(type), fetchStatus: FETCH_END }),\n                });\n                dispatch({ type: FETCH_END });\n                if (window) {\n                    window.removeEventListener('beforeunload', warnBeforeClosingWindow, {\n                        capture: true,\n                    });\n                }\n                replayStackedCalls();\n            })\n                .catch(function (error) {\n                if (window) {\n                    window.removeEventListener('beforeunload', warnBeforeClosingWindow, {\n                        capture: true,\n                    });\n                }\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n                return logoutIfAccessDenied(error).then(function (loggedOut) {\n                    if (loggedOut)\n                        return;\n                    dispatch({\n                        type: action + \"_FAILURE\",\n                        error: error.message ? error.message : error,\n                        payload: error.body ? error.body : null,\n                        requestPayload: payload,\n                        meta: __assign(__assign({}, rest), { resource: resource, fetchResponse: getFetchType(type), fetchStatus: FETCH_ERROR }),\n                    });\n                    dispatch({ type: FETCH_ERROR, error: error });\n                    onFailure && onFailure(error);\n                });\n            });\n        }\n        catch (e) {\n            if (process.env.NODE_ENV !== 'production') {\n                console.error(e);\n            }\n            throw new Error('The dataProvider threw an error. It should return a rejected Promise instead.');\n        }\n    });\n    return Promise.resolve({});\n};\n// event listener added as window.onbeforeunload when starting optimistic mode, and removed when it ends\nvar warnBeforeClosingWindow = function (event) {\n    event.preventDefault(); // standard\n    event.returnValue = ''; // Chrome\n    return 'Your latest modifications are not yet sent to the server. Are you sure?'; // Old IE\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport validateResponseFormat from '../validateResponseFormat';\nimport getFetchType from '../getFetchType';\nimport { FETCH_END, FETCH_ERROR, FETCH_START, } from '../../actions/fetchActions';\n/**\n * In pessimistic mode, the useDataProvider hook calls the dataProvider. When a\n * successful response arrives, the hook dispatches a SUCCESS action, executes\n * success side effects and returns the response. If the response is an error,\n * the hook dispatches a FAILURE action, executes failure side effects, and\n * throws an error.\n */\nexport var performPessimisticQuery = function (_a) {\n    var type = _a.type, payload = _a.payload, resource = _a.resource, action = _a.action, rest = _a.rest, onSuccess = _a.onSuccess, onFailure = _a.onFailure, dataProvider = _a.dataProvider, dispatch = _a.dispatch, logoutIfAccessDenied = _a.logoutIfAccessDenied, allArguments = _a.allArguments;\n    dispatch({\n        type: action,\n        payload: payload,\n        meta: __assign({ resource: resource }, rest),\n    });\n    dispatch({\n        type: action + \"_LOADING\",\n        payload: payload,\n        meta: __assign({ resource: resource }, rest),\n    });\n    dispatch({ type: FETCH_START });\n    try {\n        return dataProvider[type]\n            .apply(dataProvider, typeof resource !== 'undefined'\n            ? [resource, payload]\n            : allArguments)\n            .then(function (response) {\n            if (process.env.NODE_ENV !== 'production') {\n                validateResponseFormat(response, type);\n            }\n            dispatch({\n                type: action + \"_SUCCESS\",\n                payload: response,\n                requestPayload: payload,\n                meta: __assign(__assign({}, rest), { resource: resource, fetchResponse: getFetchType(type), fetchStatus: FETCH_END }),\n            });\n            dispatch({ type: FETCH_END });\n            onSuccess && onSuccess(response);\n            return response;\n        })\n            .catch(function (error) {\n            if (process.env.NODE_ENV !== 'production') {\n                console.error(error);\n            }\n            return logoutIfAccessDenied(error).then(function (loggedOut) {\n                if (loggedOut)\n                    return;\n                dispatch({\n                    type: action + \"_FAILURE\",\n                    error: error.message ? error.message : error,\n                    payload: error.body ? error.body : null,\n                    requestPayload: payload,\n                    meta: __assign(__assign({}, rest), { resource: resource, fetchResponse: getFetchType(type), fetchStatus: FETCH_ERROR }),\n                });\n                dispatch({ type: FETCH_ERROR, error: error });\n                onFailure && onFailure(error);\n                throw error;\n            });\n        });\n    }\n    catch (e) {\n        if (process.env.NODE_ENV !== 'production') {\n            console.error(e);\n        }\n        throw new Error('The dataProvider threw an error. It should return a rejected Promise instead.');\n    }\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { getResultFromCache } from '../replyWithCache';\nimport getFetchType from '../getFetchType';\nimport { FETCH_END } from '../../actions/fetchActions';\nexport var answerWithCache = function (_a) {\n    var type = _a.type, payload = _a.payload, resource = _a.resource, action = _a.action, rest = _a.rest, onSuccess = _a.onSuccess, resourceState = _a.resourceState, dispatch = _a.dispatch;\n    dispatch({\n        type: action,\n        payload: payload,\n        meta: __assign({ resource: resource }, rest),\n    });\n    var response = getResultFromCache(type, payload, resourceState);\n    dispatch({\n        type: action + \"_SUCCESS\",\n        payload: response,\n        requestPayload: payload,\n        meta: __assign(__assign({}, rest), { resource: resource, fetchResponse: getFetchType(type), fetchStatus: FETCH_END, fromCache: true }),\n    });\n    onSuccess && onSuccess(response);\n    return Promise.resolve(response);\n};\n","import get from 'lodash/get';\nexport var canReplyWithCache = function (type, payload, resourceState) {\n    var now = new Date();\n    switch (type) {\n        case 'getList':\n            return (get(resourceState, [\n                'list',\n                'cachedRequests',\n                JSON.stringify(payload),\n                'validity',\n            ]) > now);\n        case 'getOne':\n            return (resourceState &&\n                resourceState.validity &&\n                resourceState.validity[payload.id] > now);\n        case 'getMany':\n            return (resourceState &&\n                resourceState.validity &&\n                payload.ids.every(function (id) { return resourceState.validity[id] > now; }));\n        default:\n            return false;\n    }\n};\nexport var getResultFromCache = function (type, payload, resourceState) {\n    switch (type) {\n        case 'getList': {\n            var data_1 = resourceState.data;\n            var requestSignature = JSON.stringify(payload);\n            var cachedRequest = resourceState.list.cachedRequests[requestSignature];\n            return {\n                data: cachedRequest.ids.map(function (id) { return data_1[id]; }),\n                total: cachedRequest.total,\n            };\n        }\n        case 'getOne':\n            return { data: resourceState.data[payload.id] };\n        case 'getMany':\n            return {\n                data: payload.ids.map(function (id) { return resourceState.data[id]; }),\n            };\n        default:\n            throw new Error('cannot reply with cache for this method');\n    }\n};\n","import { performOptimisticQuery } from './performOptimisticQuery';\nimport { performUndoableQuery } from './performUndoableQuery';\nimport { performPessimisticQuery } from './performPessimisticQuery';\nimport { answerWithCache } from './answerWithCache';\nimport { canReplyWithCache } from '../replyWithCache';\n/**\n * Execute a dataProvider call\n *\n * Delegates execution to cache, optimistic, undoable, or pessimistic queries\n *\n * @see useDataProvider\n */\nexport var doQuery = function (_a) {\n    var type = _a.type, payload = _a.payload, resource = _a.resource, action = _a.action, rest = _a.rest, onSuccess = _a.onSuccess, onFailure = _a.onFailure, dataProvider = _a.dataProvider, dispatch = _a.dispatch, logoutIfAccessDenied = _a.logoutIfAccessDenied, allArguments = _a.allArguments, store = _a.store, mutationMode = _a.mutationMode;\n    var resourceState = store.getState().admin.resources[resource];\n    if (canReplyWithCache(type, payload, resourceState)) {\n        return answerWithCache({\n            type: type,\n            payload: payload,\n            resource: resource,\n            action: action,\n            rest: rest,\n            onSuccess: onSuccess,\n            resourceState: resourceState,\n            dispatch: dispatch,\n        });\n    }\n    else if (mutationMode === 'optimistic') {\n        return performOptimisticQuery({\n            type: type,\n            payload: payload,\n            resource: resource,\n            action: action,\n            rest: rest,\n            onSuccess: onSuccess,\n            onFailure: onFailure,\n            dataProvider: dataProvider,\n            dispatch: dispatch,\n            logoutIfAccessDenied: logoutIfAccessDenied,\n            allArguments: allArguments,\n        });\n    }\n    else if (mutationMode === 'undoable') {\n        return performUndoableQuery({\n            type: type,\n            payload: payload,\n            resource: resource,\n            action: action,\n            rest: rest,\n            onSuccess: onSuccess,\n            onFailure: onFailure,\n            dataProvider: dataProvider,\n            dispatch: dispatch,\n            logoutIfAccessDenied: logoutIfAccessDenied,\n            allArguments: allArguments,\n        });\n    }\n    else {\n        return performPessimisticQuery({\n            type: type,\n            payload: payload,\n            resource: resource,\n            action: action,\n            rest: rest,\n            onSuccess: onSuccess,\n            onFailure: onFailure,\n            dataProvider: dataProvider,\n            dispatch: dispatch,\n            logoutIfAccessDenied: logoutIfAccessDenied,\n            allArguments: allArguments,\n        });\n    }\n};\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { doQuery } from './doQuery';\nvar nbRemainingStackedCalls = 0;\nexport var getRemainingStackedCalls = function () { return nbRemainingStackedCalls; };\n// List of dataProvider calls emitted while in optimistic mode.\n// These calls get replayed once the dataProvider exits optimistic mode\nvar stackedCalls = [];\nexport var stackCall = function (params) {\n    stackedCalls.push(params);\n    nbRemainingStackedCalls++;\n};\nvar stackedOptimisticCalls = [];\nexport var stackOptimisticCall = function (params) {\n    stackedOptimisticCalls.push(params);\n    nbRemainingStackedCalls++;\n};\n// Replay calls recorded while in optimistic mode\nexport var replayStackedCalls = function () { return __awaiter(void 0, void 0, void 0, function () {\n    var clone;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!(stackedOptimisticCalls.length > 0)) return [3 /*break*/, 2];\n                clone = __spreadArray([], stackedOptimisticCalls, true);\n                // remove these calls from the list *before* doing them\n                // because side effects in the calls can add more calls\n                // so we don't want to erase these.\n                stackedOptimisticCalls.splice(0, stackedOptimisticCalls.length);\n                return [4 /*yield*/, Promise.all(clone.map(function (params) { return Promise.resolve(doQuery.call(null, params)); }))];\n            case 1:\n                _a.sent();\n                // once the calls are finished, decrease the number of remaining calls\n                nbRemainingStackedCalls -= clone.length;\n                return [3 /*break*/, 4];\n            case 2:\n                clone = __spreadArray([], stackedCalls, true);\n                // remove these calls from the list *before* doing them\n                // because side effects in the calls can add more calls\n                // so we don't want to erase these.\n                stackedCalls.splice(0, stackedCalls.length);\n                return [4 /*yield*/, Promise.all(clone.map(function (params) { return Promise.resolve(doQuery.call(null, params)); }))];\n            case 3:\n                _a.sent();\n                // once the calls are finished, decrease the number of remaining calls\n                nbRemainingStackedCalls -= clone.length;\n                _a.label = 4;\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useContext, useMemo } from 'react';\nimport { useDispatch, useSelector, useStore } from 'react-redux';\nimport DataProviderContext from './DataProviderContext';\nimport defaultDataProvider from './defaultDataProvider';\nimport useLogoutIfAccessDenied from '../auth/useLogoutIfAccessDenied';\nimport { getDataProviderCallArguments } from './getDataProviderCallArguments';\nimport { doQuery, stackCall, stackOptimisticCall, getRemainingStackedCalls, } from './performQuery';\n/**\n * Hook for getting a dataProvider\n *\n * Gets a dataProvider object, which behaves just like the real dataProvider\n * (same methods returning a Promise). But it's actually a Proxy object, which\n * dispatches Redux actions along the process. The benefit is that react-admin\n * tracks the loading state when using this hook, and stores results in the\n * Redux store for future use.\n *\n * In addition to the 2 usual parameters of the dataProvider methods (resource,\n * payload), the Proxy supports a third parameter for every call. It's an\n * object literal which may contain side effects, or make the action optimistic\n * (with mutationMode: optimistic) or undoable (with mutationMode: undoable).\n *\n * @return dataProvider\n *\n * @example Basic usage\n *\n * import * as React from 'react';\n * import { useState } from 'react';\n * import { useDataProvider } from 'react-admin';\n *\n * const PostList = () => {\n *      const [posts, setPosts] = useState([])\n *      const dataProvider = useDataProvider();\n *      useEffect(() => {\n *          dataProvider.getList('posts', { filter: { status: 'pending' }})\n *            .then(({ data }) => setPosts(data));\n *      }, [])\n *\n *      return (\n *          <Fragment>\n *              {posts.map((post, key) => <PostDetail post={post} key={key} />)}\n *          </Fragment>\n *     );\n * }\n *\n * @example Handling all states (loading, error, success)\n *\n * import { useState, useEffect } from 'react';\n * import { useDataProvider } from 'react-admin';\n *\n * const UserProfile = ({ userId }) => {\n *     const dataProvider = useDataProvider();\n *     const [user, setUser] = useState();\n *     const [loading, setLoading] = useState(true);\n *     const [error, setError] = useState();\n *     useEffect(() => {\n *         dataProvider.getOne('users', { id: userId })\n *             .then(({ data }) => {\n *                 setUser(data);\n *                 setLoading(false);\n *             })\n *             .catch(error => {\n *                 setError(error);\n *                 setLoading(false);\n *             })\n *     }, []);\n *\n *     if (loading) return <Loading />;\n *     if (error) return <Error />\n *     if (!user) return null;\n *\n *     return (\n *         <ul>\n *             <li>Name: {user.name}</li>\n *             <li>Email: {user.email}</li>\n *         </ul>\n *     )\n * }\n *\n * @example Action customization\n *\n * dataProvider.getOne('users', { id: 123 });\n * // will dispatch the following actions:\n * // - CUSTOM_FETCH\n * // - CUSTOM_FETCH_LOADING\n * // - FETCH_START\n * // - CUSTOM_FETCH_SUCCESS\n * // - FETCH_END\n *\n * dataProvider.getOne('users', { id: 123 }, { action: CRUD_GET_ONE });\n * // will dispatch the following actions:\n * // - CRUD_GET_ONE\n * // - CRUD_GET_ONE_LOADING\n * // - FETCH_START\n * // - CRUD_GET_ONE_SUCCESS\n * // - FETCH_END\n */\nvar useDataProvider = function () {\n    var dispatch = useDispatch();\n    var dataProvider = (useContext(DataProviderContext) ||\n        defaultDataProvider);\n    // optimistic mode can be triggered by a previous optimistic or undoable query\n    var isOptimistic = useSelector(function (state) { return state.admin.ui.optimistic; });\n    var store = useStore();\n    var logoutIfAccessDenied = useLogoutIfAccessDenied();\n    var dataProviderProxy = useMemo(function () {\n        return new Proxy(dataProvider, {\n            get: function (target, name) {\n                if (typeof name === 'symbol' || name === 'then') {\n                    return;\n                }\n                return function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    var _a = getDataProviderCallArguments(args), resource = _a.resource, payload = _a.payload, allArguments = _a.allArguments, options = _a.options;\n                    var type = name.toString();\n                    var _b = options || {}, _c = _b.action, action = _c === void 0 ? 'CUSTOM_FETCH' : _c, _d = _b.undoable, undoable = _d === void 0 ? false : _d, _e = _b.onSuccess, onSuccess = _e === void 0 ? undefined : _e, _f = _b.onFailure, onFailure = _f === void 0 ? undefined : _f, _g = _b.mutationMode, mutationMode = _g === void 0 ? undoable ? 'undoable' : 'pessimistic' : _g, _h = _b.enabled, enabled = _h === void 0 ? true : _h, rest = __rest(_b, [\"action\", \"undoable\", \"onSuccess\", \"onFailure\", \"mutationMode\", \"enabled\"]);\n                    if (typeof dataProvider[type] !== 'function') {\n                        throw new Error(\"Unknown dataProvider function: \" + type);\n                    }\n                    if (onSuccess && typeof onSuccess !== 'function') {\n                        throw new Error('The onSuccess option must be a function');\n                    }\n                    if (onFailure && typeof onFailure !== 'function') {\n                        throw new Error('The onFailure option must be a function');\n                    }\n                    if (mutationMode === 'undoable' && !onSuccess) {\n                        throw new Error('You must pass an onSuccess callback calling notify() to use the undoable mode');\n                    }\n                    if (typeof enabled !== 'boolean') {\n                        throw new Error('The enabled option must be a boolean');\n                    }\n                    if (enabled === false) {\n                        return Promise.resolve({});\n                    }\n                    var params = {\n                        resource: resource,\n                        type: type,\n                        payload: payload,\n                        action: action,\n                        onFailure: onFailure,\n                        onSuccess: onSuccess,\n                        rest: rest,\n                        mutationMode: mutationMode,\n                        // these ones are passed down because of the rules of hooks\n                        dataProvider: dataProvider,\n                        store: store,\n                        dispatch: dispatch,\n                        logoutIfAccessDenied: logoutIfAccessDenied,\n                        allArguments: allArguments,\n                    };\n                    if (isOptimistic) {\n                        // When in optimistic mode, fetch calls aren't executed\n                        // right away. Instead, they are are stacked, to be\n                        // executed once the dataProvider leaves optimistic mode.\n                        // In the meantime, the admin uses data from the store.\n                        if (mutationMode === 'undoable' ||\n                            mutationMode === 'optimistic') {\n                            // optimistic and undoable calls are added to a\n                            // specific stack, as they must be replayed first\n                            stackOptimisticCall(params);\n                        }\n                        else {\n                            // pessimistic calls are added to the regular stack\n                            // and will be replayed last\n                            stackCall(params);\n                        }\n                        // Return a Promise that only resolves when the optimistic call was made\n                        // otherwise hooks like useQueryWithStore will return loaded = true\n                        // before the content actually reaches the Redux store.\n                        // But as we can't determine when this particular query was finished,\n                        // the Promise resolves only when *all* optimistic queries are done.\n                        return waitFor(function () { return getRemainingStackedCalls() === 0; });\n                    }\n                    else {\n                        return doQuery(params);\n                    }\n                };\n            },\n        });\n    }, [dataProvider, dispatch, isOptimistic, logoutIfAccessDenied, store]);\n    return dataProviderProxy;\n};\n// get a Promise that resolves after a delay in milliseconds\nvar later = function (delay) {\n    if (delay === void 0) { delay = 100; }\n    return new Promise(function (resolve) {\n        setTimeout(resolve, delay);\n    });\n};\n// get a Promise that resolves once a condition is satisfied\nvar waitFor = function (condition) {\n    return new Promise(function (resolve) {\n        return condition()\n            ? resolve()\n            : later().then(function () { return waitFor(condition).then(function () { return resolve(); }); });\n    });\n};\nexport default useDataProvider;\n","import { useSelector } from 'react-redux';\n/**\n * Get the UI version from the store\n *\n * The UI version is an integer incremented by the refresh button;\n * it serves to force running fetch hooks again.\n */\nvar useVersion = function () {\n    return useSelector(function (reduxState) { return reduxState.admin.ui.viewVersion; });\n};\nexport default useVersion;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { CRUD_GET_MANY_REFERENCE_SUCCESS, } from '../../../actions';\nimport { DELETE, DELETE_MANY } from '../../../core';\nvar initialState = {};\nvar oneToManyReducer = function (previousState, action) {\n    var _a;\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.meta && action.meta.optimistic) {\n        var relatedTo = getRelatedReferences(previousState, action.meta.resource);\n        if (action.meta.fetch === DELETE) {\n            return relatedTo.reduce(removeDeletedReferences([action.payload.id]), previousState);\n        }\n        if (action.meta.fetch === DELETE_MANY) {\n            return relatedTo.reduce(removeDeletedReferences(action.payload.ids), previousState);\n        }\n    }\n    switch (action.type) {\n        case CRUD_GET_MANY_REFERENCE_SUCCESS:\n            return __assign(__assign({}, previousState), (_a = {}, _a[action.meta.relatedTo] = {\n                ids: action.payload.data.map(function (record) { return record.id; }),\n                total: action.payload.total,\n            }, _a));\n        default:\n            return previousState;\n    }\n};\nexport var getIds = function (state, relatedTo) {\n    return state.admin.references.oneToMany[relatedTo] &&\n        state.admin.references.oneToMany[relatedTo].ids;\n};\nexport var getTotal = function (state, relatedTo) {\n    return state.admin.references.oneToMany[relatedTo] &&\n        state.admin.references.oneToMany[relatedTo].total;\n};\nexport var getReferences = function (state, reference, relatedTo) {\n    var ids = getIds(state, relatedTo);\n    if (typeof ids === 'undefined') {\n        return undefined;\n    }\n    if (!state.admin.resources[reference]) {\n        // eslint-disable-next-line no-console\n        console.error(\"Invalid Resource \\\"\" + reference + \"\\\"\\n\" +\n            (\"You are trying to display or edit a field of a resource called \\\"\" + reference + \"\\\", \") +\n            'but it has not been declared.\\n' +\n            \"Declare this resource in the Admin or check the 'reference' prop of ReferenceArrayField and ReferenceManyField.\", { ids: ids });\n    }\n    return ids\n        .map(function (id) {\n        var resource = state.admin.resources[reference];\n        if (!resource) {\n            return undefined;\n        }\n        return resource.data[id];\n    })\n        .filter(function (r) { return typeof r !== 'undefined'; })\n        .reduce(function (prev, record) {\n        prev[record.id] = record; // eslint-disable-line no-param-reassign\n        return prev;\n    }, {});\n};\nexport var getReferencesByIds = function (state, reference, ids) {\n    if (ids.length === 0) {\n        return {};\n    }\n    if (!state.admin.resources[reference]) {\n        // eslint-disable-next-line no-console\n        console.error(\"Invalid Resource \\\"\" + reference + \"\\\"\\n\" +\n            (\"You are trying to display or edit a field of a resource called \\\"\" + reference + \"\\\", \") +\n            'but it has not been declared.\\n' +\n            \"Declare this resource in the Admin or check the 'reference' prop of ReferenceArrayField.\", { ids: ids });\n    }\n    var references = ids\n        .map(function (id) {\n        var resource = state.admin.resources[reference];\n        if (!resource) {\n            return undefined;\n        }\n        return resource.data[id];\n    })\n        .filter(function (r) { return typeof r !== 'undefined'; })\n        .reduce(function (prev, record) {\n        prev[record.id] = record; // eslint-disable-line no-param-reassign\n        return prev;\n    }, {});\n    return Object.keys(references).length > 0 ? references : null;\n};\nvar getRelatedReferences = function (previousState, resource) { return Object.keys(previousState).filter(function (key) { return key.includes(resource); }); };\nvar removeDeletedReferences = function (removedIds) { return function (previousState, key) {\n    var _a;\n    var idsToKeep = previousState[key].ids.filter(function (id) { return !removedIds.includes(id); });\n    if (idsToKeep.length === previousState[key].ids.length) {\n        return previousState;\n    }\n    return __assign(__assign({}, previousState), (_a = {}, _a[key] = {\n        ids: idsToKeep,\n        total: idsToKeep.length,\n    }, _a));\n}; };\nexport var nameRelatedTo = function (reference, id, resource, target, filter) {\n    if (filter === void 0) { filter = {}; }\n    var keys = Object.keys(filter);\n    if (!keys.length) {\n        return resource + \"_\" + reference + \"@\" + target + \"_\" + id;\n    }\n    return resource + \"_\" + reference + \"@\" + target + \"_\" + id + \"?\" + keys\n        .map(function (key) { return key + \"=\" + JSON.stringify(filter[key]); })\n        .join('&');\n};\nexport default oneToManyReducer;\n","export default (function (condition, message) {\n    if (condition && process.env.NODE_ENV !== 'production') {\n        console.warn(message); // eslint-disable-line\n    }\n});\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { showNotification, } from '../actions/notificationActions';\nimport warning from '../util/warning';\n/**\n * Hook for Notification Side Effect\n *\n * @example\n *\n * const notify = useNotify();\n * // simple message (info level)\n * notify('Level complete');\n * // specify level\n * notify('A problem occurred', 'warning')\n * // pass arguments to the translation function\n * notify('Deleted %{count} elements', 'info', { smart_count: 23 })\n * // show the action as undoable in the notification\n * notify('Post renamed', 'info', {}, true)\n */\nvar useNotify = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (message, type, messageArgs, undoable, autoHideDuration, multiLine) {\n        if (messageArgs === void 0) { messageArgs = {}; }\n        if (undoable === void 0) { undoable = false; }\n        if (typeof type === 'string') {\n            warning(true, 'This way of calling useNotify callback is deprecated. Please use the new syntax passing notify(\"[Your message]\", { ...restOfArguments })');\n            dispatch(showNotification(message, (type || 'info'), {\n                messageArgs: messageArgs,\n                undoable: undoable,\n                autoHideDuration: autoHideDuration,\n                multiLine: multiLine,\n            }));\n        }\n        else {\n            var _a = type || {}, messageType = _a.type, options = __rest(_a, [\"type\"]);\n            dispatch(showNotification(message, messageType, options));\n        }\n    }, [dispatch]);\n};\nexport default useNotify;\n","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\nimport { clearState } from '../actions/clearActions';\nimport { useHistory } from 'react-router-dom';\n/**\n * Get a callback for calling the authProvider.logout() method,\n * redirect to the login page, and clear the Redux state.\n *\n * @see useAuthProvider\n *\n * @returns {Function} logout callback\n *\n * @example\n *\n * import { useLogout } from 'react-admin';\n *\n * const LogoutButton = () => {\n *     const logout = useLogout();\n *     const handleClick = () => logout();\n *     return <button onClick={handleClick}>Logout</button>;\n * }\n */\nvar useLogout = function () {\n    var authProvider = useAuthProvider();\n    var dispatch = useDispatch();\n    /**\n     * We need the current location to pass in the router state\n     * so that the login hook knows where to redirect to as next route after login.\n     *\n     * But if we used useLocation to get it, the logout function\n     * would be rebuilt each time the user changes location. Consequently, that\n     * would force a rerender of all components using this hook upon navigation\n     * (CoreAdminRouter for example).\n     *\n     * To avoid that, we read the location directly from history which is mutable.\n     * See: https://reacttraining.com/react-router/web/api/history/history-is-mutable\n     */\n    var history = useHistory();\n    var logout = useCallback(function (params, redirectTo, redirectToCurrentLocationAfterLogin) {\n        if (params === void 0) { params = {}; }\n        if (redirectTo === void 0) { redirectTo = defaultAuthParams.loginUrl; }\n        if (redirectToCurrentLocationAfterLogin === void 0) { redirectToCurrentLocationAfterLogin = true; }\n        return authProvider.logout(params).then(function (redirectToFromProvider) {\n            dispatch(clearState());\n            if (redirectToFromProvider === false) {\n                // do not redirect\n                return;\n            }\n            // redirectTo can contain a query string, e.g. '/login?foo=bar'\n            // we must split the redirectTo to pass a structured location to history.push()\n            var redirectToParts = (redirectToFromProvider || redirectTo).split('?');\n            var newLocation = {\n                pathname: redirectToParts[0],\n            };\n            if (redirectToCurrentLocationAfterLogin &&\n                history.location &&\n                history.location.pathname) {\n                newLocation.state = {\n                    nextPathname: history.location.pathname,\n                    nextSearch: history.location.search,\n                };\n            }\n            if (redirectToParts[1]) {\n                newLocation.search = redirectToParts[1];\n            }\n            history.push(newLocation);\n            return redirectToFromProvider;\n        });\n    }, [authProvider, history, dispatch]);\n    var logoutWithoutProvider = useCallback(function (_) {\n        history.push({\n            pathname: defaultAuthParams.loginUrl,\n            state: {\n                nextPathname: history.location && history.location.pathname,\n            },\n        });\n        dispatch(clearState());\n        return Promise.resolve();\n    }, [dispatch, history]);\n    return authProvider ? logout : logoutWithoutProvider;\n};\nexport default useLogout;\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\n// List of properties we expect in the options\nvar OptionsProperties = [\n    'action',\n    'fetch',\n    'meta',\n    'onFailure',\n    'onSuccess',\n    'undoable',\n    'mutationMode',\n    'enabled',\n];\nvar isDataProviderOptions = function (value) {\n    if (typeof value === 'undefined')\n        return [];\n    var options = value;\n    return Object.keys(options).some(function (key) { return OptionsProperties.includes(key); });\n};\n// As all dataProvider methods do not have the same signature, we must differentiate\n// standard methods which have the (resource, params, options) signature\n// from the custom ones\nexport var getDataProviderCallArguments = function (args) {\n    var lastArg = args[args.length - 1];\n    var allArguments = __spreadArray([], args, true);\n    var resource;\n    var payload;\n    var options;\n    if (isDataProviderOptions(lastArg)) {\n        options = lastArg;\n        allArguments = allArguments.slice(0, args.length - 1);\n    }\n    if (typeof allArguments[0] === 'string') {\n        resource = allArguments[0];\n        payload = allArguments[1];\n    }\n    return {\n        resource: resource,\n        payload: payload,\n        allArguments: allArguments,\n        options: options,\n    };\n};\n","import linkToRecord from './linkToRecord';\nexport default (function (redirectTo, basePath, id, data) {\n    if (typeof redirectTo === 'function') {\n        return redirectTo(basePath, id, data);\n    }\n    switch (redirectTo) {\n        case 'list':\n            return basePath;\n        case 'create':\n            return basePath + \"/create\";\n        case 'edit':\n            return linkToRecord(basePath, id);\n        case 'show':\n            return linkToRecord(basePath, id, 'show');\n        default:\n            return redirectTo;\n    }\n});\n","export default (function (basePath, id, linkType) {\n    if (linkType === void 0) { linkType = 'edit'; }\n    var link = basePath + \"/\" + encodeURIComponent(id);\n    if (linkType === 'show') {\n        return link + \"/show\";\n    }\n    return link;\n});\n","import { GET_MANY_REFERENCE } from '../../core';\nexport var crudGetManyReference = function (reference, target, id, relatedTo, pagination, sort, filter, source) { return ({\n    type: CRUD_GET_MANY_REFERENCE,\n    payload: { target: target, id: id, pagination: pagination, sort: sort, filter: filter, source: source },\n    meta: {\n        resource: reference,\n        relatedTo: relatedTo,\n        fetch: GET_MANY_REFERENCE,\n        onFailure: {\n            notification: {\n                body: 'ra.notification.http_error',\n                level: 'warning',\n            },\n        },\n    },\n}); };\nexport var CRUD_GET_MANY_REFERENCE = 'RA/CRUD_GET_MANY_REFERENCE';\nexport var CRUD_GET_MANY_REFERENCE_LOADING = 'RA/CRUD_GET_MANY_REFERENCE_LOADING';\nexport var CRUD_GET_MANY_REFERENCE_FAILURE = 'RA/CRUD_GET_MANY_REFERENCE_FAILURE';\nexport var CRUD_GET_MANY_REFERENCE_SUCCESS = 'RA/CRUD_GET_MANY_REFERENCE_SUCCESS';\n","export var FETCH_START = 'RA/FETCH_START';\nexport var fetchStart = function () { return ({ type: FETCH_START }); };\nexport var FETCH_END = 'RA/FETCH_END';\nexport var fetchEnd = function () { return ({ type: FETCH_END }); };\nexport var FETCH_ERROR = 'RA/FETCH_ERROR';\nexport var fetchError = function () { return ({ type: FETCH_ERROR }); };\nexport var FETCH_CANCEL = 'RA/FETCH_CANCEL';\nexport var fetchCancel = function () { return ({ type: FETCH_CANCEL }); };\n","import { useSelector } from 'react-redux';\nvar useIsAutomaticRefreshEnabled = function () {\n    var automaticRefreshEnabled = useSelector(function (state) { return state.admin.ui.automaticRefreshEnabled; });\n    return automaticRefreshEnabled;\n};\nexport default useIsAutomaticRefreshEnabled;\n","import { useMemo, useRef } from 'react';\nimport get from 'lodash/get';\nimport { useQueryWithStore } from './useQueryWithStore';\nvar defaultIds = [];\nvar defaultData = {};\n/**\n * Call the dataProvider.getList() method and return the resolved result\n * as well as the loading state.\n *\n * Uses a special cache to avoid showing an empty list while re-fetching the\n * list after changing params.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false, refetch }\n * - success: { data: [data from store], ids: [ids from response], total: [total from response], loading: false, loaded: true, refetch }\n * - error: { error: [error from response], loading: false, loaded: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {Object} pagination The request pagination { page, perPage }, e.g. { page: 1, perPage: 10 }\n * @param {Object} sort The request sort { field, order }, e.g. { field: 'id', order: 'DESC' }\n * @param {Object} filter The request filters, e.g. { title: 'hello, world' }\n * @param {Object} options Options object to pass to the dataProvider. May include side effects to be executed upon success or failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as { data, total, ids, error, loading, loaded, refetch }.\n *\n * @example\n *\n * import { useGetMainList } from 'react-admin';\n *\n * const LatestNews = () => {\n *     const { data, ids, loading, error } = useGetMainList(\n *         'posts',\n *         { page: 1, perPage: 10 },\n *         { field: 'published_at', order: 'DESC' }\n *     );\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <ul>{ids.map(id =>\n *         <li key={id}>{data[id].title}</li>\n *     )}</ul>;\n * };\n */\nexport var useGetMainList = function (resource, pagination, sort, filter, options) {\n    var requestSignature = JSON.stringify({ pagination: pagination, sort: sort, filter: filter });\n    var memo = useRef({});\n    var _a = useQueryWithStore({ type: 'getList', resource: resource, payload: { pagination: pagination, sort: sort, filter: filter } }, options, \n    // ids and data selector\n    function (state) {\n        var ids = get(state.admin.resources, [\n            resource,\n            'list',\n            'cachedRequests',\n            requestSignature,\n            'ids',\n        ]); // default value undefined\n        var total = get(state.admin.resources, [\n            resource,\n            'list',\n            'cachedRequests',\n            requestSignature,\n            'total',\n        ]); // default value undefined\n        // When the user changes the page/sort/filter, the list of ids from\n        // the cached requests is empty. To avoid rendering an empty list\n        // at that moment, we override the ids and total with the latest\n        // loaded ones.\n        var mainIds = get(state.admin.resources, [\n            resource,\n            'list',\n            'ids',\n        ]); // default value [] (see list.ids reducer)\n        // Since the total can be empty during the loading phase\n        // We need to override that total with the latest loaded one\n        var mainTotal = get(state.admin.resources, [\n            resource,\n            'list',\n            'total',\n        ]); // default value null (see list.total reducer)\n        // Is [] for a page that was never loaded\n        var finalIds = typeof ids === 'undefined' ? mainIds : ids;\n        // Is null for a page that was never loaded.\n        var finalTotal = typeof total === 'undefined' ? mainTotal : total;\n        var allRecords = get(state.admin.resources, [resource, 'data'], defaultData);\n        // poor man's useMemo inside a hook using a ref\n        if (memo.current.finalIds !== finalIds ||\n            memo.current.finalTotal !== finalTotal ||\n            memo.current.allRecords !== allRecords) {\n            var result = {\n                finalIds: finalIds,\n                finalTotal: finalTotal,\n                allRecords: allRecords,\n            };\n            memo.current = { finalIds: finalIds, finalTotal: finalTotal, allRecords: allRecords, result: result };\n        }\n        return memo.current.result;\n    }, function () { return null; }, isDataLoaded), _b = _a.data, finalIds = _b.finalIds, finalTotal = _b.finalTotal, allRecords = _b.allRecords, error = _a.error, loading = _a.loading, loaded = _a.loaded, refetch = _a.refetch;\n    var data = useMemo(function () {\n        return typeof finalIds === 'undefined'\n            ? defaultData\n            : finalIds\n                .map(function (id) { return allRecords[id]; })\n                .reduce(function (acc, record) {\n                if (!record)\n                    return acc;\n                acc[record.id] = record;\n                return acc;\n            }, {});\n    }, [finalIds, allRecords]);\n    return {\n        data: data,\n        ids: typeof finalIds === 'undefined' ? defaultIds : finalIds,\n        total: finalTotal,\n        error: error,\n        loading: loading,\n        loaded: loaded,\n        refetch: refetch,\n    };\n};\nvar isDataLoaded = function (data) { return data.finalTotal != null; }; // null or undefined\n","import { createContext } from 'react';\nvar DataProviderContext = createContext(null);\nDataProviderContext.displayName = 'DataProviderContext';\nexport default DataProviderContext;\n","import EventEmitter from 'eventemitter3';\nexport default new EventEmitter();\n","import { useMemo } from 'react';\nimport get from 'lodash/get';\nimport { useQueryWithStore } from './useQueryWithStore';\nvar defaultPagination = { page: 1, perPage: 25 };\nvar defaultSort = { field: 'id', order: 'DESC' };\nvar defaultFilter = {};\nvar defaultIds = [];\nvar defaultData = {};\n/**\n * Call the dataProvider.getList() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false, refetch }\n * - success: { data: [data from store], ids: [ids from response], total: [total from response], loading: false, loaded: true, refetch }\n * - error: { error: [error from response], loading: false, loaded: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {Object} pagination The request pagination { page, perPage }, e.g. { page: 1, perPage: 10 }\n * @param {Object} sort The request sort { field, order }, e.g. { field: 'id', order: 'DESC' }\n * @param {Object} filter The request filters, e.g. { title: 'hello, world' }\n * @param {Object} options Options object to pass to the dataProvider.\n * @param {boolean} options.enabled Flag to conditionally run the query. If it's false, the query will not run\n * @param {Function} options.onSuccess Side effect function to be executed upon success, e.g. { onSuccess: { refresh: true } }\n * @param {Function} options.onFailure Side effect function to be executed upon failure, e.g. { onFailure: error => notify(error.message) }\n *\n * @returns The current request state. Destructure as { data, total, ids, error, loading, loaded, refetch }.\n *\n * @example\n *\n * import { useGetList } from 'react-admin';\n *\n * const LatestNews = () => {\n *     const { data, ids, loading, error } = useGetList(\n *         'posts',\n *         { page: 1, perPage: 10 },\n *         { field: 'published_at', order: 'DESC' }\n *     );\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <ul>{ids.map(id =>\n *         <li key={id}>{data[id].title}</li>\n *     )}</ul>;\n * };\n */\nvar useGetList = function (resource, pagination, sort, filter, options) {\n    if (pagination === void 0) { pagination = defaultPagination; }\n    if (sort === void 0) { sort = defaultSort; }\n    if (filter === void 0) { filter = defaultFilter; }\n    var requestSignature = JSON.stringify({ pagination: pagination, sort: sort, filter: filter });\n    var _a = useQueryWithStore({ type: 'getList', resource: resource, payload: { pagination: pagination, sort: sort, filter: filter } }, options, \n    // ids and data selector\n    function (state) { return ({\n        ids: get(state.admin.resources, [resource, 'list', 'cachedRequests', requestSignature, 'ids'], null),\n        allRecords: get(state.admin.resources, [resource, 'data'], defaultData),\n    }); }, \n    // total selector (may return undefined)\n    function (state) {\n        return get(state.admin.resources, [\n            resource,\n            'list',\n            'cachedRequests',\n            requestSignature,\n            'total',\n        ]);\n    }, isDataLoaded), _b = _a.data, ids = _b.ids, allRecords = _b.allRecords, total = _a.total, error = _a.error, loading = _a.loading, loaded = _a.loaded, refetch = _a.refetch;\n    var data = useMemo(function () {\n        return ids === null\n            ? defaultData\n            : ids\n                .map(function (id) { return allRecords[id]; })\n                .reduce(function (acc, record) {\n                if (!record)\n                    return acc;\n                acc[record.id] = record;\n                return acc;\n            }, {});\n    }, [ids, allRecords]);\n    return {\n        data: data,\n        ids: ids === null ? defaultIds : ids,\n        total: total,\n        error: error,\n        loading: loading,\n        loaded: loaded,\n        refetch: refetch,\n    };\n};\nvar isDataLoaded = function (data) { return data.ids !== null; };\nexport default useGetList;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexport var SHOW_NOTIFICATION = 'RA/SHOW_NOTIFICATION';\n/**\n * Shows a snackbar/toast notification on the screen\n *\n * @see {@link https://v4.mui.com/api/snackbar/|Material ui snackbar component}\n * @see {@link https://material.io/guidelines/components/snackbars-toasts.html|Material ui reference document on snackbar}\n */\nexport var showNotification = function (\n// A translatable label or text to display on notification\nmessage, \n// The type of the notification\ntype, \n// Specify additional parameters of notification\nnotificationOptions) {\n    if (type === void 0) { type = 'info'; }\n    return ({\n        type: SHOW_NOTIFICATION,\n        payload: __assign(__assign({}, notificationOptions), { type: type, message: message }),\n    });\n};\nexport var HIDE_NOTIFICATION = 'RA/HIDE_NOTIFICATION';\nexport var hideNotification = function () { return ({\n    type: HIDE_NOTIFICATION,\n}); };\nexport var RESET_NOTIFICATION = 'RA/RESET_NOTIFICATION';\nexport var resetNotification = function () { return ({\n    type: RESET_NOTIFICATION,\n}); };\n","import { createContext } from 'react';\nvar defaultIdentity = { id: '' };\nvar defaultProvider = {\n    login: function () { return Promise.resolve(); },\n    logout: function () { return Promise.resolve(); },\n    checkAuth: function () { return Promise.resolve(); },\n    checkError: function () { return Promise.resolve(); },\n    getPermissions: function () { return Promise.resolve(); },\n    getIdentity: function () { return Promise.resolve(defaultIdentity); },\n};\nvar AuthContext = createContext(defaultProvider);\nAuthContext.displayName = 'AuthContext';\nexport default AuthContext;\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nexport var GET_LIST = 'GET_LIST';\nexport var GET_ONE = 'GET_ONE';\nexport var GET_MANY = 'GET_MANY';\nexport var GET_MANY_REFERENCE = 'GET_MANY_REFERENCE';\nexport var CREATE = 'CREATE';\nexport var UPDATE = 'UPDATE';\nexport var UPDATE_MANY = 'UPDATE_MANY';\nexport var DELETE = 'DELETE';\nexport var DELETE_MANY = 'DELETE_MANY';\nexport var fetchActionsWithRecordResponse = ['getOne', 'create', 'update'];\nexport var fetchActionsWithArrayOfIdentifiedRecordsResponse = [\n    'getList',\n    'getMany',\n    'getManyReference',\n];\nexport var fetchActionsWithArrayOfRecordsResponse = __spreadArray(__spreadArray([], fetchActionsWithArrayOfIdentifiedRecordsResponse, true), [\n    'updateMany',\n    'deleteMany',\n], false);\nexport var fetchActionsWithTotalResponse = ['getList', 'getManyReference'];\nexport var sanitizeFetchType = function (fetchType) {\n    switch (fetchType) {\n        case GET_LIST:\n            return 'getList';\n        case GET_ONE:\n            return 'getOne';\n        case GET_MANY:\n            return 'getMany';\n        case GET_MANY_REFERENCE:\n            return 'getManyReference';\n        case CREATE:\n            return 'create';\n        case UPDATE:\n            return 'update';\n        case UPDATE_MANY:\n            return 'updateMany';\n        case DELETE:\n            return 'delete';\n        case DELETE_MANY:\n            return 'deleteMany';\n        default:\n            return fetchType;\n    }\n};\n","import { useContext } from 'react';\nimport AuthContext from './AuthContext';\nexport var defaultAuthParams = {\n    loginUrl: '/login',\n    afterLoginUrl: '/',\n};\n/**\n * Get the authProvider stored in the context\n */\nvar useAuthProvider = function () { return useContext(AuthContext); };\nexport default useAuthProvider;\n","export var TOGGLE_SIDEBAR = 'RA/TOGGLE_SIDEBAR';\nexport var toggleSidebar = function () { return ({\n    type: TOGGLE_SIDEBAR,\n}); };\nexport var SET_SIDEBAR_VISIBILITY = 'RA/SET_SIDEBAR_VISIBILITY';\nexport var setSidebarVisibility = function (isOpen) { return ({\n    type: SET_SIDEBAR_VISIBILITY,\n    payload: isOpen,\n}); };\nexport var REFRESH_VIEW = 'RA/REFRESH_VIEW';\nexport var refreshView = function (hard) { return ({\n    type: REFRESH_VIEW,\n    payload: { hard: hard },\n}); };\nexport var SET_AUTOMATIC_REFRESH = 'RA/SET_AUTOMATIC_REFRESH';\nexport var setAutomaticRefresh = function (enabled) { return ({\n    type: SET_AUTOMATIC_REFRESH,\n    payload: enabled,\n}); };\n","import { GET_LIST, GET_ONE, GET_MANY, GET_MANY_REFERENCE, CREATE, UPDATE, UPDATE_MANY, DELETE, DELETE_MANY, } from '../core';\n/**\n * Get a fetch type for a data provider verb.\n *\n * The fetch type is used in reducers.\n *\n * @example getFetchType('getMany'); // 'GET_MANY'\n */\nexport default (function (actionType) {\n    switch (actionType) {\n        case 'getList':\n            return GET_LIST;\n        case 'getOne':\n            return GET_ONE;\n        case 'getMany':\n            return GET_MANY;\n        case 'getManyReference':\n            return GET_MANY_REFERENCE;\n        case 'create':\n            return CREATE;\n        case 'update':\n            return UPDATE;\n        case 'updateMany':\n            return UPDATE_MANY;\n        case 'delete':\n            return DELETE;\n        case 'deleteMany':\n            return DELETE_MANY;\n        default:\n            return actionType;\n    }\n});\n","import { useState, useRef, useEffect, useCallback } from 'react';\nimport isEqual from 'lodash/isEqual';\n// thanks Kent C Dodds for the following helpers\nexport function useSafeSetState(initialState) {\n    var _a = useState(initialState), state = _a[0], setState = _a[1];\n    var mountedRef = useRef(false);\n    useEffect(function () {\n        mountedRef.current = true;\n        return function () {\n            mountedRef.current = false;\n        };\n    }, []);\n    var safeSetState = useCallback(function (args) {\n        if (mountedRef.current) {\n            return setState(args);\n        }\n    }, [mountedRef, setState]);\n    return [state, safeSetState];\n}\nexport function usePrevious(value) {\n    var ref = useRef();\n    useEffect(function () {\n        ref.current = value;\n    });\n    return ref.current;\n}\nexport function useDeepCompareEffect(callback, inputs) {\n    var cleanupRef = useRef();\n    useEffect(function () {\n        if (!isEqual(previousInputs, inputs)) {\n            cleanupRef.current = callback();\n        }\n        return cleanupRef.current;\n    });\n    var previousInputs = usePrevious(inputs);\n}\nexport function useTimeout(ms) {\n    if (ms === void 0) { ms = 0; }\n    var _a = useState(false), ready = _a[0], setReady = _a[1];\n    useEffect(function () {\n        var timer = setTimeout(function () {\n            setReady(true);\n        }, ms);\n        return function () {\n            clearTimeout(timer);\n        };\n    }, [ms]);\n    return ready;\n}\n","export var UNDOABLE = 'RA/UNDOABLE';\nexport var startUndoable = function (action) { return ({\n    type: UNDOABLE,\n    payload: { action: action },\n}); };\nexport var UNDO = 'RA/UNDO';\nexport var undo = function () { return ({\n    type: UNDO,\n}); };\nexport var COMPLETE = 'RA/COMPLETE';\nexport var complete = function () { return ({\n    type: COMPLETE,\n}); };\nexport var START_OPTIMISTIC_MODE = 'RA/START_OPTIMISTIC_MODE';\nexport var startOptimisticMode = function () { return ({\n    type: START_OPTIMISTIC_MODE,\n}); };\nexport var STOP_OPTIMISTIC_MODE = 'RA/STOP_OPTIMISTIC_MODE';\nexport var stopOptimisticMode = function () { return ({\n    type: STOP_OPTIMISTIC_MODE,\n}); };\n","export var CRUD_CHANGE_LIST_PARAMS = 'RA/CRUD_CHANGE_LIST_PARAMS';\nexport var changeListParams = function (resource, params) { return ({\n    type: CRUD_CHANGE_LIST_PARAMS,\n    payload: params,\n    meta: { resource: resource },\n}); };\nexport var SET_LIST_SELECTED_IDS = 'RA/SET_LIST_SELECTED_IDS';\nexport var setListSelectedIds = function (resource, ids) { return ({\n    type: SET_LIST_SELECTED_IDS,\n    payload: ids,\n    meta: { resource: resource },\n}); };\nexport var TOGGLE_LIST_ITEM = 'RA/TOGGLE_LIST_ITEM';\nexport var toggleListItem = function (resource, id) { return ({\n    type: TOGGLE_LIST_ITEM,\n    payload: id,\n    meta: { resource: resource },\n}); };\nexport var TOGGLE_LIST_ITEM_EXPAND = 'RA/TOGGLE_LIST_ITEM_EXPAND';\n/**\n * Action creator to toggle the expanded state of a list item\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {string|integer} id The record identifier, e.g. 123\n *\n * @example\n *\n * const onToggleItem = () => dispatch(toggleListItemExpand('posts', 123));\n */\nexport var toggleListItemExpand = function (resource, id) { return ({\n    type: TOGGLE_LIST_ITEM_EXPAND,\n    payload: id,\n    meta: { resource: resource },\n}); };\n"],"sourceRoot":""}